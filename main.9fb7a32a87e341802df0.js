!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";e.exports=n(27)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5)),r(n(38)),r(n(16)),r(n(7)),r(n(17)),r(n(39)),r(n(15)),r(n(40)),r(n(41)),r(n(42)),r(n(18)),r(n(43)),r(n(44)),r(n(45)),r(n(2)),r(n(46)),r(n(20)),r(n(47)),r(n(21)),r(n(48)),r(n(49)),r(n(50)),r(n(22)),r(n(51)),r(n(52)),r(n(53)),r(n(54)),r(n(19)),r(n(8))},function(e,t,n){"use strict";function*r(e,t){let n=0;for(const r of e)yield t(r,n),++n}function i(e,t,n){let r=n,i=0;for(const n of e)r=t(r,n,i),++i;return r}function*o(e,t){let n=0;for(const r of e){if(n>=t)break;yield r,++n}}function a(e,t){let n=0;for(const r of e){if(!t(r,n))return!1;++n}return!0}function s(e,t){let n=0;for(const r of e){if(t(r,n))return!0;++n}return!1}function u(e,t){let n=0;for(const r of e){if(!t(r,n))return;++n}}function*l(e,t){let n=0;for(const r of e)t(r,n)&&(yield r),++n}function*c(e,t){let n,r=!0;for(const i of e)r?(r=!1,n=i):(yield t(n,i),n=i)}function f(e){let t=0;for(const n of e)++t;return t}function h(e){return d(e).take(1).collect()[0]}function d(e){return{collect:()=>Array.from(e),count:()=>f(e),every:t=>a(e,t),filter:t=>d(l(e,t)),forEach:t=>u(e,t),inject:()=>h(e),map:t=>d(r(e,t)),pin:t=>d(c(e,t)),reduce:(t,n)=>i(e,t,n),some:t=>s(e,t),take:t=>d(o(e,t)),*[Symbol.iterator](){for(const t of e)yield t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toIt=d;class p{constructor(){this.collect=()=>Array.from(this),this.count=()=>f(this),this.inject=()=>h(this),this.map=e=>d(r(this,e)),this.pin=e=>d(c(this,e)),this.reduce=(e,t)=>i(this,e,t),this.some=e=>s(this,e),this.every=e=>a(this,e),this.filter=e=>d(l(this,e)),this.forEach=e=>u(this,e),this.take=e=>d(o(this,e))}*[Symbol.iterator](){for(const e of this.iterate())yield e}get isEmpty(){return 0===this.size}}t.MyIterable=p,t.genBy=function(e){return d(function*(){for(let t=0;;t++)yield e(t)}())},t.repeat=function(e){return d(function*(){for(;;)yield e}())},t.combine=function(...e){return d(function*(e){for(const t of e)for(const e of t)yield e}(e))}},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f=Math.round,h=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var g=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=v((function(e,t){return g(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function x(e,t){return void 0===e?t:e}function k(e,t,n){y(P(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){y(P(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];I(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function M(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}}var z=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var j="ontouchstart"in i,R=void 0!==M(i,"PointerEvent"),N=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],L=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function B(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,a=12&t&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=q(t));i>1&&!n.firstMultiple?n.firstMultiple=q(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=W(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=$(s,u),t.distance=V(s,u),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=H(t.deltaX,t.deltaY);var l=K(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,t.scale=a?(c=a.pointers,f=r,V(f[0],f[1],L)/V(c[0],c[1],L)):1,t.rotation=a?function(e,t){return $(t[1],t[0],L)+$(e[1],e[0],L)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var u=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=K(s,u,l);r=c.x,i=c.y,n=h(c.x)>h(c.y)?c.x:c.y,o=H(u,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var c,f;var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function K(e,t,n){return{x:t/e||0,y:n/e||0}}function H(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function V(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function $(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}w(Q,U,{handler:function(e){var t=G[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Z="pointermove pointerup pointercancel";function ee(){this.evEl=J,this.evWin=Z,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),w(ee,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Y[r],o=X[e.pointerType]||e.pointerType,a="touch"==o,s=I(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function re(e,t){var n=A(e.touches),r=A(e.changedTouches);return 12&t&&(n=O(n.concat(r),"identifier",!0)),[n,r]}w(ne,U,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function ae(e,t){var n=A(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=A(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return T(e.target,u)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[O(o.concat(s),"identifier",!0),s]:void 0}w(oe,U,{handler:function(e){var t=ie[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){U.apply(this,arguments);var e=_(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new Q(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ue(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}w(se,U,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ue.call(this,t,n);else if(i&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fe=M(c.style,"touchAction"),he=void 0!==fe,de=function(){if(!he)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&de[e]&&(this.manager.element.style[fe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,"none"))return"none";var t=C(e,"pan-x"),n=C(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(C(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,"none")&&!de.none,o=C(r,"pan-y")&&!de["pan-y"],a=C(r,"pan-x")&&!de["pan-x"];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function me(e){this.options=u({},this.defaults,e||{}),this.id=z++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ye(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ge(e,t){var n=t.manager;return n?n.get(e):e}function be(){me.apply(this,arguments)}function we(){be.apply(this,arguments),this.pX=null,this.pY=null}function _e(){be.apply(this,arguments)}function Ee(){me.apply(this,arguments),this._timer=null,this._input=null}function xe(){be.apply(this,arguments)}function ke(){be.apply(this,arguments)}function Se(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Te(e,t){return(t=t||{}).recognizers=x(t.recognizers,Te.defaults.preset),new Ce(e,t)}me.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=ge(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ge(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ye(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ye(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(be,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),w(we,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(_e,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Ee,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(xe,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(ke,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Se,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||V(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Te.VERSION="2.0.7",Te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xe,{enable:!1}],[_e,{enable:!1},["rotate"]],[ke,{direction:6}],[we,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[Ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ce(e,t){var n;this.options=u({},Te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(R?ee:N?oe:j?se:Q))(n,B),this.touchAction=new pe(this,this.options.touchAction),Pe(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Pe(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,o){n=M(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ce.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return y(P(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return y(P(e),(function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Pe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Te,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ce,Input:U,TouchAction:pe,TouchInput:oe,MouseInput:Q,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:me,AttrRecognizer:be,Tap:Se,Pan:we,Swipe:ke,Pinch:_e,Rotate:xe,Press:Ee,on:k,off:S,each:y,merge:b,extend:g,assign:u,inherit:w,bindFn:_,prefixed:M}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Te,void 0===(r=function(){return Te}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(e){super(),this.cmp=e,this.arr=[],this.pop=()=>{const e=a(this.arr,this.arr.length,this.cmp),t=this.arr.pop();return console.assert(e===t),e},this.reverseSort=()=>{const e=this.arr;this.arr=[];for(let t=e.length;t>0;t--)a(e,t,this.cmp);return e},this.sortInPlace=()=>{const e=this.reverseSort();let t=0,n=e.length-1;for(;t<n;)o(e,t,n),++t,--n;return e},this.sort=()=>{const e=this.sortHelper();return r.toIt(e)},this.add=e=>{const t=this.arr.length;this.arr.push(e),function(e,t,n){console.assert(t===e.length-1);let r=t;for(;r>0;){const t=(i=r,Math.floor((i+1)/2)-1);n(e[r],e[t])<0&&o(e,r,t),r=t}var i}(this.arr,t,this.cmp)},this.iterate=()=>this.sortHelper(),this.sortHelper=()=>function*(e,t){const n=e;let r=a(n,n.length,t);for(;void 0!==r;)yield n.pop(),r=a(n,n.length,t)}(this.arr.slice(),this.cmp)}static heapify(e,...t){return i.inPlaceWrap(e,t)}static inPlaceWrap(e,t){return i.unsafeWrap(function(e,t){for(let n=Math.floor((e.length-1)/2);n>=0;n--)s(e,n,e.length,t);return e}(t,e),e)}static unsafeWrap(e,t){const n=new i(t);return n.arr=e,n}get size(){return this.arr.length}get top(){return this.isEmpty?void 0:this.arr[0]}}function o(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function a(e,t,n){const r=t-1;if(0===t)return;if(1===t)return e[r];const i=e[0];return o(e,0,r),s(e,0,r,n),i}function s(e,t,n,r){const i=e[t];let a=t;for(;;){let t=2*a+1;if(t>=n)break;const s=e[t],u=t+1;if(u<n&&r(e[u],s)<0&&(t=u),r(i,e[t])<0)break;o(e,a,t),a=t}}t.MinHeap=i},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(28)},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(;i<=o;){const a=Math.floor((i+o)/2),s=r(n(e[a]),t);if(s<0)i=a+1;else{if(!(s>0))return[!0,a,i,o];o=a-1}}return[!1,i,i,o]}function i(e,t,n,i,o,a){let s=o,u=a;for(;;){const o=s-1,[a,l,c]=r(e,t,n,i,u,o);if(!a)return s;console.assert(l<=o),s=l,u=c}}function o(e,t,n,i,o,a){let s=o,u=a;for(;;){const o=s+1,[a,l,,c]=r(e,t,n,i,o,u);if(!a)return s;console.assert(l>=o),s=l,u=c}}function a(e,t,n,o){{const[a,s,u]=r(e,t,n,o,0,e.length-1);return a?i(e,t,n,o,s,u):s}}function s(e,t,n,i){{const[a,s,,u]=r(e,t,n,i,0,e.length-1);return a?o(e,t,n,i,s,u):s}}function u(e,t,n,a){{const[s,u,l,c]=r(e,t,n,a,0,e.length-1);if(!s)return;return[i(e,t,n,a,u,l),o(e,t,n,a,u,c)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.lowerBound=a,t.upperBound=s,t.binarySearch=u,t.binarySearchExist=function(e,t,n,i){const[o]=r(e,t,n,i,0,e.length-1);return o},t.binaryInsert=function(e,t,n,r){const i=a(e,n(t),n,r),o=e.splice(i,0,t);return console.assert(0===o.length),e},t.binaryDelete=function(e,t,n,r){const i=u(e,t,n,r);if(void 0!==i){const[t,n]=i,r=n-t+1;e.splice(t,r)}return e},t.range=function(e,t,n,r,i){if(0===e.length)return;let o,l;const c=i(t,n);if(c<0)o=t,l=n;else{if(!(c>0))return u(e,t,r,i);o=n,l=t}const f=a(e,o,r,i),h=s(e,l,r,i);return console.assert(f<=h),[f,h]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePair=function(e,t){return[e,t]}},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";var r=n(9),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!(o[v]||r&&r[v]||m&&m[v]||s&&s[v])){var g=h(n,v);try{l(t,v,g)}catch(e){}}}}return t}},function(e,t,n){"use strict";(function(e,r){var i,o=n(23);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(4),n(35)(e))},function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},u="",l="",c="",f=2,h=3,d=2,p=[],m=0,y=0;for(o=0;o<e.length;o+=1)if(u=e.charAt(o),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=h++,s[u]=!0),l=c+u,Object.prototype.hasOwnProperty.call(a,l))c=l;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,y==t-1?(y=0,p.push(n(m)),m=0):y++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1;0==--f&&(f=Math.pow(2,d),d++),a[l]=h++,c=String(u)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,y==t-1?(y=0,p.push(n(m)),m=0):y++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)m=m<<1|1&i,y==t-1?(y=0,p.push(n(m)),m=0):y++,i>>=1;for(;;){if(m<<=1,y==t-1){p.push(n(m));break}y++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,a,s,u,l,c,f=[],h=4,d=4,p=3,m="",y=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;for(a=0,u=Math.pow(2,2),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;c=e(a);break;case 1:for(a=0,u=Math.pow(2,16),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;c=e(a);break;case 2:return""}for(f[3]=c,o=c,y.push(c);;){if(v.index>t)return"";for(a=0,u=Math.pow(2,p),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;switch(c=a){case 0:for(a=0,u=Math.pow(2,8),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;f[d++]=e(a),c=d-1,h--;break;case 1:for(a=0,u=Math.pow(2,16),l=1;l!=u;)s=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),a|=(s>0?1:0)*l,l<<=1;f[d++]=e(a),c=d-1,h--;break;case 2:return y.join("")}if(0==h&&(h=Math.pow(2,p),p++),f[c])m=f[c];else{if(c!==d)return null;m=o+o.charAt(0)}y.push(m),f[d++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(7);t.mergeK=function(e,t,...n){const o=n.filter(e=>e.length>0);switch(o.length){case 0:return[];case 1:return o[0].slice();case 2:const n=o[0],r=o[1];return 1===n.length?i.binaryInsert(r.slice(),n[0],e,t):1===r.length?i.binaryInsert(n.slice(),r[0],e,t):Array.from(function(e,t,n,r){console.assert(e.length>0&&t.length>0);let i=0,o=0;const a=[];for(;;){const s=e[i],u=t[o];if(r(n(s),n(u))<0?(a.push(s),++i):(a.push(u),++o),i===e.length)return o<t.length?a.concat(t.slice(o)):a;if(o===t.length)return i<e.length?a.concat(e.slice(i)):a}}(n,r,e,t))}const a=r.MinHeap.inPlaceWrap(([n,r],[i,o])=>t(e(n[r]),e(i[o])),o.map((e,t)=>[o[t],0])),s=[];for(;;){const[e,t]=a.pop();s.push(e[t]);const n=t+1;if(0===a.size)return n<e.length?s.concat(e.slice(n)):s;n<e.length&&a.add([e,n])}}},function(e,t,n){"use strict";function r(e,t){let n,r;return e>t?(n=t,r=e):(n=e,r=t),[n,r]}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){const[i,o]=r(t,n);return Math.min(o,Math.max(i,e))},t.defaultZero=function(e){return void 0===e?0:e},t.position=function(e,t,n){const[i,o]=r(t,n),a=e-i,s=o-i;return a<0?0:0===s?1:Math.min(1,a/s)}},function(e,t,n){"use strict";function r(e,t,n){const[r]=i(e,t,n);return r}function i(e,t,n){let r=0;for(;;){if(r===t.length)return r===n.length?[0,void 0]:[-1,r];if(r===n.length)return[1,r];const i=e(t[r],n[r]);if(0!==i)return[i,r];++r}}Object.defineProperty(t,"__esModule",{value:!0}),t.cmpList=r,t.listEqual=function(e,t,n){return 0===r(e,t,n)},t.listDiff=function(e,t,n){const[,r]=i(e,t,n);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);function*i(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,i]=n.pop();if(!r.has(e)){yield[e,i],r.add(e);const o=i+1;for(const r of t(e))n.push([r,o])}}}t.dfsPreOrder=function(e,t){return r.toIt(i(e,t))},t.dfsPreOrderHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(){super(...arguments),this.toId=new Map,this.parents=new Map,this.id=0,this.union=(...e)=>{if(e.length>0){const t=e[0];for(let n=1;n<e.length;n++){const r=e[n];this.union2(t,r)}}return this},this.isSameSet=(e,t)=>{if(console.assert(void 0!==e),console.assert(void 0!==t),e===t)return!0;const n=this.find(e);if(void 0===n)return!1;const r=this.find(t);if(void 0===r)return!1;const[i]=n,[o]=r;return i===o},this.tear=(...e)=>{for(const t of e)this.toId.delete(t)&&(this.memoizedSets=void 0,this.add(t));return this.recycle(),this},this.delete=e=>{const t=this.toId.delete(e);return t&&(this.memoizedSets=void 0),this.recycle(),t},this.clone=()=>{const e=new i;return e.toId=new Map(this.toId),e.parents=new Map(this.parents),e.id=this.id,e},this.deleteSets=(...e)=>{let t=!1;for(const n of e)for(const e of this.get(n)){const n=this.toId.get(e);this.parents.delete(n),this.toId.delete(e),t=!0}t&&(this.memoizedSets=void 0),this.recycle()},this.has=e=>void 0!==this.find(e),this.iterate=()=>(void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate()),this.memoizedSets.values()),this.aggregate=()=>{const e=new Map;for(const[t,n]of this.toId){const[r]=this.findInner(n),i=e.get(r);void 0===i?e.set(r,new Set([t])):i.add(t)}return e},this.findMut=e=>{const t=this.toId.get(e);return void 0===t?this.add(e):this.findInner(t)},this.union2=(e,t)=>{console.assert(void 0!==e),console.assert(void 0!==t),this.memoizedSets=void 0;const[n,r]=this.findMut(e),[i,o]=this.findMut(t);return n===i||(r<o?this.parents.set(n,[i,r]):r>o?this.parents.set(i,[n,o]):this.parents.set(n,[i,o+1]),this.recycle()),this},this.recycle=()=>{if(this.garbageRatio<2)return;this.memoizedSets=void 0;const e=new i;for(const t of this){const n=t.values().next().value;console.assert(void 0!==n);for(const r of t)e.union(n,r)}this.toId=e.toId,this.parents=e.parents,this.id=e.id},this.add=e=>{console.assert(void 0===this.toId.get(e)),this.memoizedSets=void 0;const t=++this.id;this.toId.set(e,t);const n=[t,0];return this.parents.set(t,n),n},this.find=e=>{const t=this.toId.get(e);if(void 0!==t)return this.findInner(t)},this.findInner=e=>{const t=[];let n=e;for(;;){const[e,r]=this.parents.get(n);if(n===e){for(const n of t)this.parents.set(n,[e,r]);return[e,r]}t.push(n),n=e}}}get size(){return this.toId.size}get(e){return r.toIt(this.getHelper(e))}*getHelper(e){const t=this.find(e);if(void 0===t)return;const[n]=t;void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate());const r=this.memoizedSets.get(n);if(void 0!==r)for(const e of r)yield e}get structureSize(){return this.parents.size}get garbageRatio(){return 0===this.size?0:this.structureSize/this.size}}t.UnionFind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.fullOuterJoin=function(e,...t){return r.combine(...t.map(e=>e.keys())).reduce((n,r)=>{const i=e(...t.map(e=>e.get(r)).filter(e=>void 0!==e));return n.set(r,i)},new Map)},t.leftJoin=function(e,t,...n){const i=new Map;for(const o of t.keys()){const t=r.toIt(n).map(e=>e.get(o)).filter(e=>void 0!==e).collect();i.set(o,e(...t))}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),i=n(2),o=n(8);function*a(e){const t=r.dfsPreOrder(e,e=>e.next.values()),n=[];let i=0;for(const[e,r]of t){const t=i-r;for(let e=0;e<t;e++)n.pop(),i--;void 0!==e.keyChar?n.push(e.keyChar):console.assert(0===r),++i,void 0!==e.val&&(yield o.makePair(n.slice(),e.val))}}class s extends i.MyIterable{constructor(...e){super(),this.root={next:new Map},this.trieSize=0,this.get=e=>{const t=this.traverse(e);return void 0===t?void 0:t.val},this.has=e=>void 0!==this.get(e),this.delete=e=>{const t=[],n=this.traverse(e,(e,n)=>t.push([e,n]));if(void 0===n||void 0===n.val)return!1;--this.trieSize;let r=n;for(let e=t.length-1;e>=0&&0===r.next.size;e--){const[n,i]=t[e];console.assert(i.next.size>0),i.next.delete(n),r=i}return!0},this.set=(e,t)=>{let n=this.root;return e.forEach(e=>{if(void 0===e)throw new Error("undefined not allowed as part of the key");let t=n.next.get(e);void 0===t&&(t={next:new Map},n.next.set(e,t)),t.keyChar=e,n=t}),n.val=t,++this.trieSize,this},this.getOrSet=(e,t)=>{let n=this.root;if(e.some(e=>void 0===e))throw new Error("undefined is not allowed to be part of the key");for(const t of e){let e=n.next.get(t);void 0===e&&(e={next:new Map},n.next.set(t,e)),e.keyChar=t,n=e}return void 0===n.val&&(n.val=t(),++this.trieSize),n.val},this.keys=()=>i.toIt(a(this.root)).map(([e])=>e),this.values=()=>i.toIt(a(this.root)).map(([,e])=>e),this.getFanout=e=>{const t=this.traverse(e);return t?t.next.size:0},this.iterate=()=>a(this.root),this.traverse=(e,t=(()=>{}))=>{let n=this.root;for(const r of e){const e=n.next.get(r);if(void 0===e)return;t(r,n),n=e}return n};for(const[t,n]of e)this.set(t,n)}get size(){return this.trieSize}get isEmpty(){return 0===this.size}}t.Trie=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20);function i(...e){let t=0;for(const n of e)t+=n;return t}t.negate=function(e){const t=new Map;for(const[n,r]of e)t.set(n,-r);return t},t.sum=i,t.average=function(e,...t){return(e+i(...t))/(t.length+1)},t.sumBy=function(e,t){let n=0;for(const r of t)n+=e(r);return n},t.sumMaps=function(...e){return r.fullOuterJoin((...e)=>i(...e),...e)}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e,n){var r=Object.keys,i=Array.isArray,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function a(e,t){return"object"!=typeof t||r(t).forEach((function(n){e[n]=t[n]})),e}var s=Object.getPrototypeOf,u={}.hasOwnProperty;function l(e,t){return u.call(e,t)}function c(e,t){"function"==typeof t&&(t=t(s(e))),r(t).forEach((function(n){h(e,n,t[n])}))}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,a(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var m=[].slice;function y(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function g(e){if(!e)throw new Error("Assertion Failed")}function b(e){o.setImmediate?n(e):setTimeout(e,0)}function w(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function _(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function E(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function x(e,t){if(l(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=x(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:x(s,t.substr(a+1))}}function k(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){g("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)k(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var u=e[a];u||(u=e[a]={}),k(u,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function S(e){var t={};for(var n in e)l(e,n)&&(t[n]=e[n]);return t}var T=[].concat;function C(e){return T.apply([],e)}var P="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(C([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return o[e]})).map((function(e){return o[e]}));function I(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(I(e[n]))}else if(P.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)l(e,o)&&(t[o]=I(e[o]));return t}function A(e,t,n,i){return n=n||{},i=i||"",r(e).forEach((function(r){if(l(t,r)){var o=e[r],a=t[r];"object"==typeof o&&"object"==typeof a&&o&&a&&""+o.constructor==""+a.constructor?A(o,a,n,i+r+"."):o!==a&&(n[i+r]=t[r])}else n[i+r]=void 0})),r(t).forEach((function(r){l(e,r)||(n[i+r]=t[r])})),n}var O="undefined"!=typeof Symbol&&Symbol.iterator,M=O?function(e){var t;return null!=e&&(t=e[O])&&t.apply(e)}:function(){return null},z={};function D(e){var t,n,r,o;if(1===arguments.length){if(i(e))return e.slice();if(this===z&&"string"==typeof e)return[e];if(o=M(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var j="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(e,t){j=e,N=t}var N=function(){return!0},F=!new Error("").stack;function L(){if(F)try{throw L.arguments,new Error}catch(e){return e}return new Error}function U(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(N).map((function(e){return"\n"+e})).join("")):""}var B=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(B),W={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function K(e,t){this._e=L(),this.name=e,this.message=t}function H(e,t,n,r){this._e=L(),this.failures=t,this.failedKeys=r,this.successCount=n}function V(e,t){this._e=L(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}d(K).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+U(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(H).from(K),d(V).from(K);var $=q.reduce((function(e,t){return e[t]=t+"Error",e}),{}),G=K,Q=q.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=L(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=W[t]||n,this.inner=null)}return d(r).from(G),e[t]=r,e}),{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var Y=B.reduce((function(e,t){return e[t+"Error"]=Q[t],e}),{});var X=q.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Q[t]),e}),{});function J(){}function Z(e){return e}function ee(e,t){return null==e||e===Z?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===J?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0!==o?o:n}}function re(e,t){return e===J?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function ie(e,t){return e===J?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?te(i,this.onsuccess):i),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0===r?void 0===s?void 0:s:a(r,s)}}function oe(e,t){return e===J?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ae(e,t){return e===J?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}X.ModifyError=H,X.DexieError=K,X.BulkError=V;var se={},ue=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=o.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),le=ue[0],ce=ue[1],fe=ue[2],he=ce&&ce.then,de=le&&le.constructor,pe=ue[3],me=!!fe,ye=!1,ve=fe?function(){fe.then(Le)}:o.setImmediate?n.bind(null,Le):o.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Le(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Le,0)},ge=function(e,t){Ce.push([e,t]),we&&(ve(),we=!1)},be=!0,we=!0,_e=[],Ee=[],xe=null,ke=Z,Se={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{ut(e[0],e[1])}catch(e){}}))}},Te=Se,Ce=[],Pe=0,Ie=[];function Ae(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=J,this._lib=!1;var t=this._PSD=Te;if(j&&(this._stackHolder=L(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==se)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&De(this,this._value))}this._state=null,this._value=null,++t.ref,ze(this,e)}var Oe={get:function(){var e=Te,t=Qe;function n(n,r){var i=this,o=!e.global&&(e!==Te||t!==Qe);o&&Ze();var a=new Ae((function(t,a){Re(i,new Me(at(n,e,o),at(r,e,o),t,a,e))}));return j&&Fe(a,this),a}return n.prototype=se,n},set:function(e){h(this,"then",e&&e.prototype===se?Oe:{get:function(){return e},set:Oe.set})}};function Me(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function ze(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ue();t&&"function"==typeof t.then?ze(e,(function(e,n){t instanceof Ae?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,je(e)),n&&Be()}}),De.bind(null,e))}catch(t){De(e,t)}}function De(e,t){if(Ee.push(t),null===e._state){var n=e._lib&&Ue();t=ke(t),e._state=!1,e._value=t,j&&null!==t&&"object"==typeof t&&!t._promise&&E((function(){var n=function e(t,n){var r;return p(t,n)||(r=s(t))&&e(r,n)}(t,"stack");t._promise=e,h(t,"stack",{get:function(){return ye?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){_e.some((function(t){return t._value===e._value}))||_e.push(e)}(e),je(e),n&&Be()}}function je(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Re(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Pe&&(++Pe,ge((function(){0==--Pe&&qe()}),[]))}function Re(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Pe,ge(Ne,[n,e,t])}else e._listeners.push(t)}function Ne(e,t,n){try{xe=t;var r,i=t._value;t._state?r=e(i):(Ee.length&&(Ee=[]),r=e(i),-1===Ee.indexOf(i)&&function(e){var t=_e.length;for(;t;)if(_e[--t]._value===e._value)return void _e.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{xe=null,0==--Pe&&qe(),--n.psd.ref||n.psd.finalize()}}function Fe(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Le(){Ue()&&Be()}function Ue(){var e=be;return be=!1,we=!1,e}function Be(){var e,t,n;do{for(;Ce.length>0;)for(e=Ce,Ce=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ce.length>0);be=!0,we=!0}function qe(){var e=_e;_e=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ie.slice(0),n=t.length;n;)t[--n]()}function We(e){return new Ae(se,!1,e)}function Ke(e,t){var n=Te;return function(){var r=Ue(),i=Te;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(i,!1),r&&Be()}}}c(Ae.prototype,{then:Oe,_then:function(e,t){Re(this,new Me(null,null,e,t,Te))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):We(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):We(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),We(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{ye=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,a,s=t._value;null!=s?(o=s.name||"Error",a=s.message||s,i=U(s,0)):(o=s,a=""),n.push(o+(a?": "+a:"")+i)}j&&((i=U(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ye=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Ae((function(r,i){var o=setTimeout((function(){return i(new Q.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Ae.prototype,Symbol.toStringTag,"Promise"),Se.env=it(),c(Ae,{all:function(){var e=D.apply(null,arguments).map(et);return new Ae((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Ae.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Ae)return e;if(e&&"function"==typeof e.then)return new Ae((function(t,n){e.then(t,n)}));var t=new Ae(se,!0,e);return Fe(t,xe),t},reject:We,race:function(){var e=D.apply(null,arguments).map(et);return new Ae((function(t,n){e.map((function(e){return Ae.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Te},set:function(e){return Te=e}},newPSD:Xe,usePSD:ot,scheduler:{get:function(){return ge},set:function(e){ge=e}},rejectionMapper:{get:function(){return ke},set:function(e){ke=e}},follow:function(e,t){return new Ae((function(n,r){return Xe((function(t,n){var r=Te;r.unhandleds=[],r.onunhandled=n,r.finalize=te((function(){var e=this;!function(e){Ie.push((function t(){e(),Ie.splice(Ie.indexOf(t),1)})),++Pe,ge((function(){0==--Pe&&qe()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var He={awaits:0,echoes:0,id:0},Ve=0,$e=[],Ge=0,Qe=0,Ye=0;function Xe(e,t,n,r){var i=Te,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ye;var s=Se.env;o.env=me?{Promise:Ae,PromiseProp:{value:Ae,configurable:!0,writable:!0},all:Ae.all,race:Ae.race,resolve:Ae.resolve,reject:Ae.reject,nthen:st(s.nthen,o),gthen:st(s.gthen,o)}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ot(o,e,n,r);return 0===o.ref&&o.finalize(),u}function Je(){return He.id||(He.id=++Ve),++He.awaits,He.echoes+=7,He.id}function Ze(e){!He.awaits||e&&e!==He.id||(0==--He.awaits&&(He.id=0),He.echoes=7*He.awaits)}function et(e){return He.echoes&&e&&e.constructor===de?(Je(),e.then((function(e){return Ze(),e}),(function(e){return Ze(),lt(e)}))):e}function tt(e){++Qe,He.echoes&&0!=--He.echoes||(He.echoes=He.id=0),$e.push(Te),rt(e,!0)}function nt(){var e=$e[$e.length-1];$e.pop(),rt(e,!1)}function rt(e,t){var n,r=Te;if((t?!He.echoes||Ge++&&e===Te:!Ge||--Ge&&e===Te)||(n=t?tt.bind(null,e):nt,he.call(le,n)),e!==Te&&(Te=e,r===Se&&(Se.env=it()),me)){var i=Se.env.Promise,a=e.env;ce.then=a.nthen,i.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),i.all=a.all,i.race=a.race,i.resolve=a.resolve,i.reject=a.reject)}}function it(){var e=o.Promise;return me?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:ce.then,gthen:e.prototype.then}:{}}function ot(e,t,n,r,i){var o=Te;try{return rt(e,!0),t(n,r,i)}finally{rt(o,!1)}}function at(e,t,n){return"function"!=typeof e?e:function(){var r=Te;n&&Je(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function st(e,t){return function(n,r){return e.call(this,at(n,t,!1),at(r,t,!1))}}function ut(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),a(r,i)):o.CustomEvent&&a(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var lt=Ae.reject;function ct(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=s;for(var o=1,a=arguments.length;o<a;++o)s(arguments[o]);return n;function s(e,r,i){if("object"==typeof e)return u(e);r||(r=oe),i||(i=J);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function u(e){r(e).forEach((function(t){var n=e[t];if(i(n))s(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Q.InvalidArgument("Invalid event config");var r=s(t,Z,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){b((function(){e.apply(null,t)}))}))}))}}))}}var ft,ht=String.fromCharCode(65535),dt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ht}}(),pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mt=[],yt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vt=yt,gt=yt,bt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function wt(e,t){var n,s,u,f,d,p=wt.dependencies,m=a({addons:wt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},t),b=m.addons,T=m.autoOpen,P=m.indexedDB,O=m.IDBKeyRange,M=this._dbSchema={},R=[],N=[],F={},B=null,q=null,W=!1,K=null,$=!1,G="readwrite",Y=this,X=new Ae((function(e){n=e})),te=new Ae((function(e,t){s=t})),oe=!0,se=!!Ot(P);function ue(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function le(e,t,n){var i=Y._createTransaction(G,N,M);i.create(t),i._completion.catch(n);var o=i._reject.bind(i);Xe((function(){Te.trans=i,0===e?(r(M).forEach((function(e){ce(t,e,M[e].primKey,M[e].indexes)})),Ae.follow((function(){return Y.on.populate.fire(i)})).catch(o)):function(e,t,n){var i=[],o=R.filter((function(t){return t._cfg.version===e}))[0];if(!o)throw new Q.Upgrade("Dexie specification of currently installed DB version is missing");M=Y._dbSchema=o._cfg.dbschema;var a=!1;function s(){return i.length?Ae.resolve(i.shift()(t.idbtrans)).then(s):Ae.resolve()}return R.filter((function(t){return t._cfg.version>e})).forEach((function(e){i.push((function(){var r=M,i=e._cfg.dbschema;De(r,n),De(i,n),M=Y._dbSchema=i;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,u=o.idxByName;for(var l in s)u[l]||a.del.push(l);for(l in u){var c=s[l],f=u[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}(r,i);if(o.add.forEach((function(e){ce(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new Q.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){fe(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),fe(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return a=!0,Ae.follow((function(){e._cfg.contentUpgrade(t)}))})),i.push((function(t){a&&vt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),s().then((function(){!function(e,t){r(e).forEach((function(n){t.db.objectStoreNames.contains(n)||ce(t,n,e[n].primKey,e[n].indexes)}))}(M,n)}))}(e,i,t).catch(o)}))}function ce(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){fe(i,e)})),i}function fe(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function he(e,t,n){var r=arguments.length;if(r<2)throw new Q.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=C(i);return[e,o,n]}function me(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=F[e]?F[e].hook:ct(null,{creating:[ne,J],reading:[ee,Z],updating:[ie,J],deleting:[re,J]})}function ye(e,t,n){return(n?St:xt)((function(n){e.push(n),t&&t()}))}function ve(e,t,n,r,i){return new Ae((function(o,a){var s=n.length,u=s-1;if(0===s)return o();if(r){var l,c=St(a),f=Et(null);E((function(){for(var r=0;r<s;++r){l={onsuccess:null,onerror:null};var a=n[r];i.call(l,a[0],a[1],t);var h=e.delete(a[0]);h._hookCtx=l,h.onerror=c,h.onsuccess=r===u?Et(o):f}}),(function(e){throw l.onerror&&l.onerror(e),e}))}else for(var h=0;h<s;++h){var d=e.delete(n[h]);d.onerror=xt(a),h===u&&(d.onsuccess=Ke((function(){return o()})))}}))}function ge(e,t,n,r){var i=this;this.db=Y,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=ct(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ae((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),lt(e)}))}function be(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function we(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function _e(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ee(e,t){return e._cfg.version-t._cfg.version}function xe(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===ge.prototype||e instanceof ge?h(e,t,{get:function(){return this.table(t)}}):e[t]=new me(t,r))}))}))}function ke(e,t,n,r,i,o){var a=Ke(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=xt(i)),e.onsuccess=_(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&a(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};a(t.value,t,(function(e){n=e})),n()}else r()},i)}function Se(e,t){return P.cmp(e,t)}function Ce(e,t){return Se(e,t)>0?e:t}function Pe(e,t){return P.cmp(e,t)}function Ie(e,t){return P.cmp(t,e)}function Oe(e,t){return e<t?-1:e===t?0:1}function Me(e,t){return e>t?-1:e===t?0:1}function ze(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function De(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],a=t.objectStore(i);u="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var l=a.indexNames[s],c=a.index(l).keyPath,f="string"==typeof c?c:"["+y(c).join("+")+"]";if(e[i]){var h=e[i].idxByName[f];h&&(h.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u=!1)}function je(e){Y.on("blocked").fire(e),mt.filter((function(e){return e.name===Y.name&&e!==Y&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(B||W)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=R.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new ue(e),R.push(t),R.sort(Ee),oe=!1,t)},a(ue.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var t={};R.forEach((function(e){a(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),M=Y._dbSchema=n,[F,Y,ge.prototype].forEach((function(e){for(var t in e)e[t]instanceof me&&delete e[t]})),xe([F,Y,ge.prototype,this._cfg.tables],r(n),n),N=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach((function(n){if(null!==e[n]){var r={},o=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Pt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),/\./.test(e)))})),t}(e[n]),a=o.shift();if(a.multi)throw new Q.Schema("Primary key cannot be multi-valued");a.keyPath&&k(r,a.keyPath,a.auto?0:a.keyPath),o.forEach((function(e){if(e.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string");k(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new It(n,a,o,r)}}))}}),this._allTables=F,this._createTransaction=function(e,t,n,r){return new ge(e,t,n,r)},this._whenReady=function(e){return $||Te.letThrough?e():new Ae((function(e,t){if(!W){if(!T)return void t(new Q.DatabaseClosed);Y.open().catch(J)}X.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(W||B)return X.then((function(){return q?lt(q):Y}));j&&(te._stackHolder=L()),W=!0,q=null,$=!1;var t=n,i=null;return Ae.race([te,new Ae((function(t,n){if(!P)throw new Q.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=oe?P.open(e):P.open(e,Math.round(10*Y.verno));if(!o)throw new Q.MissingAPI("IndexedDB API not available");o.onerror=xt(n),o.onblocked=Ke(je),o.onupgradeneeded=Ke((function(t){if(i=o.transaction,oe&&!Y._allowEmptyDB){o.onerror=Tt,i.abort(),o.result.close();var r=P.deleteDatabase(e);r.onsuccess=r.onerror=Ke((function(){n(new Q.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{i.onerror=xt(n),le((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,n)}}),n),o.onsuccess=Ke((function(){if(i=null,B=o.result,mt.push(Y),oe)!function(){if(Y.verno=B.version/10,Y._dbSchema=M={},0===(N=y(B.objectStoreNames,0)).length)return;var e=B.transaction(At(N),"readonly");N.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new Pt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),a=[],s=0;s<n.indexNames.length;++s){var u=n.index(n.indexNames[s]);i=(r=u.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var l=new Pt(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!=typeof r,i);a.push(l)}M[t]=new It(t,o,a,{})})),xe([F],r(M),M)}();else if(B.objectStoreNames.length>0)try{De(M,B.transaction(At(B.objectStoreNames),"readonly"))}catch(e){}B.onversionchange=Ke((function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)})),se||"__dbnames"===e||ft.dbnames.put({name:e}).catch(J),t()}),n)}))]).then((function(){return K=[],Ae.resolve(wt.vip(Y.on.ready.fire)).then((function e(){if(K.length>0){var t=K.reduce(ae,J);return K=[],Ae.resolve(wt.vip(t)).then(e)}}))})).finally((function(){K=null})).then((function(){return W=!1,Y})).catch((function(e){try{i&&i.abort()}catch(e){}return W=!1,Y.close(),lt(q=e)})).finally((function(){$=!0,t()}))},this.close=function(){var e=mt.indexOf(Y);if(e>=0&&mt.splice(e,1),B){try{B.close()}catch(e){}B=null}T=!1,q=new Q.DatabaseClosed,W&&s(q),X=new Ae((function(e){n=e})),te=new Ae((function(e,t){s=t}))},this.delete=function(){var t=arguments.length>0;return new Ae((function(n,r){if(t)throw new Q.InvalidArgument("Arguments not allowed in db.delete()");function i(){Y.close();var t=P.deleteDatabase(e);t.onsuccess=Ke((function(){se||ft.dbnames.delete(e).catch(J),n()})),t.onerror=xt(r),t.onblocked=je}W?X.then(i):i()}))},this.backendDB=function(){return B},this.isOpen=function(){return null!==B},this.hasBeenClosed=function(){return q&&q instanceof Q.DatabaseClosed},this.hasFailed=function(){return null!==q},this.dynamicallyOpened=function(){return oe},this.name=e,c(this,{tables:{get:function(){return r(F).map((function(e){return F[e]}))}}}),this.on=ct(this,"populate","blocked","versionchange",{ready:[ae,J]}),this.on.ready.subscribe=v(this.on.ready.subscribe,(function(e){return function(t,n){wt.vip((function(){$?(q||Ae.resolve().then(t),n&&e(t)):K?(K.push(t),n&&e(t)):(e(t),n||e((function e(){Y.on.ready.unsubscribe(t),Y.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=he.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Te.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof me?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=G)throw new Q.InvalidArgument("Invalid transaction mode: "+e);e=G}if(r){if("readonly"===r.mode&&e===G){if(!i)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new Q.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):lt(e)}return r?r._promise(e,a,"lock"):Te.trans?ot(Te.transless,(function(){return Y._whenReady(a)})):Y._whenReady(a);function a(){return Ae.resolve().then((function(){var t,i=Te.transless||Te,a=Y._createTransaction(e,o,M,r),s={trans:a,transless:i};r?a.idbtrans=r.idbtrans:a.create(),n.constructor===pe&&Je();var u=Ae.follow((function(){if(t=n.call(a,a))if(t.constructor===de){var e=Ze.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Ct(t))}),s);return(t&&"function"==typeof t.then?Ae.resolve(t).then((function(e){return a.active?e:lt(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):u.then((function(){return t}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),lt(e)}))}))}},this.table=function(e){if(!l(F,e))throw new Q.InvalidTable("Table "+e+" does not exist");return F[e]},c(me.prototype,{_trans:function(e,t,n){var r=this._tx||Te.trans;return r&&r.db===Y?r===Te.trans?r._promise(e,t,n):Xe((function(){return r._promise(e,t,n)}),{trans:r,transless:Te.transless||Te}):function e(t,n,r){if($||Te.letThrough){var i=Y._createTransaction(t,n,M);try{i.create()}catch(e){return lt(e)}return i._promise(t,(function(e,t){return Xe((function(){return Te.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!W){if(!T)return lt(new Q.DatabaseClosed);Y.open().catch(J)}return X.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new Q.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var o=i.get(e);o.onerror=xt(r),o.onsuccess=Ke((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new be(this,e);if(i(e))return new be(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&dt!==ht)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,a=t.reduce((function(t,n){return[t[0]||o[n],t[0]||!o[n]?ze(t[1],(function(t){return""+x(t,n)==""+e[n]})):t[1]]}),[null,null]),s=a[0];return s?this.where(s.name).equals(e[s.keyPath]).filter(a[1]):n?this.filter(a[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new we(new be(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new we(new be(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&_t(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(l(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(wt.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===J?this._idbstore(G,(function(t,n,r,i){t(ve(r,i,e,!1,J))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(G,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new Q.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var a,s,u=function(e){0===l.length?r(e):i(new V(n.name+".bulkPut(): "+l.length+" of "+c+" operations failed",l))},l=[],c=e.length,f=n;if(n.hook.creating.fire===J&&n.hook.updating.fire===J){s=ye(l);for(var h=0,d=e.length;h<d;++h)(a=t?o.put(e[h],t[h]):o.put(e[h])).onerror=s;a.onerror=ye(l,u),a.onsuccess=kt(u)}else{var p=t||o.keyPath&&e.map((function(e){return x(e,o.keyPath)})),m=p&&w(p,(function(t,n){return null!=t&&[t,e[n]]}));(p?f.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=m[this.primKey],m[this.primKey]=null})).catch(H,(function(e){l=e.failures})).then((function(){for(var n=[],r=t&&[],i=p.length-1;i>=0;--i){var o=p[i];(null==o||m[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(m[o]=null))}return n.reverse(),t&&r.reverse(),f.bulkAdd(n,r)})).then((function(e){var t=p[p.length-1];return null!=t?t:e})):f.bulkAdd(e)).then(u).catch(V,(function(e){l=l.concat(e.failures),u()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(G,(function(i,o,a,s){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new Q.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function u(e){0===h.length?i(e):o(new V(n.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var l,c,f,h=[],d=e.length;if(r!==J){var p,m=a.keyPath;c=ye(h,null,!0),f=Et(null),E((function(){for(var n=0,i=e.length;n<i;++n){p={onerror:null,onsuccess:null};var o=t&&t[n],u=e[n],h=t?o:m?x(u,m):void 0,d=r.call(p,h,u,s);null==h&&null!=d&&(m?k(u=I(u),m,d):o=d),(l=null!=o?a.add(u,o):a.add(u))._hookCtx=p,n<i-1&&(l.onerror=c,p.onsuccess&&(l.onsuccess=f))}}),(function(e){throw p.onerror&&p.onerror(e),e})),l.onerror=ye(h,u,!0),l.onsuccess=Et(u)}else{c=ye(h);for(var y=0,v=e.length;y<v;++y)(l=t?a.add(e[y],t[y]):a.add(e[y])).onerror=c;l.onerror=ye(h,u),l.onsuccess=kt(u)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(G,(function(r,i,o,a){var s={onsuccess:null,onerror:null};if(n!==J){var u=null!=t?t:o.keyPath?x(e,o.keyPath):void 0,l=n.call(s,u,e,a);null==u&&null!=l&&(o.keyPath?k(e,o.keyPath,l):t=l)}try{var c=null!=t?o.add(e,t):o.add(e);c._hookCtx=s,c.onerror=St(i),c.onsuccess=Et((function(t){var n=o.keyPath;n&&k(e,n,t),r(t)}))}catch(e){throw s.onerror&&s.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==J||i!==J){var o=this.schema.primKey.keyPath,a=void 0!==t?t:o&&x(e,o);return null==a?this.add(e):(e=I(e),this._trans(G,(function(){return n.where(":id").equals(a).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):a}))}),"locked"))}return this._idbstore(G,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=xt(r),o.onsuccess=Ke((function(t){var r=i.keyPath;r&&k(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(G,(function(t,n,r){var i=r.delete(e);i.onerror=xt(n),i.onsuccess=Ke((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(G,(function(e,t,n){var r=n.clear();r.onerror=xt(t),r.onsuccess=Ke((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||i(t))throw new Q.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);r(t).forEach((function(n){k(e,n,t[n])}));var n=x(e,this.schema.primKey.keyPath);return void 0===n?lt(new Q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),c(ge.prototype,{_lock:function(){return g(!Te.global),++this._reculock,1!==this._reculock||Te.global||(Te.lockOwnerFor=this),this},_unlock:function(){if(g(!Te.global),0==--this._reculock)for(Te.global||(Te.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Te.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(g(!this.idbtrans),!e&&!B)switch(q&&q.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(q);case"MissingAPIError":throw new Q.MissingAPI(q.message,q);default:throw new Q.OpenFailed(q)}if(!this.active)throw new Q.TransactionInactive;return g(null===this._completion._state),(e=this.idbtrans=e||B.transaction(At(this.storeNames),this.mode)).onerror=Ke((function(n){Tt(n),t._reject(e.error)})),e.onabort=Ke((function(n){Tt(n),t.active&&t._reject(new Q.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=Ke((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===G&&this.mode!==G)return lt(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new Q.TransactionInactive);if(this._locked())return new Ae((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},Te])}));if(n)return Xe((function(){var e=new Ae((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Ae((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Ae.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Ae((function(n,i){e.then((function(e){return t._waitingQueue.push(Ke(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(Ke(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new Q.Abort),this.active=!1},tables:{get:(f="Transaction.tables",d=function(){return F},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+U(L(),1)),d.apply(this,arguments)})},table:function(e){return new me(e,Y.table(e).schema,this)}}),c(be.prototype,(function(){function e(e,t,n){var r=e instanceof be?new we(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new we(e,(function(){return O.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var l=t[u];if(l!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[u],l)<0&&(s=u)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function r(t,r,i,o){var a,s,u,l,c,f,h,d=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function p(e){a=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),u="next"===e?Oe:Me;var t=i.map((function(e){return{lower:s(e),upper:a(e)}})).sort((function(e,t){return u(e.lower,t.lower)}));l=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),f=e,h="next"===e?"":o}p("next");var m=new we(t,(function(){return O.bound(l[0],c[d-1]+o)}));m._ondirectionchange=function(e){p(e)};var y=0;return m._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var a=s(o);if(r(a,c,y))return!0;for(var p=null,m=y;m<d;++m){var v=n(o,a,l[m],c[m],u,f);null===v&&null===p?y=m+1:(null===p||u(p,v)>0)&&(p=v)}return t(null!==p?function(){e.continue(p+h)}:i),!1})),m}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return Se(n,r)>0||0===Se(n,r)&&(i||o)&&(!i||!o)?t(this):new we(this,(function(){return O.bound(n,r,!i,!o)}))}catch(t){return e(this,pt)}},equals:function(e){return new we(this,(function(){return O.only(e)}))},above:function(e){return new we(this,(function(){return O.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new we(this,(function(){return O.lowerBound(e)}))},below:function(e){return new we(this,(function(){return O.upperBound(e,!0)}))},belowOrEqual:function(e){return new we(this,(function(){return O.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+ht,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ht)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=D.apply(z,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=D.apply(z,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ht)},anyOf:function(){var n=D.apply(z,arguments),r=Pe;try{n.sort(r)}catch(t){return e(this,pt)}if(0===n.length)return t(this);var i=new we(this,(function(){return O.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){r="next"===e?Pe:Ie,n.sort(r)};var o=0;return i._addAlgorithm((function(e,t,i){for(var a=e.key;r(a,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(a,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,dt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=D.apply(z,arguments);if(0===t.length)return new we(this);try{t.sort(Pe)}catch(t){return e(this,pt)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],dt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Pe(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var a,s=Pe;function u(e,t){return s(e[0],t[0])}try{(a=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(Se(t[0],i[1])<0&&Se(t[1],i[0])>0){i[0]=(o=i[0],a=t[0],Se(o,a)<0?o:a),i[1]=Ce(i[1],t[1]);break}}var o,a;return n===r&&e.push(t),e}),[])).sort(u)}catch(t){return e(this,pt)}var l=0,c=o?function(e){return Pe(e,a[l][1])>0}:function(e){return Pe(e,a[l][1])>=0},f=i?function(e){return Ie(e,a[l][0])>0}:function(e){return Ie(e,a[l][0])>=0};var h=c,d=new we(this,(function(){return O.bound(a[0][0],a[a.length-1][1],!i,!o)}));return d._ondirectionchange=function(e){"next"===e?(h=c,s=Pe):(h=f,s=Ie),a.sort(u)},d._addAlgorithm((function(e,t,n){for(var r=e.key;h(r);)if(++l===a.length)return t(n),!1;return!!function(e){return!c(e)&&!f(e)}(r)||(0===Se(r,a[l][1])||0===Se(r,a[l][0])||t((function(){s===Pe?e.continue(a[l][0]):e.continue(a[l][1])})),!1)})),d},startsWithAnyOf:function(){var n=D.apply(z,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+ht]}))):e(this,"startsWithAnyOf() only works with strings")}}})),c(we.prototype,(function(){function e(e,t){e.filter=ze(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return ze(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new Q.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function i(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,r,o){var a=e.replayFilter?ze(e.filter,e.replayFilter()):e.filter;e.or?function(){var s={},u=0;function c(){2==++u&&n()}function f(e,n,i){if(!a||a(n,i,c,r)){var o=n.primaryKey,u=""+o;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(o)),l(s,u)||(s[u]=!0,t(e,n,i))}}e.or._iterate(f,c,r,o),ke(i(e,o),e.algorithm,f,c,r,!e.keysOnly&&e.valueMapper)}():ke(i(e,o),ze(e.algorithm,a),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,lt.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._idbstore(G,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=ze(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(_e(t,!0))return this._read((function(e,r,i){var o=n(t,i),a=t.range?o.count(t.range):o.count();a.onerror=xt(r),a.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(s)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,i){if(u&&"next"===t.dir&&_e(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,s=n(t,i),l=t.limit<1/0?s.getAll(t.range,t.limit):s.getAll(t.range);l.onerror=xt(r),l.onsuccess=kt(a===Z?e:function(t){try{e(t.map(a))}catch(e){r(e)}})}else{var c=[];o(t,(function(e){c.push(e)}),(function(){e(c)}),r,i)}}),e)},offset:function(e){var n=this._ctx;return e<=0||(n.offset+=e,_e(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=ze(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new be(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(u&&"next"===t.dir&&_e(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),a=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);a.onerror=xt(r),a.onsuccess=kt(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=l(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,i=n.updating.fire,o=n.deleting.fire;return this._write((function(n,s,u,c){var f;if("function"==typeof e)f=i===J&&o===J?e:function(t){var n=I(t);if(!1===e.call(this,t,this))return!1;if(l(this,"value")){var a=A(n,this.value),s=i.call(this,a,this.primKey,n,c);s&&(t=this.value,r(s).forEach((function(e){k(t,e,s[e])})))}else o.call(this,this.primKey,t,c)};else if(i===J){var h=r(e),d=h.length;f=function(t){for(var n=!1,r=0;r<d;++r){var i=h[r],o=e[i];x(t,i)!==o&&(k(t,i,o),n=!0)}return n}}else{var p=e;e=S(p),f=function(t){var n=!1,o=i.call(this,e,this.primKey,I(t),c);return o&&a(e,o),r(e).forEach((function(r){var i=e[r];x(t,r)!==i&&(k(t,r,i),n=!0)})),o&&(e=S(p)),n}}var m=0,y=0,v=!1,g=[],b=[],w=null;function _(e){return e&&(g.push(e),b.push(w)),s(new H("Error modifying one or more objects",g,y,b))}function T(){v&&y+g.length===m&&(g.length>0?_():n(y))}t.clone().raw()._iterate((function(e,t){w=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return g.push(e),b.push(n.primKey),T(),!0}if(!1!==f.call(n,e,n)){var i=!l(n,"value");++m,E((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=St(r),e.onsuccess=Et((function(){++y,T()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){v=!0,T()}),_,u)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==J;if(!i&&_e(t)&&(t.isPrimKey&&!gt||!n))return this._write((function(e,t,r){var i=xt(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var a=o.result;E((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(a)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,a,s,u){var l=0,c=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),f=[],h=function(){return c.each(i?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then((function(){return i?f.sort((function(e,t){return Pe(e[0],t[0])})):f.sort(Pe),ve(s,u,f,i,r)})).then((function(){var e=f.length;return l+=e,f=[],e<o?l:h()}))};n(h())}))}}})),a(this,{Collection:we,Table:me,Transaction:ge,Version:ue,WhereClause:be}),Y.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()})),Y.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)})),b.forEach((function(e){e(Y)}))}function _t(e,t){return r(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(i(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return _t(n,t),n}return t}(t[n]);e[n]=r})),e}function Et(e){return Ke((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function xt(e){return Ke((function(t){return Tt(t),e(t.target.error),!1}))}function kt(e){return Ke((function(t){e(t.target.result)}))}function St(e){return Ke((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),Tt(t),e(r),!1}))}function Tt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Ct(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),a=o.value;return o.done?a:a&&"function"==typeof a.then?a.then(n,r):i(a)?Ae.all(a).then(n,r):n(a)}}return o(t)()}function Pt(e,t,n,r,i,o,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=a;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+s}function It(e,t,n,r){this.name=e,this.primKey=t||new Pt,this.indexes=n||[new Pt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,(function(e){return[e.name,e]}))}function At(e){return 1===e.length?e[0]:e}function Ot(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}R(j,bt),c(wt,X),c(wt,{delete:function(e){var t=new wt(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new wt(e).open().then((function(e){return e.close(),!0})).catch(wt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=Ot(wt.dependencies.indexedDB);return t?new Ae((function(e,n){var r=t();r.onsuccess=function(t){e(y(t.target.result,0))},r.onerror=xt(n)})).then(e):ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&a(this,e)}},applyStructure:_t,ignoreTransaction:function(e){return Te.trans?ot(Te.transless,e):e()},vip:function(e){return Xe((function(){return Te.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Ct(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ae.resolve(t)}catch(e){return lt(e)}}},spawn:function(e,t,n){try{var r=Ct(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ae.resolve(r)}catch(e){return lt(e)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(e,t){var n=Ae.resolve("function"==typeof e?wt.ignoreTransaction(e):e).timeout(t||6e4);return Te.trans?Te.trans.waitFor(n):n},Promise:Ae,debug:{get:function(){return j},set:function(e){R(e,"dexie"===e?function(){return!0}:bt)}},derive:d,extend:a,props:c,override:v,Events:ct,getByKeyPath:x,setByKeyPath:k,delByKeyPath:function(e,t){"string"==typeof t?k(e,t,void 0):"length"in t&&[].map.call(t,(function(t){k(e,t,void 0)}))},shallowClone:S,deepClone:I,getObjectDiff:A,asap:b,maxKey:dt,minKey:-1/0,addons:[],connections:mt,MultiModifyError:Q.Modify,errnames:$,IndexSpec:Pt,TableSchema:It,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:wt,Dexie:wt}),Ae.rejectionMapper=function(e,t){if(!e||e instanceof K||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var n=new Y[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(ft=new wt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return ft.dbnames.put({name:e}).catch(J)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.a=wt}).call(this,n(4),n(36).setImmediate)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));const r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t=e.env.PUBLIC_URL+"/service-worker.js";r?(!function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):o(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(t)})}}function o(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}}).call(this,n(14))},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(13),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var x=E.prototype=new _;x.constructor=E,r(x,w.prototype),x.isPureReactComponent=!0;var k={current:null},S=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,A=[];function O(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function z(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+D(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+D(s=t[l],l);u+=e(s,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+D(s,l++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),z(e,R,t=O(t,o,r,i)),M(t)}var F={current:null};function L(){var e=F.current;if(null===e)throw Error(v(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;z(e,j,t=O(null,null,t,n)),M(t)},count:function(e){return z(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(v(143));return e}},t.Component=w,t.Fragment=s,t.Profiler=l,t.PureComponent=E,t.StrictMode=u,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(13),o=n(29);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var u=!1,l=null,c=!1,f=null,h={onError:function(e){u=!0,l=e}};function d(e,t,n,r,i,o,a,c,f){u=!1,l=null,s.apply(h,arguments)}var p=null,m=null,y=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,o,s,h,p){if(d.apply(this,arguments),u){if(!u)throw Error(a(198));var m=l;u=!1,l=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function w(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!E[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(x.hasOwnProperty(u))throw Error(a(99,u));x[u]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],s,u);i=!0}else o.registrationName?(_(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function _(e,t,n){if(k[e])throw Error(a(100,e));k[e]=t,S[e]=t.eventTypes[n].dependencies}var E=[],x={},k={},S={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=null,I=null,A=null;function O(e){if(e=m(e)){if("function"!=typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),P(e.stateNode,e.type,t))}}function M(e){I?A?A.push(e):A=[e]:I=e}function z(){if(I){var e=I,t=A;if(A=I=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function D(e,t){return e(t)}function j(e,t,n,r,i){return e(t,n,r,i)}function R(){}var N=D,F=!1,L=!1;function U(){null===I&&null===A||(R(),z())}function B(e,t,n){if(L)return e(t,n);L=!0;try{return N(e,t,n)}finally{L=!1,U()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,K={},H={};function V(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new V(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new V(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new V(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new V(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new V(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new V(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new V(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new V(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new V(e,5,!1,e.toLowerCase(),null,!1)}));var G=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(G,Q);$[t]=new V(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(G,Q);$[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(G,Q);$[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new V(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new V(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=$.hasOwnProperty(t)?$[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!W.call(H,e)||!W.call(K,e)&&(q.test(e)?H[e]=!0:(K[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,se=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ye(e.type);case de:return ye(e.render);case he:if(e=1===e._status?e._result:null)return ye(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ye(e.type);n=null,r&&(n=ye(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Se(e,t){ke(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function Me(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ze(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",je="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Le=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==je||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},We={},Ke={};function He(e){if(We[e])return We[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return We[e]=n[t];return e}C&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ve=He("animationend"),$e=He("animationiteration"),Ge=He("animationstart"),Qe=He("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ht(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<E.length;u++){var l=E[u];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=rt(s,l))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Gt(t,"scroll",!0);break;case"focus":case"blur":Gt(t,"focus",!0),Gt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Gt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,yt,vt,gt=!1,bt=[],wt=null,_t=null,Et=null,xt=new Map,kt=new Map,St=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function It(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Pt(t,n,r,i,o),null!==t&&(null!==(t=Pn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=Cn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Dt(){for(gt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Mt(wt)&&(wt=null),null!==_t&&Mt(_t)&&(_t=null),null!==Et&&Mt(Et)&&(Et=null),xt.forEach(zt),kt.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function Rt(e){function t(t){return jt(t,e)}if(0<bt.length){jt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&jt(wt,e),null!==_t&&jt(_t,e),null!==Et&&jt(Et,e),xt.forEach(t),kt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Ot(n),null===n.blockedOn&&St.shift()}var Nt={},Ft=new Map,Lt=new Map,Ut=["abort","abort",Ve,"animationEnd",$e,"animationIteration",Ge,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Qe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Lt.set(r,t),Ft.set(r,o),Nt[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Ut,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Wt=0;Wt<qt.length;Wt++)Lt.set(qt[Wt],0);var Kt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,Vt=!0;function $t(e,t){Gt(t,e,!1)}function Gt(e,t,n){var r=Lt.get(t);switch(void 0===r?2:r){case 0:r=Qt.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Qt(e,t,n,r){F||R();var i=Xt,o=F;F=!0;try{j(i,e,t,n,r)}finally{(F=o)||U()}}function Yt(e,t,n,r){Ht(Kt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Vt)if(0<bt.length&&-1<Tt.indexOf(e))e=Pt(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)It(e,r);else if(-1<Tt.indexOf(e))e=Pt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=At(wt,e,t,n,r,i),!0;case"dragenter":return _t=At(_t,e,t,n,r,i),!0;case"mouseover":return Et=At(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,At(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,At(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){It(e,r),e=ht(e,r,null,t);try{B(dt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=Cn(n=ut(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{B(dt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function un(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,yn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+xn,Sn="__reactEventHandlers$"+xn,Tn="__reactContainere$"+xn;function Cn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[kn])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[kn]||e[Tn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function In(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Sn]||null}function On(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function zn(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=On(t);for(t=n.length;0<t--;)zn(n[t],"captured",e);for(t=0;t<n.length;t++)zn(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Nn(e){it(e,Dn)}var Fn=null,Ln=null,Un=null;function Bn(){if(Un)return Un;var e,t,n=Ln,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Un=i.slice(e,1<t?1-t:void 0)}function qn(){return!0}function Wn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Wn,this.isPropagationStopped=Wn,this}function Hn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Vn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Hn,e.release=Vn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Wn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Kn);var Gn=Kn.extend({data:null}),Qn=Kn.extend({data:null}),Yn=[9,13,27,32],Xn=C&&"CompositionEvent"in window,Jn=null;C&&"documentMode"in document&&(Jn=document.documentMode);var Zn=C&&"TextEvent"in window&&!Jn,er=C&&(!Xn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Xn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Bn()):(Ln="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Gn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Nn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Xn&&ir(e,t)?(e=Bn(),Un=Ln=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Qn.getPooled(nr.beforeInput,t,n,r)).data=e,Nn(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Kn.getPooled(cr.change,e,t,n)).type="change",M(n),Nn(e),e}var hr=null,dr=null;function pr(e){st(e)}function mr(e){if(_e(In(e)))return e}function yr(e,t){if("change"===e)return t}var vr=!1;function gr(){hr&&(hr.detachEvent("onpropertychange",br),dr=hr=null)}function br(e){if("value"===e.propertyName&&mr(dr))if(e=fr(dr,e,ut(e)),F)st(e);else{F=!0;try{D(pr,e)}finally{F=!1,U()}}}function wr(e,t,n){"focus"===e?(gr(),dr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&gr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(dr)}function Er(e,t){if("click"===e)return mr(t)}function xr(e,t){if("input"===e||"change"===e)return mr(t)}C&&(vr=lt("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?In(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(lr(i))if(vr)a=xr;else{a=_r;var s=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Er);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Sr=Kn.extend({view:null,detail:null}),Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Pr(){return Cr}var Ir=0,Ar=0,Or=!1,Mr=!1,zr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ir;return Ir=e.screenX,Or?"mousemove"===e.type?e.screenX-t:0:(Or=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ar;return Ar=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Dr=zr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Rr={eventTypes:jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Cn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=zr,u=jr.mouseLeave,l=jr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dr,u=jr.pointerLeave,l=jr.pointerEnter,c="pointer");if(e=null==a?o:In(a),o=null==t?o:In(t),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=s=r;e;e=On(e))a++;for(e=0,t=l;t;t=On(t))e++;for(;0<a-e;)s=On(s),a--;for(;0<e-a;)l=On(l),e--;for(;a--;){if(s===l||s===l.alternate)break e;s=On(s),l=On(l)}s=null}else s=null;for(l=s,s=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)s.push(r),r=On(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=On(c);for(c=0;c<s.length;c++)jn(s[c],"bubbled",u);for(c=r.length;0<c--;)jn(r[c],"captured",n);return 0==(64&i)?[u]:[u,n]}};var Nr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Lr(e,t){if(Nr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Nr(e[n[r]],t[n[r]]))return!1;return!0}var Ur=C&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Wr=null,Kr=null,Hr=!1;function Vr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&Lr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(Br.select,Wr,e,t)).type="select",e.target=qr,Nn(e),e))}var $r={eventTypes:Br,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?In(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(qr=i,Wr=t,Kr=null);break;case"blur":Kr=Wr=qr=null;break;case"mousedown":Hr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hr=!1,Vr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return Vr(n,r)}return null}},Gr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Qr=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=Sr.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=zr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ri=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=zr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Nt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ve:case $e:case Ge:e=Gr;break;case Qe:e=ri;break;case"scroll":e=Sr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=Kn}return Nn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=An,m=Pn,y=In,T({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Rr,ChangeEventPlugin:kr,SelectEventPlugin:$r,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var ci={},fi={current:ci},hi={current:!1},di=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function yi(){ui(hi),ui(fi)}function vi(e,t,n){if(fi.current!==ci)throw Error(a(168));li(fi,t),li(hi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ye(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,di=fi.current,li(fi,e),li(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,ui(hi),ui(fi),li(fi,e)):ui(hi),li(hi,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,ki=o.unstable_requestPaint,Si=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Mi={},zi=o.unstable_shouldYield,Di=void 0!==ki?ki:function(){},ji=null,Ri=null,Ni=!1,Fi=Si(),Li=1e4>Fi?Si:function(){return Si()-Fi};function Ui(){switch(Ti()){case Ci:return 99;case Pi:return 98;case Ii:return 97;case Ai:return 96;case Oi:return 95;default:throw Error(a(332))}}function Bi(e){switch(e){case 99:return Ci;case 98:return Pi;case 97:return Ii;case 96:return Ai;case 95:return Oi;default:throw Error(a(332))}}function qi(e,t){return e=Bi(e),_i(e,t)}function Wi(e,t,n){return e=Bi(e),Ei(e,t,n)}function Ki(e){return null===ji?(ji=[e],Ri=Ei(Ci,Vi)):ji.push(e),Mi}function Hi(){if(null!==Ri){var e=Ri;Ri=null,xi(e)}Vi()}function Vi(){if(!Ni&&null!==ji){Ni=!0;var e=0;try{var t=ji;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ei(Ci,Hi),t}finally{Ni=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Gi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Qi={current:null},Yi=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Yi=null}function eo(e){var t=Qi.current;ui(Qi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yi=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw Error(a(308));Xi=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var l=o.baseState,c=0,f=null,h=null,d=null;if(null!==u)for(var p=u;;){if((s=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=l):d=d.next=m,s>c&&(c=s)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ou(s,p.suspenseConfig);e:{var y=e,v=p;switch(s=t,m=n,v.tag){case 1:if("function"==typeof(y=v.payload)){l=y.call(m,l,s);break e}l=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null==(s="function"==typeof(y=v.payload)?y.call(m,l,s):y))break e;l=i({},l,s);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===u){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===d?f=l:d.next=h,o.baseState=f,o.baseQueue=d,au(c),e.expirationTime=c,e.memoizedState=l}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var ho=Y.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=ho.suspense;(i=so(r=$s(r,e,i),i)).payload=t,null!=n&&(i.callback=n),uo(e,i),Gs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=ho.suspense;(i=so(r=$s(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),uo(e,i),Gs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Vs(),r=ho.suspense;(r=so(n=$s(n,e,r),r)).tag=2,null!=t&&(r.callback=t),uo(e,r),Gs(e,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(i,o))}function go(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=mi(t)?di:fi.current,o=(r=null!=(r=t.contextTypes))?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=mi(t)?di:fi.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Cu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Pu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Cu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case te:return(t=Au(t,e.mode,n)).return=e,t}if(_o(t)||me(t))return(t=Pu(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(_o(n)||me(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,f=a,m=a=0,y=null;null!==f&&m<s.length;m++){f.index>m?(y=f,f=null):y=f.sibling;var v=d(i,f,s[m],u);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v,f=y}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)null!==(y=p(f,i,m,s[m],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=o(y,a,m),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),l}function y(i,s,u,l){var c=me(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,m=s,y=s=0,v=null,g=u.next();null!==m&&!g.done;y++,g=u.next()){m.index>y?(v=m,m=null):v=m.sibling;var b=d(i,m,g.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,y),null===f?c=b:f.sibling=b,f=b,m=v}if(g.done)return n(i,m),c;if(null===m){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return c}for(m=r(i,m);!g.done;y++,g=u.next())null!==(g=p(m,i,y,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Pu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Cu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Au(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Iu(o,e.mode,u)).return=e,e=r),s(e);if(_o(o))return m(e,r,o,u);if(me(o))return y(e,r,o,u);if(c&&xo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var So=ko(!0),To=ko(!1),Co={},Po={current:Co},Io={current:Co},Ao={current:Co};function Oo(e){if(e===Co)throw Error(a(174));return e}function Mo(e,t){switch(li(Ao,t),li(Io,e),li(Po,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Po),li(Po,t)}function zo(){ui(Po),ui(Io),ui(Ao)}function Do(e){Oo(Ao.current);var t=Oo(Po.current),n=Ne(t,e.type);t!==n&&(li(Io,e),li(Po,n))}function jo(e){Io.current===e&&(ui(Po),ui(Io))}var Ro={current:0};function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Lo=Y.ReactCurrentDispatcher,Uo=Y.ReactCurrentBatchConfig,Bo=0,qo=null,Wo=null,Ko=null,Ho=!1;function Vo(){throw Error(a(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nr(e[n],t[n]))return!1;return!0}function Go(e,t,n,r,i,o){if(Bo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Lo.current=null===e||null===e.memoizedState?va:ga,e=n(r,i),t.expirationTime===Bo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ko=Wo=null,t.updateQueue=null,Lo.current=ba,e=n(r,i)}while(t.expirationTime===Bo)}if(Lo.current=ya,t=null!==Wo&&null!==Wo.next,Bo=0,Ko=Wo=qo=null,Ho=!1,t)throw Error(a(300));return e}function Qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?qo.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function Yo(){if(null===Wo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Wo.next;var t=null===Ko?qo.memoizedState:Ko.next;if(null!==t)Ko=t,Wo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Wo=e).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Ko?qo.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function Xo(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Wo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.expirationTime;if(c<Bo){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,c>qo.expirationTime&&(qo.expirationTime=c,au(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),ou(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,Nr(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Nr(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Qo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=ma.bind(null,qo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Yo().memoizedState}function ra(e,t,n,r){var i=Qo();qo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Yo();r=void 0===r?null:r;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==r&&$o(r,a.deps))return void ta(t,n,o,r)}qo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function ca(){}function fa(e,t){return Qo().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Ui();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Uo.suspense=r}}))}function ma(e,t,n){var r=Vs(),i=ho.suspense;i={expirationTime:r=$s(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===qo||null!==o&&o===qo)Ho=!0,i.expirationTime=Bo,qo.expirationTime=Bo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Nr(s,a))return}catch(e){}Gs(e,r)}}var ya={readContext:ro,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useResponder:Vo,useDeferredValue:Vo,useTransition:Vo},va={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Qo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Qo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ga={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:da,useReducer:Jo,useRef:na,useState:function(){return Jo(Xo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Xo),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Xo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:sa,useMemo:da,useReducer:Zo,useRef:na,useState:function(){return Zo(Xo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Xo),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Xo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},wa=null,_a=null,Ea=!1;function xa(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(Ea){var t=_a;if(t){var n=t;if(!ka(e,t)){if(!(t=_n(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,Ea=!1,void(wa=e);xa(wa,n)}wa=e,_a=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ea=!1,wa=e}}function Ta(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Ca(e){if(e!==wa)return!1;if(!Ea)return Ta(e),Ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=_a;t;)xa(e,t),t=_n(t.nextSibling);if(Ta(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_a=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_a=null}}else _a=wa?_n(e.stateNode.nextSibling):null;return!0}function Pa(){_a=wa=null,Ea=!1}var Ia=Y.ReactCurrentOwner,Aa=!1;function Oa(e,t,n,r){t.child=null===e?To(t,null,n,r):So(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Go(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,Oa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ga(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Su(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Da(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(i,r)&&e.ref===t.ref)?Ga(e,t,o):(t.effectTag|=1,(e=Tu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Da(e,t,n,r,i,o){return null!==e&&Lr(e.memoizedProps,r)&&e.ref===t.ref&&(Aa=!1,i<o)?(t.expirationTime=e.expirationTime,Ga(e,t,o)):Ra(e,t,n,r,o)}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ra(e,t,n,r,i){var o=mi(n)?di:fi.current;return o=pi(t,o),no(t,i),n=Go(e,t,n,r,o,i),null===e||Aa?(t.effectTag|=1,Oa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ga(e,t,i))}function Na(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),go(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=ro(l):l=pi(t,l=mi(n)?di:fi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(t,a,r,l),io=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),u=t.memoizedState,s!==r||h!==u||hi.current||io?("function"==typeof c&&(mo(t,n,c,r),u=t.memoizedState),(s=io||vo(t,n,s,r,h,u,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Gi(t.type,s),u=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=mi(n)?di:fi.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(t,a,r,l),io=!1,u=t.memoizedState,a.state=u,co(t,r,a,i),h=t.memoizedState,s!==r||u!==h||hi.current||io?("function"==typeof c&&(mo(t,n,c,r),h=t.memoizedState),(c=io||vo(t,n,s,r,u,h,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){ja(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&wi(t,n,!1),Ga(e,t,o);r=t.stateNode,Ia.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Oa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Mo(e,t.containerInfo)}var Ua,Ba,qa,Wa={dehydrated:null,retryTime:0};function Ka(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Ro.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Ro,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Pu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Wa,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=To(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Tu(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Tu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Wa,t.child=n,i}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Pu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Wa,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Ha(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Va(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function $a(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n);else if(19===e.tag)Ha(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===No(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o,t.lastEffect);break;case"together":Va(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Tu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&yi(),null;case 3:return zo(),ui(hi),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:jo(t),n=Oo(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ba(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(Po.current),Ca(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[kn]=t,r[Sn]=s,o){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":xe(r,s),$t("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),un(n,"onChange");break;case"textarea":Oe(r,s),$t("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var l=s[u];"children"===u?"string"==typeof l?r.textContent!==l&&(e=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(u)&&null!=l&&un(n,u)}switch(o){case"input":we(r),Te(r,s,!0);break;case"textarea":we(r),ze(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Re(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[kn]=t,e[Sn]=r,Ua(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":$t("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ye.length;l++)$t(Ye[l],e);l=r;break;case"source":$t("error",e),l=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),l=r;break;case"form":$t("reset",e),$t("submit",e),l=r;break;case"details":$t("toggle",e),l=r;break;case"input":xe(e,r),l=Ee(e,r),$t("invalid",e),un(n,"onChange");break;case"option":l=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),$t("invalid",e),un(n,"onChange");break;case"textarea":Oe(e,r),l=Ae(e,r),$t("invalid",e),un(n,"onChange");break;default:l=r}on(o,l);var c=l;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Le(e,f):"children"===s?"string"==typeof f?("textarea"!==o||""!==f)&&Ue(e,f):"number"==typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&X(e,s,f,u))}switch(o){case"input":we(e),Te(e,r,!1);break;case"textarea":we(e),ze(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ie(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ln)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Ao.current),Oo(Po.current),Ca(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return ui(Ro),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?Cs===ws&&(Cs=_s):(Cs!==ws&&Cs!==_s||(Cs=Es),0!==Ms&&null!==ks&&(zu(ks,Ts),Du(ks,Ms)))),(n||r)&&(t.effectTag|=4),null);case 4:return zo(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&yi(),null;case 19:if(ui(Ro),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Qa(r,!1);else if(Cs!==ws||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=No(s))){for(t.effectTag|=64,Qa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return li(Ro,1&Ro.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=No(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Qa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Li()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Qa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Li()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Li(),n.sibling=null,t=Ro.current,li(Ro,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zo(),ui(hi),ui(fi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return jo(e),null;case 13:return ui(Ro),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Ro),null;case 4:return zo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ve(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ba=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,l=t.stateNode;switch(Oo(Po.current),e=null,n){case"input":a=Ee(l,a),r=Ee(l,r),e=[];break;case"option":a=Pe(l,a),r=Pe(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ae(l,a),r=Ae(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(k.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(s,c)):"children"===s?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(k.hasOwnProperty(s)?(null!=c&&un(o,s),e||l===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){gu(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof Eu&&Eu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){gu(i,e)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){gu(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,l=o,c=n,f=l;;)if(as(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Le(n,u):"children"===s?Ue(n,u):X(n,s,u,t)}switch(e){case"input":Se(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ie(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ds=Li()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=wu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rs||(Rs=!0,Ns=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ys,vs=Math.ceil,gs=Y.ReactCurrentDispatcher,bs=Y.ReactCurrentOwner,ws=0,_s=3,Es=4,xs=0,ks=null,Ss=null,Ts=0,Cs=ws,Ps=null,Is=1073741823,As=1073741823,Os=null,Ms=0,zs=!1,Ds=0,js=null,Rs=!1,Ns=null,Fs=null,Ls=!1,Us=null,Bs=90,qs=null,Ws=0,Ks=null,Hs=0;function Vs(){return 0!=(48&xs)?1073741821-(Li()/10|0):0!==Hs?Hs:Hs=1073741821-(Li()/10|0)}function $s(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Ui();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&xs))return Ts;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ks&&e===Ts&&--e,e}function Gs(e,t){if(50<Ws)throw Ws=0,Ks=null,Error(a(185));if(null!==(e=Qs(e,t))){var n=Ui();1073741823===t?0!=(8&xs)&&0==(48&xs)?Zs(e):(Xs(e),0===xs&&Hi()):Xs(e),0==(4&xs)||98!==n&&99!==n||(null===qs?qs=new Map([[e,t]]):(void 0===(n=qs.get(e))||n>t)&&qs.set(e,t))}}function Qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ks===i&&(au(t),Cs===Es&&zu(i,Ts)),Du(i,t)),i}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Mu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(Zs.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Vs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&xi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(Zs.bind(null,e)):Wi(r,Js.bind(null,e),{timeout:10*(1073741821-t)-Li()}),e.callbackNode=t}}}function Js(e,t){if(Hs=0,t)return ju(e,t=Vs()),Xs(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&xs))throw Error(a(327));if(mu(),e===ks&&n===Ts||nu(e,n),null!==Ss){var r=xs;xs|=16;for(var i=iu();;)try{uu();break}catch(t){ru(e,t)}if(Zi(),xs=r,gs.current=i,1===Cs)throw t=Ps,nu(e,n),zu(e,n),Xs(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Cs,ks=null,r){case ws:case 1:throw Error(a(345));case 2:ju(e,2<n?2:n);break;case _s:if(zu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===Is&&10<(i=Ds+500-Li())){if(zs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Ys(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hu.bind(null,e),i);break}hu(e);break;case Es:if(zu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),zs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Ys(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==As?r=10*(1073741821-As)-Li():1073741823===Is?r=0:(r=10*(1073741821-Is)-5e3,0>(r=(i=Li())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hu.bind(null,e),r);break}hu(e);break;case 5:if(1073741823!==Is&&null!==Os){o=Is;var s=Os;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Li()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zu(e,n),e.timeoutHandle=bn(hu.bind(null,e),r);break}}hu(e);break;default:throw Error(a(329))}if(Xs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Zs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&xs))throw Error(a(327));if(mu(),e===ks&&t===Ts||nu(e,t),null!==Ss){var n=xs;xs|=16;for(var r=iu();;)try{su();break}catch(t){ru(e,t)}if(Zi(),xs=n,gs.current=r,1===Cs)throw n=Ps,nu(e,t),zu(e,t),Xs(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ks=null,hu(e),Xs(e)}return null}function eu(e,t){var n=xs;xs|=1;try{return e(t)}finally{0===(xs=n)&&Hi()}}function tu(e,t){var n=xs;xs&=-2,xs|=8;try{return e(t)}finally{0===(xs=n)&&Hi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:zo(),ui(hi),ui(fi);break;case 5:jo(r);break;case 4:zo();break;case 13:case 19:ui(Ro);break;case 10:eo(r)}n=n.return}ks=e,Ss=Tu(e.current,null),Ts=t,Cs=ws,Ps=null,As=Is=1073741823,Os=null,Ms=0,zs=!1}function ru(e,t){for(;;){try{if(Zi(),Lo.current=ya,Ho)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bo=0,Ko=Wo=qo=null,Ho=!1,null===Ss||null===Ss.return)return Cs=1,Ps=t,Ss=null;e:{var i=e,o=Ss.return,a=Ss,s=t;if(t=Ts,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Ro.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var y=new Set;y.add(u),f.updateQueue=y}else m.add(u);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,uo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new ds,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ye(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Cs&&(Cs=2),s=Ja(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,lo(f,ps(f,u,t));break e;case 1:u=s;var w=f.type,_=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fs||!Fs.has(_)))){f.effectTag|=4096,f.expirationTime=t,lo(f,ms(f,u,t));break e}}f=f.return}while(null!==f)}Ss=cu(Ss)}catch(e){t=e;continue}break}}function iu(){var e=gs.current;return gs.current=ya,null===e?ya:e}function ou(e,t){e<Is&&2<e&&(Is=e),null!==t&&e<As&&2<e&&(As=e,Os=t)}function au(e){e>Ms&&(Ms=e)}function su(){for(;null!==Ss;)Ss=lu(Ss)}function uu(){for(;null!==Ss&&!zi();)Ss=lu(Ss)}function lu(e){var t=ys(e.alternate,e,Ts);return e.memoizedProps=e.pendingProps,null===t&&(t=cu(e)),bs.current=null,t}function cu(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=Ya(t,Ss,Ts),1===Ts||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Xa(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Cs===ws&&(Cs=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hu(e){var t=Ui();return qi(99,du.bind(null,e,t)),null}function du(e,t){do{mu()}while(null!==Us);if(0!=(48&xs))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ks&&(Ss=ks=null,Ts=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=xs;xs|=32,bs.current=null,mn=Vt;var s=dn();if(pn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var h=0,d=-1,p=-1,m=0,y=0,v=s,g=null;t:for(;;){for(var b;v!==u||0!==c&&3!==v.nodeType||(d=h+c),v!==f||0!==l&&3!==v.nodeType||(p=h+l),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)g=v,v=b;for(;;){if(v===s)break t;if(g===u&&++m===c&&(d=h),g===f&&++y===l&&(p=h),null!==(b=v.nextSibling))break;g=(v=g).parentNode}v=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:u},Vt=!1,js=i;do{try{pu()}catch(e){if(null===js)throw Error(a(330));gu(js,e),js=js.nextEffect}}while(null!==js);js=i;do{try{for(s=e,u=t;null!==js;){var w=js.effectTag;if(16&w&&Ue(js.stateNode,""),128&w){var _=js.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:ls(js),js.effectTag&=-3;break;case 6:ls(js),js.effectTag&=-3,fs(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,fs(js.alternate,js);break;case 4:fs(js.alternate,js);break;case 8:cs(s,c=js,u),ss(c)}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));gu(js,e),js=js.nextEffect}}while(null!==js);if(E=yn,_=dn(),w=E.focusedElem,u=E.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==u&&pn(w)&&(_=u.start,void 0===(E=u.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),c=w.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!E.extend&&s>u&&(c=u,u=s,s=c),c=hn(w,s),f=hn(w,u),c&&f&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((_=_.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),s>u?(E.addRange(_),E.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Vt=!!mn,yn=mn=null,e.current=n,js=i;do{try{for(w=e;null!==js;){var x=js.effectTag;if(36&x&&os(w,js.alternate,js),128&x){_=void 0;var k=js.ref;if(null!==k){var S=js.stateNode;switch(js.tag){case 5:_=S;break;default:_=S}"function"==typeof k?k(_):k.current=_}}js=js.nextEffect}}catch(e){if(null===js)throw Error(a(330));gu(js,e),js=js.nextEffect}}while(null!==js);js=null,Di(),xs=o}else e.current=n;if(Ls)Ls=!1,Us=e,Bs=t;else for(js=i;null!==js;)t=js.nextEffect,js.nextEffect=null,js=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Ks?Ws++:(Ws=0,Ks=e):Ws=0,"function"==typeof _u&&_u(n.stateNode,r),Xs(e),Rs)throw Rs=!1,e=Ns,Ns=null,e;return 0!=(8&xs)||Hi(),null}function pu(){for(;null!==js;){var e=js.effectTag;0!=(256&e)&&ns(js.alternate,js),0==(512&e)||Ls||(Ls=!0,Wi(97,(function(){return mu(),null}))),js=js.nextEffect}}function mu(){if(90!==Bs){var e=97<Bs?97:Bs;return Bs=90,qi(e,yu)}}function yu(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&xs))throw Error(a(331));var t=xs;for(xs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(t){if(null===e)throw Error(a(330));gu(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return xs=t,Hi(),!0}function vu(e,t,n){uo(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Qs(e,1073741823))&&Xs(e)}function gu(e,t){if(3===e.tag)vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){uo(n,e=ms(n,e=Ja(t,e),1073741823)),null!==(n=Qs(n,1073741823))&&Xs(n);break}}n=n.return}}function bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ks===e&&Ts===n?Cs===Es||Cs===_s&&1073741823===Is&&Li()-Ds<500?nu(e,Ts):zs=!0:Mu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xs(e)))}function wu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=Vs(),e,null)),null!==(e=Qs(e,t))&&Xs(e)}ys=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Aa=!0;else{if(r<n){switch(Aa=!1,t.tag){case 3:La(t),Pa();break;case 5:if(Do(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ka(e,t,n):(li(Ro,1&Ro.current),null!==(t=Ga(e,t,n))?t.sibling:null);li(Ro,1&Ro.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return $a(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Ro,Ro.current),!r)return null}return Ga(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Go(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Oa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Su(e)?1:0;if(null!=e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=Ra(null,t,i,e,n);break e;case 1:t=Na(null,t,i,e,n);break e;case 11:t=Ma(null,t,i,e,n);break e;case 14:t=za(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(La(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Pa(),t=Ga(e,t,n);else{if((i=t.stateNode.hydrate)&&(_a=_n(t.stateNode.containerInfo.firstChild),wa=t,i=Ea=!0),i)for(n=To(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Oa(e,t,r,n),Pa();t=t.child}return t;case 5:return Do(t),null===e&&Sa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,gn(r,i)?s=null:null!==o&&gn(r,o)&&(t.effectTag|=16),ja(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Oa(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Ka(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Nr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=Ga(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=so(n,null)).tag=2,uo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Oa(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),za(e,t,i,o=Gi(i.type,o),r,n);case 15:return Da(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),go(t,r,i),wo(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var _u=null,Eu=null;function xu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ku(e,t,n,r){return new xu(e,t,n,r)}function Su(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tu(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Su(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Pu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=ku(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=ku(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=ku(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case he:s=16,r=null;break e;case de:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Pu(e,t,n,r){return(e=ku(7,e,r,t)).expirationTime=n,e}function Iu(e,t,n){return(e=ku(6,e,null,t)).expirationTime=n,e}function Au(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ou(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Mu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Du(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function ju(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ru(e,t,n,r){var i=t.current,o=Vs(),s=ho.suspense;o=$s(o,i,s);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=gi(n,l,u);break e}}n=u}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Gs(i,o),o}function Nu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Lu(e,t){Fu(e,t),(e=e.alternate)&&Fu(e,t)}function Uu(e,t,n){var r=new Ou(e,t,n=null!=n&&!0===n.hydrate),i=ku(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Tn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Tt.forEach((function(e){pt(e,t,n)})),Ct.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Nu(a);s.call(e)}}Ru(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Nu(a);u.call(e)}}tu((function(){Ru(t,a,e,i)}))}return Nu(a)}function Wu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bu(t))throw Error(a(200));return Wu(e,t,null,n)}Uu.prototype.render=function(e){Ru(e,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ru(null,e,null,(function(){t[Tn]=null}))},mt=function(e){if(13===e.tag){var t=$i(Vs(),150,100);Gs(e,t),Lu(e,t)}},yt=function(e){13===e.tag&&(Gs(e,3),Lu(e,3))},vt=function(e){if(13===e.tag){var t=Vs();Gs(e,t=$s(t,e,null)),Lu(e,t)}},P=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=An(r);if(!i)throw Error(a(90));_e(r),Se(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},D=eu,j=function(e,t,n,r,i){var o=xs;xs|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(xs=o)&&Hi()}},R=function(){0==(49&xs)&&(function(){if(null!==qs){var e=qs;qs=null,e.forEach((function(e,t){ju(t,e),Xs(t)})),Hi()}}(),mu())},N=function(e,t){var n=xs;xs|=2;try{return e(t)}finally{0===(xs=n)&&Hi()}};var Hu,Vu,$u={Events:[Pn,In,An,T,x,Nn,function(e){it(e,Rn)},M,z,Xt,st,mu,{current:!1}]};Vu=(Hu={findFiberByHostInstance:Cn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_u=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Eu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Hu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Vu?Vu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$u,t.createPortal=Ku,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&xs))throw Error(a(187));var n=xs;xs|=1;try{return qi(99,e.bind(null,t))}finally{xs=n,Hi()}},t.hydrate=function(e,t,n){if(!Bu(t))throw Error(a(200));return qu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bu(t))throw Error(a(200));return qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tn]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return Ku(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return qu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(30)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=d.now();t.unstable_now=function(){return d.now()-v}}var g=!1,b=null,w=-1,_=5,E=0;a=function(){return t.unstable_now()>=E},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+_;try{b(!0,e)?k.postMessage(null):(g=!1,b=null)}catch(e){throw k.postMessage(null),e}}else g=!1},r=function(e){b=e,g||(g=!0,k.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<P(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>P(a,n))void 0!==u&&0>P(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>P(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],A=[],O=1,M=null,z=3,D=!1,j=!1,R=!1;function N(e){for(var t=T(A);null!==t;){if(null===t.callback)C(A);else{if(!(t.startTime<=e))break;C(A),t.sortIndex=t.expirationTime,S(I,t)}t=T(A)}}function F(e){if(R=!1,N(e),!j)if(null!==T(I))j=!0,r(L);else{var t=T(A);null!==t&&i(F,t.startTime-e)}}function L(e,n){j=!1,R&&(R=!1,o()),D=!0;var r=z;try{for(N(n),M=T(I);null!==M&&(!(M.expirationTime>n)||e&&!a());){var s=M.callback;if(null!==s){M.callback=null,z=M.priorityLevel;var u=s(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?M.callback=u:M===T(I)&&C(I),N(n)}else C(I);M=T(I)}if(null!==M)var l=!0;else{var c=T(A);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{M=null,z=r,D=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||D||(j=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return z},t.unstable_getFirstCallbackNode=function(){return T(I)},t.unstable_next=function(e){switch(z){case 1:case 2:case 3:var t=3;break;default:t=z}var n=z;z=t;try{return e()}finally{z=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=z;z=e;try{return t()}finally{z=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),u=s;return e={id:O++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,S(A,e),null===T(I)&&e===T(A)&&(R?o():R=!0,i(F,u-s))):(e.sortIndex=a,S(I,e),j||D||(j=!0,r(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=T(I);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=z;return function(){var n=z;z=t;try{return e.apply(this,arguments)}finally{z=n}}}},function(e,t,n){e.exports=n(32)()},function(e,t,n){"use strict";var r=n(33);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case y:case l:return e;default:return t}}case o:return t}}}function x(e){return E(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||E(e)===f},t.isConcurrentMode=x,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===u||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===w||e.$$typeof===_||e.$$typeof===g)},t.typeOf=E},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(37),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,l={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[u]=i,r(u),u++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(14))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7),i=n(15),o=n(2);class a extends o.MyIterable{constructor(e,t){super(),this.toKey=e,this.cmp=t,this.data=[],this.pendList=[],this.add=(...e)=>(0!==e.length&&this.pendList.push(...e),this),this.range=(e,t)=>{if(!this.isEmpty)return r.range(this.getData(),e,t,this.toKey,this.cmp)},this.has=e=>void 0!==this.search(e),this.clone=()=>a.lightWrap(this.getData().slice(),this.toKey,this.cmp),this.slice=(e,t)=>this.getData().slice(e,t),this.right=e=>a.lightWrap(function(e,t,n,i){if(0===e.length)return[];const o=r.lowerBound(e,t,n,i);return e.slice(o)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp),this.left=e=>a.lightWrap(function(e,t,n,i){if(0===e.length)return[];const o=r.upperBound(e,t,n,i);return e.slice(0,o+1)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp),this.get=(e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return[];const[r,i]=n;return this.slice(r,i+1)},this.countRange=(e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return 0;const[r,i]=n,o=i-r+1;return console.assert(o>=1),o},this.getAt=e=>this.getData()[e],this.deleteAt=(e,t=1)=>(t>=1&&e>=0&&e<this.size&&this.getData().splice(e,t),this),this.delete=e=>{const t=this.getData(),n=r.binarySearch(t,e,this.toKey,this.cmp);if(void 0===n)return this;const[i,o]=n,a=o-i+1;return console.assert(a>=1),t.splice(i,a),this},this.search=e=>r.binarySearch(this.getData(),e,this.toKey,this.cmp),this.iterate=()=>this.getData(),this.getData=()=>{if(this.pendList.length>0){const e=a.sort(this.pendList,this.toKey,this.cmp);this.data=i.mergeK(this.toKey,this.cmp,e,this.data),this.pendList=[]}return this.data}}static wrap(e,t,n){const r=a.sort(Array.from(e),t,n);return a.lightWrap(r,t,n)}static lightWrap(e,t,n){const r=new a(t,n);return r.data=e,r}static sort(e,t,n){return e.sort((e,r)=>n(t(e),t(r)))}get size(){return this.data.length+this.pendList.length}get isEmpty(){return 0===this.size}}t.SortedList=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.isSorted=function(e,t){return r.toIt(e).pin((e,n)=>t(e,n)<=0).every(e=>e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.uniq=function(e,t){return r.toIt(function*(e,t){if(0===e.length)return;let n=e[0];for(const r of e)0!==t(r,n)&&(yield n,n=r);yield n}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5),i=n(8);function o(e,t,n,o,a,s=(()=>0)){if(console.assert(o!==a,"source and destination are the same, what are you searching for?"),!e.has(o))throw new Error("source is not a node in the graph");if(void 0!==a&&!e.has(a))throw new Error("destination is not a node in the graph");const u=new Map([[o,0]]),l=new Map,c=r.MinHeap.heapify(([,e],[,t])=>e-t,i.makePair(o,0));for(;!c.isEmpty;){const[e]=c.pop();if(void 0!==a&&e===a)break;for(const r of t(e)){const t=u.get(r),i=u.get(e);console.assert(void 0!==i);const o=n(e,r);if(console.assert(void 0!==o),o<=0)throw new Error("weight must be positive (for progress to happen)");const f=i+o;if(void 0!==t&&f>=t)continue;u.set(r,f);const h=void 0!==a?s(a,r):0;if(h<0)throw new Error("heuristic estimate should be non-negative");const d=f+h;c.add([r,d]),l.set(r,e)}}return{distance:u,parent:l}}t.aStar=o,t.aStarAdjList=function(e,t,n,r,i=(()=>0)){return o(new Set(e.keys()),t=>{const n=e.get(t);if(void 0===n)throw new Error("Inconsistent graph -- graph should at least have an empty array for every vertices");return n},t,n,r,i)},t.extractPath=function(e,t,n){let r=n;const i=[];if(void 0!==e.get(r))for(;;){if(i.push(r),r===t)return i;if(r=e.get(r),void 0===r)return}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.bfsPreOrder=function(e,t){return r.toIt(function*(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,i]=n.shift();yield[e,i],r.add(e);const o=i+1;for(const i of t(e))r.has(i)||(r.add(i),n.push([i,o]))}}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FloydWarshall=class{constructor(e,t){this.vertices=[...e.keys()],this.verticesIdx=new Map(Array.from(this.vertices).map((e,t)=>[e,t]));const n=e.size,r=new Array(n),i=this.nextMap=new Array(n);for(let e=0;e<n;e++)r[e]=new Array(n).fill(1/0),i[e]=new Array(n),r[e][e]=0;for(const[n,o]of e)for(const e of o){const o=this.verticesIdx.get(n),a=this.verticesIdx.get(e);r[o][a]=t(n,e),i[o][a]=a}for(let e=0;e<n;e++)for(let t=0;t<n;t++)for(let o=0;o<n;o++){const n=r[t][e]+r[e][o];r[t][o]>n&&(r[t][o]=n,i[t][o]=i[t][e])}}next(e,t){const n=this.verticesIdx.get(t),r=this.verticesIdx.get(e),i=this.nextMap[r][n];if(void 0!==i)return this.vertices[i]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19);t.kruskalMST=function(e,t,n){const i=new r.UnionFind,o=Array.from(e).reduce((e,n)=>{for(const r of t(n))e.push([n,r]);return e},new Array).sort(([e,t],[r,i])=>n(e,t)-n(r,i)),a=new Map(Array.from(e).map(e=>[e,[]]));for(const[e,t]of o)i.isSameSet(e,t)||(a.get(e).push(t),a.get(t).push(e),i.union(e,t));return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.stableMarriage=function(e,t){const n=function(e,t){const n=new Map;for(const[i,o]of e){const e=r.MinHeap.inPlaceWrap((e,t)=>o(t)-o(e),Array.from(t.keys()).filter(e=>void 0!==o(e)));n.set(i,e)}return n}(e,t),i=new Map,o=Array.from(e.keys());for(;o.length>0;){const e=o.pop(),r=n.get(e);for(;!r.isEmpty;){const n=r.pop(),a=t.get(n),s=a(e);if(void 0===s)continue;const u=i.get(n);if(void 0===u){i.set(n,e);break}if(s>a(u)){i.set(n,e),o.push(u);break}}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(...e){super(),this.iterate=()=>this.leftMap.entries(),this.leftMap=new Map(e),this.rightMap=new Map(e.map(([e,t])=>[t,e]))}get size(){return console.assert(this.leftMap.size===this.rightMap.size),this.leftMap.size}set(e,t){return this.leftMap.set(e,t),this.rightMap.set(t,e),this}delete(e){const t=this.leftMap.get(e);return void 0!==t&&this._delete(e,t)}deleteRight(e){const t=this.rightMap.get(e);return void 0!==t&&this._delete(t,e)}get(e){return this.leftMap.get(e)}getLeft(e){return this.rightMap.get(e)}has(e){return this.leftMap.has(e)}hasRight(e){return this.rightMap.has(e)}keys(){return this.leftMap.keys()}values(){return this.leftMap.values()}_delete(e,t){const n=this.leftMap.delete(e),r=this.rightMap.delete(t);return console.assert(n),console.assert(r),!0}}t.BiMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),i=n(2),o=n(21);class a extends i.MyIterable{constructor(e,...t){super(),this.cmp=e,this.get=e=>this.data.get(a.sortKey(this.cmp,e)),this.has=e=>this.data.has(a.sortKey(this.cmp,e)),this.delete=e=>this.data.delete(a.sortKey(this.cmp,e)),this.set=(e,t)=>this.data.set(a.sortKey(this.cmp,e),t),this.getOrSet=(e,t)=>this.data.getOrSet(a.sortKey(this.cmp,e),t),this.keys=()=>i.toIt(this.iterate()).map(([e])=>e),this.values=()=>i.toIt(this.iterate()).map(([,e])=>e),this.makeEmpty=()=>new a(this.cmp),this.iterate=()=>a.iterateHelper(this.cmp,this.data),this.data=new o.Trie(...t.map(([t,n])=>[a.sortKey(e,t),n]))}static*iterateHelper(e,t){const n=Array.from(t).sort(([t],[n])=>r.cmpList(e,t,n));for(const e of n)yield e}get size(){return this.data.size}get isEmpty(){return 0===this.size}}a.sortKey=(e,t)=>t.slice().sort(e),t.SortedTrie=a},function(e,t,n){"use strict";function r([e,t],[n,r]){return[e-n,t-r]}function i([e,t]){return Math.sqrt(e*e+t*t)}function o(e,t){return i(r(e,t))}function a([e,t],n){return[n*e,n*t]}function s([e,t],[n,r]){return e*r-n*t}function u([e,t],[n,r],[i,o]){const a=Math.max(n,i),s=Math.min(n,i),u=Math.max(r,o),l=Math.min(r,o);return e<=a&&e>=s&&t<=u&&t>=l}var l;function c(e,t,n,i){const a=r(e,n),u=r(t,n),c=o(e,t),f=c*c,h=i*i,d=s(a,u),p=h*f-d*d;return p<0?l.None:p>0?l.Intersection:l.Tangent}Object.defineProperty(t,"__esModule",{value:!0}),t.equal=function([e,t],[n,r]){return e===n&&t===r},t.compare=function([e,t],[n,r]){return e<n?-1:e>n?1:t-r},t.subtract=r,t.add=function([e,t],[n,r]){return[e+n,t+r]},t.norm=i,t.distance=o,t.scalarMult=a,t.manhattanDistance=function(e,t){const[n,i]=r(e,t);return Math.abs(n)+Math.abs(i)},t.project=function(e,t=1){const n=i(e);return console.assert(0!==n,"caller make sure the given vector is not the origin"),a(e,t/n)},t.determinant=s,t.isPointInRect=u,function(e){e[e.None=0]="None",e[e.Tangent=1]="Tangent",e[e.Intersection=2]="Intersection"}(l=t.IntersectionKind||(t.IntersectionKind={})),t.testLineCircleIntersect=c,t.testLineSegmentCircleIntersect=function(e,t,n,r){return u(n,e,t)?c(e,t,n,r):l.None}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memo=function(e){const t=new Map;return n=>{if(!t.has(n)){const r=e(n);t.set(n,r)}return t.get(n)}},t.memoBy=function(e,t){const n=new Map;return r=>{if(!n.has(r)){const i=t(r);for(const[t,r]of e(i)){if(n.has(t))throw new Error("genRange keys overlap (all keys from keyBy must be mapped to disjoint sets");n.set(t,r)}if(!n.has(r))throw new Error("genRange doesn't cover the target")}return n.get(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16);t.getAndSum=function(e,t,n){const i=r.defaultZero(e.get(t))+n;return e.set(t,i),i},t.updateMap=function(e,t,n){const r=n(e.get(t));return e.set(t,r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diamondSquare=function(e,t,n){console.assert(Number.isInteger(Math.log2(t-1)),"nside must be of the form (2^n)+1");const r=new Float32Array(t*t),i=t-1,o=([e,n])=>e>=0&&e<t&&n>=0&&n<t,a=([e,n])=>n*t+e,s=e=>r[a(e)],u=(e,t)=>{const n=a(e);console.assert(t>0),console.assert(0===r[n]),r[n]=t},l=(t,n,r)=>{const i=n.filter(o).map(s),a=i.reduce((e,t)=>e+t,0)/i.length+e()*r;console.assert(Number.isFinite(a)),u(t,a)},c=(e,t)=>{const n=e/2;for(let r=n;r<=i;r+=e)for(let o=n;o<=i;o+=e){l([o,r],[[o-n,r-n],[o+n,r-n],[o-n,r+n],[o+n,r+n]],t)}},f=(e,t)=>{const n=e/2;let r=!0;for(let o=0;o<=i;o+=n){const a=r?n:0;r=!r;for(let r=a;r<=i;r+=e){l([r,o],[[r,o-n],[r,o+n],[r-n,o],[r+n,o]],t)}}};{u([0,0],e()),u([0,t-1],e()),u([t-1,0],e()),u([t-1,t-1],e());let r=.1;for(let e=i;e>1;e/=2,r=e/t*n)c(e,r),f(e,r)}const h=Math.max(...r),d=Math.min(...r),p=h-d;console.assert(p>0);const m=r.map(e=>(e-d)/p);return console.assert(m.every(e=>e>=0&&e<=1)),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22);t.randomGen=(e,t)=>{if(r.sum(...e.values())>1)throw new Error("probability needs to be positive and less than 1");const n=[],i=[];for(const[t,r]of e){if(r<=0)throw new Error("probability needs to be positive and less than 1");n.push(t),i.push(r)}const o=void 0===t?Math.random:t;return()=>{const e=o();let t=0;for(let r=0;r<i.length;r++)if(t+=i[r],e<t)return n[r]}},t.randomGenStrict=(e,n,r)=>{if(n.has(e))throw new Error("remain should ∉ probs");const i=t.randomGen(n,r);return()=>{const t=i();return void 0===t?e:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.shuffleSlice=function(e){return r.toIt(function*(e){const t=Array.from(e);for(;t.length>0;){const e=t.length-1,n=Math.floor(Math.random()*e);yield t[n],n===e?t.pop():t[n]=t.pop()}}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(...e){super(),this.leftMap=new Map,this.rightMap=new Map,this.iterate=()=>this.leftMap.entries();for(const[t,n]of e)this.add(t,n)}get size(){return this.leftMap.size}add(e,t){this.leftMap.set(e,t),this.rightMap.set(t,e)}deleteLeft(e){const t=this.leftMap.get(e);return void 0!==t&&this.deleteHelper(e,t)}deleteRight(e){const t=this.rightMap.get(e);return void 0!==t&&this.deleteHelper(t,e)}getRight(e){return this.leftMap.get(e)}getLeft(e){return this.rightMap.get(e)}hasLeft(e){return this.leftMap.has(e)}hasRight(e){return this.rightMap.has(e)}lefts(){return r.toIt(this.leftMap.keys())}rights(){return r.toIt(this.rightMap.keys())}deleteHelper(e,t){const n=this.leftMap.delete(e),r=this.rightMap.delete(t);return console.assert(n),console.assert(r),!0}}t.BiSet=i},function(e,t,n){var r=n(56),i=n(57);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],u=t.base?o[0]+t.base:o[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var f=s(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:c,updater:y(h,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function y(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=l(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=l(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=u(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){"use strict";n.r(t);var r=n(25),i=n.n(r)()(!0);i.push([e.i,"body {\n    background-color: black;\n    color: white;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n#mapContainer {\n    display: block;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n}\n\n#map {\n    display: block;\n}\n\n#menu {\n    background: rgba(85, 85, 85, 0.7);\n    display: flex;\n    padding: 5px;\n    position: fixed;\n    left: 0;\n    right: 0;\n    justify-content: space-between;\n    align-items: center;\n}\n\n#stats {\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n}\n\n@media only screen and (max-width: 500px) {\n    #stats {\n        display: flex;\n        flex-direction: column;\n    }\n}\n\n#stats div {\n    display: flex;\n    align-items: center;\n    padding-right: 10px;\n}\n\n.titlebar {\n    background-color: darkblue;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\nnav.tabs div,\n.selectLabel,\n#menu button,\n.material-icons {\n    cursor: pointer;\n}\n\n#menu button:hover,\n.material-icons:hover {\n    color: darkgray;\n}\n\n#menu button:active,\n.material-icons:active {\n    color: gray;\n}\n\n#menu button {\n    text-align: center;\n    padding: 0;\n    border: none;\n    background: none;\n    color: white;\n    outline: none;\n}\n\n.panel {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    filter: blur(0);\n    background-color: rgba(85, 85, 85, 0.9);\n    border: 1px solid rgb(46, 46, 46);\n}\n\n.panel-content {\n    max-height: 70vh;\n    max-width: 70vw;\n    overflow: auto;\n}\n\n.panel div {\n    padding: 0 3px;\n}\n\nnav.tabs {\n    display: flex;\n    list-style: none;\n    margin: 5px;\n    padding: 0;\n}\n\nnav.tabs div {\n    display: inline;\n    padding: 2px 5px;\n    border: 1px solid black;\n}\n\n.selectLabel:hover,\nnav.tabs div:hover {\n    background-color: darkgray;\n}\n\nnav.tabs div:active {\n    background-color: rgb(46, 46, 46);\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\ntable,\nth,\ntr,\ntd {\n    border: 1px solid black;\n}","",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,YAAY;IACZ,aAAa;IACb,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,yBAAyB;IACzB,qBAAqB;IACrB,iBAAiB;AACrB;;AAEA;IACI,cAAc;IACd,aAAa;IACb,SAAS;IACT,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iCAAiC;IACjC,aAAa;IACb,YAAY;IACZ,eAAe;IACf,OAAO;IACP,QAAQ;IACR,8BAA8B;IAC9B,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;AACnB;;AAEA;IACI;QACI,aAAa;QACb,sBAAsB;IAC1B;AACJ;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,0BAA0B;IAC1B,aAAa;IACb,mBAAmB;IACnB,8BAA8B;AAClC;;AAEA;;;;IAII,eAAe;AACnB;;AAEA;;IAEI,eAAe;AACnB;;AAEA;;IAEI,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,YAAY;IACZ,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,eAAe;IACf,SAAS;IACT,QAAQ;IACR,gCAAgC;IAChC,eAAe;IACf,uCAAuC;IACvC,iCAAiC;AACrC;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,WAAW;IACX,UAAU;AACd;;AAEA;IACI,eAAe;IACf,gBAAgB;IAChB,uBAAuB;AAC3B;;AAEA;;IAEI,0BAA0B;AAC9B;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,yBAAyB;IACzB,WAAW;AACf;;AAEA;;;;IAII,uBAAuB;AAC3B",sourcesContent:["body {\n    background-color: black;\n    color: white;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n#mapContainer {\n    display: block;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n}\n\n#map {\n    display: block;\n}\n\n#menu {\n    background: rgba(85, 85, 85, 0.7);\n    display: flex;\n    padding: 5px;\n    position: fixed;\n    left: 0;\n    right: 0;\n    justify-content: space-between;\n    align-items: center;\n}\n\n#stats {\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n}\n\n@media only screen and (max-width: 500px) {\n    #stats {\n        display: flex;\n        flex-direction: column;\n    }\n}\n\n#stats div {\n    display: flex;\n    align-items: center;\n    padding-right: 10px;\n}\n\n.titlebar {\n    background-color: darkblue;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\nnav.tabs div,\n.selectLabel,\n#menu button,\n.material-icons {\n    cursor: pointer;\n}\n\n#menu button:hover,\n.material-icons:hover {\n    color: darkgray;\n}\n\n#menu button:active,\n.material-icons:active {\n    color: gray;\n}\n\n#menu button {\n    text-align: center;\n    padding: 0;\n    border: none;\n    background: none;\n    color: white;\n    outline: none;\n}\n\n.panel {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    filter: blur(0);\n    background-color: rgba(85, 85, 85, 0.9);\n    border: 1px solid rgb(46, 46, 46);\n}\n\n.panel-content {\n    max-height: 70vh;\n    max-width: 70vw;\n    overflow: auto;\n}\n\n.panel div {\n    padding: 0 3px;\n}\n\nnav.tabs {\n    display: flex;\n    list-style: none;\n    margin: 5px;\n    padding: 0;\n}\n\nnav.tabs div {\n    display: inline;\n    padding: 2px 5px;\n    border: 1px solid black;\n}\n\n.selectLabel:hover,\nnav.tabs div:hover {\n    background-color: darkgray;\n}\n\nnav.tabs div:active {\n    background-color: rgb(46, 46, 46);\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\ntable,\nth,\ntr,\ntd {\n    border: 1px solid black;\n}"],sourceRoot:""}]),t.default=i},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(6),a=(n(31),i.a.createContext(null));var s=function(e){e()},u={notify:function(){}};function l(){var e=s,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=l())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},e}();var f=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var l=n||a;return i.a.createElement(l.Provider,{value:s},o)};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(10),m=n.n(p),y=n(9),v="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,g=[],b=[null,null];function w(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){v((function(){return e.apply(void 0,t)}),n)}function E(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function x(e,t,n,r,i,o,a,s,u,l){if(e){var c=!1,f=null,h=function(){if(!c){var e,n,h=t.getState();try{e=r(h,i.current)}catch(e){n=e,f=e}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var k=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=n.methodName,l=void 0===u?"connectAdvanced":u,f=n.renderCountProp,p=void 0===f?void 0:f,v=n.shouldHandleStateChanges,S=void 0===v||v,T=n.storeKey,C=void 0===T?"store":T,P=(n.withRef,n.forwardRef),I=void 0!==P&&P,A=n.context,O=void 0===A?a:A,M=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),z=O;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=h({},M,{getDisplayName:s,methodName:l,renderCountProp:p,shouldHandleStateChanges:S,storeKey:C,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=M.pure;var f=u?r.useMemo:function(e){return e()};function v(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],u=o[1],l=o[2],p=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(y.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:z}),[s,z]),m=Object(r.useContext)(p),v=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(m)&&Boolean(m.store);var T=v?n.store:m.store,C=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(T)}),[T]),P=Object(r.useMemo)((function(){if(!S)return b;var e=new c(T,v?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,v,m]),I=P[0],A=P[1],O=Object(r.useMemo)((function(){return v?m:h({},m,{subscription:I})}),[v,m,I]),M=Object(r.useReducer)(w,g,k),D=M[0][0],j=M[1];if(D&&D.error)throw D.error;var R=Object(r.useRef)(),N=Object(r.useRef)(l),F=Object(r.useRef)(),L=Object(r.useRef)(!1),U=f((function(){return F.current&&l===N.current?F.current:C(T.getState(),l)}),[T,D,l]);_(E,[N,R,L,l,U,F,A]),_(x,[S,T,I,C,N,R,L,F,A,j],[T,I,C]);var B=Object(r.useMemo)((function(){return i.a.createElement(t,h({},U,{ref:u}))}),[u,t,U]);return Object(r.useMemo)((function(){return S?i.a.createElement(p.Provider,{value:O},B):B}),[p,B,O])}var T=u?i.a.memo(v):v;if(T.WrappedComponent=t,T.displayName=o,I){var P=i.a.forwardRef((function(e,t){return i.a.createElement(T,h({},e,{reactReduxForwardedRef:t}))}));return P.displayName=o,P.WrappedComponent=t,m()(P,t)}return m()(T,t)}}function T(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function C(e,t){if(T(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!T(e[n[i]],t[n[i]]))return!1;return!0}var P=n(11),I=function(){return Math.random().toString(36).substring(7).split("").join(".")},A={INIT:"@@redux/INIT"+I(),REPLACE:"@@redux/REPLACE"+I(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+I()}};function O(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function M(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(M)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var n=s.indexOf(e);s.splice(n,1),a=null}}}function h(e){if(!O(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,h({type:A.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[P.a]=function(){return this},e}return h({type:A.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:d})[P.a]=p,r}function z(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function D(e,t){return function(){return t(e.apply(this,arguments))}}function j(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function R(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=R(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=R(i),i=r(t,n)),i},r}}var F=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:j((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?j((function(t){return function(e,t){if("function"==typeof e)return D(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=D(i,t))}return n}(e,t)})):void 0}];var L=[function(e){return"function"==typeof e?N(e):void 0},function(e){return e?void 0:j((function(){return{}}))}];function U(e,t,n){return h({},n,{},e,{},t)}var B=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return U}}];function q(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function W(e,t,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p,m,y=!f(d,a),v=!c(i,o);return o=i,a=d,y&&v?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):y?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),l=n(s,u,a)):v?(p=e(o,a),m=!h(p,s),s=p,m&&(l=n(s,u,a)),l):l}return function(i,c){return d?p(i,c):(s=e(o=i,a=c),u=t(r,a),l=n(s,u,a),d=!0,l)}}function K(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?W:q)(a,s,u,e,o)}function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function V(e,t){return e===t}function $(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?S:n,i=t.mapStateToPropsFactories,o=void 0===i?L:i,a=t.mapDispatchToPropsFactories,s=void 0===a?F:a,u=t.mergePropsFactories,l=void 0===u?B:u,c=t.selectorFactory,f=void 0===c?K:c;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,p=a.areStatesEqual,m=void 0===p?V:p,y=a.areOwnPropsEqual,v=void 0===y?C:y,g=a.areStatePropsEqual,b=void 0===g?C:g,w=a.areMergedPropsEqual,_=void 0===w?C:w,E=d(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=H(e,o,"mapStateToProps"),k=H(t,s,"mapDispatchToProps"),S=H(n,l,"mergeProps");return r(f,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:x,initMapDispatchToProps:k,initMergeProps:S,pure:c,areStatesEqual:m,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},E))}}var G=$();var Q;Q=o.unstable_batchedUpdates,s=Q;var Y,X,J=n(24);!function(e){e[e.Hold=0]="Hold",e[e.Move=1]="Move",e[e.Docked=2]="Docked"}(Y||(Y={})),function(e){e[e.Planet=0]="Planet",e[e.Fleet=1]="Fleet",e[e.RouteSegment=2]="RouteSegment"}(X||(X={}));Object.keys(X).filter(e=>"number"==typeof X[e]).map(e=>Number(X[e]));var Z={};function ee(e){e&&(e.value=!0)}function te(){}function ne(e){return void 0===e.size&&(e.size=e.__iterate(ie)),e.size}function re(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?ne(e)+t:t}function ie(){return!0}function oe(e,t,n){return(0===e&&!le(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function ae(e,t){return ue(e,t,0)}function se(e,t){return ue(e,t,t)}function ue(e,t,n){return void 0===e?n:le(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function le(e){return e<0||0===e&&1/e==-1/0}function ce(e){return Boolean(e&&e["@@__IMMUTABLE_ITERABLE__@@"])}function fe(e){return Boolean(e&&e["@@__IMMUTABLE_KEYED__@@"])}function he(e){return Boolean(e&&e["@@__IMMUTABLE_INDEXED__@@"])}function de(e){return fe(e)||he(e)}var pe=function(e){return ce(e)?e:De(e)},me=function(e){function t(e){return fe(e)?e:je(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pe),ye=function(e){function t(e){return he(e)?e:Re(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pe),ve=function(e){function t(e){return ce(e)&&!de(e)?e:Ne(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pe);pe.Keyed=me,pe.Indexed=ye,pe.Set=ve;function ge(e){return Boolean(e&&e["@@__IMMUTABLE_SEQ__@@"])}function be(e){return Boolean(e&&e["@@__IMMUTABLE_RECORD__@@"])}function we(e){return ce(e)||be(e)}var _e="@@__IMMUTABLE_ORDERED__@@";function Ee(e){return Boolean(e&&e[_e])}var xe="function"==typeof Symbol&&Symbol.iterator,ke=xe||"@@iterator",Se=function(e){this.next=e};function Te(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function Ce(){return{value:void 0,done:!0}}function Pe(e){return!!Oe(e)}function Ie(e){return e&&"function"==typeof e.next}function Ae(e){var t=Oe(e);return t&&t.call(e)}function Oe(e){var t=e&&(xe&&e[xe]||e["@@iterator"]);if("function"==typeof t)return t}Se.prototype.toString=function(){return"[Iterator]"},Se.KEYS=0,Se.VALUES=1,Se.ENTRIES=2,Se.prototype.inspect=Se.prototype.toSource=function(){return this.toString()},Se.prototype[ke]=function(){return this};var Me=Object.prototype.hasOwnProperty;function ze(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var De=function(e){function t(e){return null==e?qe():we(e)?e.toSeq():function(e){var t=He(e);if(t)return t;if("object"==typeof e)return new Le(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[t?r-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new Se((function(){if(i===r)return{value:void 0,done:!0};var o=n[t?r-++i:i++];return Te(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(pe),je=function(e){function t(e){return null==e?qe().toKeyedSeq():ce(e)?fe(e)?e.toSeq():e.fromEntrySeq():be(e)?e.toSeq():We(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(De),Re=function(e){function t(e){return null==e?qe():ce(e)?fe(e)?e.entrySeq():e.toIndexedSeq():be(e)?e.toSeq().entrySeq():Ke(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(De),Ne=function(e){function t(e){return(ce(e)&&!de(e)?e:Re(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(De);De.isSeq=ge,De.Keyed=je,De.Set=Ne,De.Indexed=Re,De.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var Fe=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[re(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var o=t?r-++i:i++;if(!1===e(n[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new Se((function(){if(i===r)return{value:void 0,done:!0};var o=t?r-++i:i++;return Te(e,o,n[o])}))},t}(Re),Le=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Me.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var a=r[t?i-++o:o++];if(!1===e(n[a],a,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,o=0;return new Se((function(){if(o===i)return{value:void 0,done:!0};var a=r[t?i-++o:o++];return Te(e,a,n[a])}))},t}(je);Le.prototype[_e]=!0;var Ue,Be=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=Ae(this._collection),r=0;if(Ie(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=Ae(this._collection);if(!Ie(n))return new Se(Ce);var r=0;return new Se((function(){var t=n.next();return t.done?t:Te(e,r++,t.value)}))},t}(Re);function qe(){return Ue||(Ue=new Fe([]))}function We(e){var t=Array.isArray(e)?new Fe(e):Pe(e)?new Be(e):void 0;if(t)return t.fromEntrySeq();if("object"==typeof e)return new Le(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Ke(e){var t=He(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function He(e){return ze(e)?new Fe(e):Pe(e)?new Be(e):void 0}function Ve(e){return Boolean(e&&e["@@__IMMUTABLE_MAP__@@"])}function $e(e){return Ve(e)&&Ee(e)}function Ge(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function Qe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(Ge(e)&&Ge(t)&&e.equals(t))}var Ye="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Xe(e){return e>>>1&1073741824|3221225471&e}var Je=Object.prototype.valueOf;function Ze(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return Xe(t)}(e);case"string":return e.length>st?function(e){var t=ct[e];void 0===t&&(t=et(e),lt===ut&&(lt=0,ct={}),lt++,ct[e]=t);return t}(e):et(e);case"object":case"function":return null===e?1108378658:"function"==typeof e.hashCode?Xe(e.hashCode(e)):(e.valueOf!==Je&&"function"==typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(it&&void 0!==(t=rt.get(e)))return t;if(void 0!==(t=e[at]))return t;if(!nt){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[at]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++ot,1073741824&ot&&(ot=0);if(it)rt.set(e,t);else{if(void 0!==tt&&!1===tt(e))throw new Error("Non-extensible objects are not allowed as keys.");if(nt)Object.defineProperty(e,at,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[at]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[at]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"==typeof e.toString)return et(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function et(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Xe(t)}var tt=Object.isExtensible,nt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var rt,it="function"==typeof WeakMap;it&&(rt=new WeakMap);var ot=0,at="__immutablehash__";"function"==typeof Symbol&&(at=Symbol(at));var st=16,ut=255,lt=0,ct={},ft=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=vt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=yt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(je);ft.prototype[_e]=!0;var ht=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&ne(this),this._iter.__iterate((function(i){return e(i,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(1,t),i=0;return t&&ne(this),new Se((function(){var o=r.next();return o.done?o:Te(e,t?n.size-++i:i++,o.value,o)}))},t}(Re),dt=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new Se((function(){var t=n.next();return t.done?t:Te(e,t.value,t.value,t)}))},t}(Ne),pt=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Pt(t);var r=ce(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new Se((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Pt(r);var i=ce(r);return Te(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},t}(je);function mt(e){var t=At(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ot,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new Se((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function yt(e,t,n){var r=At(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,Z);return o===Z?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(2,i);return new Se((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return Te(r,s,t.call(n,a[1],s,e),i)}))},r}function vt(e,t){var n=this,r=At(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=mt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Ot,r.__iterate=function(n,r){var i=this,o=0;return r&&ne(e),e.__iterate((function(e,a){return n(e,t?a:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&ne(e);var a=e.__iterator(2,!i);return new Se((function(){var e=a.next();if(e.done)return e;var s=e.value;return Te(r,t?s[0]:i?n.size-++o:o++,s[1],e)}))},r}function gt(e,t,n,r){var i=At(e);return r&&(i.has=function(r){var i=e.get(r,Z);return i!==Z&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,Z);return o!==Z&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,u){if(t.call(n,e,o,u))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(2,o),s=0;return new Se((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,l=u[0],c=u[1];if(t.call(n,c,l,e))return Te(i,r?l:s++,c,o)}}))},i}function bt(e,t,n,r){var i=e.size;if(oe(t,n,i))return e;var o=ae(t,i),a=se(n,i);if(o!=o||a!=a)return bt(e.toSeq().cacheResult(),t,n,r);var s,u=a-o;u==u&&(s=u<0?0:u);var l=At(e);return l.size=0===s?s:e.size&&s||void 0,!r&&ge(e)&&s>=0&&(l.get=function(t,n){return(t=re(this,t))>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,l=0;return e.__iterate((function(e,n){if(!u||!(u=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==s})),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new Se(Ce);var i=e.__iterator(t,n),a=0,u=0;return new Se((function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return r||1===t||e.done?e:Te(t,u-1,0===t?void 0:e.value[1],e)}))},l}function wt(e,t,n,r){var i=At(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate((function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return u++,i(e,r?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(2,o),u=!0,l=0;return new Se((function(){var e,o,c;do{if((e=s.next()).done)return r||1===i?e:Te(i,l++,0===i?void 0:e.value[1],e);var f=e.value;o=f[0],c=f[1],u&&(u=t.call(n,c,o,a))}while(u);return 2===i?e:Te(i,o,c,e)}))},i}function _t(e,t){var n=fe(e),r=[e].concat(t).map((function(e){return ce(e)?n&&(e=me(e)):e=n?We(e):Ke(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&fe(i)||he(e)&&he(i))return i}var o=new Fe(r);return n?o=o.toKeyedSeq():he(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),o}function Et(e,t,n){var r=At(e);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function e(u,l){u.__iterate((function(o,u){return(!t||l<t)&&ce(o)?e(o,l+1):(a++,!1===i(o,n?u:a-1,r)&&(s=!0)),!s}),o)}(e,0),a},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(r,i),a=[],s=0;return new Se((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(2===r&&(u=u[1]),t&&!(a.length<t)||!ce(u))return n?e:Te(r,s++,u,e);a.push(o),o=u.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function xt(e,t,n){t||(t=Mt);var r=fe(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).valueSeq().toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?je(o):he(e)?Re(o):Ne(o)}function kt(e,t,n){if(t||(t=Mt),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return St(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return St(t,e,n)?n:e}))}function St(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Tt(e,t,n,r){var i=At(e),o=new Fe(n).map((function(e){return e.size}));return i.size=r?o.max():o.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map((function(e){return e=pe(e),Ae(i?e.reverse():e)})),a=0,s=!1;return new Se((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:Te(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Ct(e,t){return e===t?e:ge(e)?t:e.constructor(t)}function Pt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function It(e){return fe(e)?me:he(e)?ye:ve}function At(e){return Object.create((fe(e)?je:he(e)?Re:Ne).prototype)}function Ot(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):De.prototype.cacheResult.call(this)}function Mt(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function zt(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function Dt(e,t){if(!e)throw new Error(t)}function jt(e){Dt(e!==1/0,"Cannot perform this action with an infinite size.")}function Rt(e){if(ze(e)&&"string"!=typeof e)return e;if(Ee(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Nt(e){return e&&("function"!=typeof e.constructor||"Object"===e.constructor.name)}function Ft(e){return"object"==typeof e&&(we(e)||Array.isArray(e)||Nt(e))}function Lt(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function Ut(e,t){return we(e)?e.has(t):Ft(e)&&Me.call(e,t)}function Bt(e,t,n){return we(e)?e.get(t,n):Ut(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function qt(e){if(Array.isArray(e))return zt(e);var t={};for(var n in e)Me.call(e,n)&&(t[n]=e[n]);return t}function Wt(e,t){if(!Ft(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(we(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Me.call(e,t))return e;var n=qt(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function Kt(e,t,n){if(!Ft(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(we(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Me.call(e,t)&&n===e[t])return e;var r=qt(e);return r[t]=n,r}function Ht(e,t,n,r){r||(r=n,n=void 0);var i=function e(t,n,r,i,o,a){var s=n===Z;if(i===r.length){var u=s?o:n,l=a(u);return l===u?n:l}if(!s&&!Ft(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map(Lt)+"]: "+n);var c=r[i],f=s?Z:Bt(n,c,Z),h=e(f===Z?t:we(f),f,r,i+1,o,a);return h===f?n:h===Z?Wt(n,c):Kt(s?t?Sn():{}:n,c,h)}(we(e),e,Rt(t),0,n,r);return i===Z?n:i}function Vt(e,t,n){return Ht(e,t,Z,(function(){return n}))}function $t(e,t){return Vt(this,e,t)}function Gt(e,t){return Ht(e,t,(function(){return Z}))}function Qt(e){return Gt(this,e)}function Yt(e,t,n,r){return Ht(e,[t],n,r)}function Xt(e,t,n){return 1===arguments.length?e(this):Yt(this,e,t,n)}function Jt(e,t,n){return Ht(this,e,t,n)}function Zt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return tn(this,e)}function en(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return tn(this,t,e)}function tn(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=me(t[i]);0!==o.size&&r.push(o)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){Yt(e,r,Z,(function(e){return e===Z?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)})):e.constructor(r[0])}function nn(e,t,n){return rn(e,t,function(e){return function t(n,r,i){return Ft(n)&&Ft(r)?rn(n,[r],t):e?e(n,r,i):r}}(n))}function rn(e,t,n){if(!Ft(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(we(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,o=r?ye:me,a=r?function(t){i===e&&(i=qt(i)),i.push(t)}:function(t,r){var o=Me.call(i,r),a=o&&n?n(i[r],t,r):t;o&&a===i[r]||(i===e&&(i=qt(i)),i[r]=a)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function on(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return nn(this,e)}function an(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return nn(this,t,e)}function sn(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ht(this,e,Sn(),(function(e){return rn(e,t)}))}function un(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ht(this,e,Sn(),(function(e){return nn(e,t)}))}function ln(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function cn(){return this.__ownerID?this:this.__ensureOwner(new te)}function fn(){return this.__ensureOwner()}function hn(){return this.__altered}ht.prototype.cacheResult=ft.prototype.cacheResult=dt.prototype.cacheResult=pt.prototype.cacheResult=Ot;var dn=function(e){function t(t){return null==t?Sn():Ve(t)&&!Ee(t)?t:Sn().withMutations((function(n){var r=e(t);jt(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Sn().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Tn(this,e,t)},t.prototype.remove=function(e){return Tn(this,e,Z)},t.prototype.deleteAll=function(e){var t=pe(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Sn()},t.prototype.sort=function(e){return Yn(xt(this,e))},t.prototype.sortBy=function(e,t){return Yn(xt(this,t,e))},t.prototype.map=function(e,t){return this.withMutations((function(n){n.forEach((function(r,i){n.set(i,e.call(t,r,i,n))}))}))},t.prototype.__iterator=function(e,t){return new _n(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kn(this.size,this._root,e,this.__hash):0===this.size?Sn():(this.__ownerID=e,this.__altered=!1,this)},t}(me);dn.isMap=Ve;var pn=dn.prototype;pn["@@__IMMUTABLE_MAP__@@"]=!0,pn.delete=pn.remove,pn.removeAll=pn.deleteAll,pn.setIn=$t,pn.removeIn=pn.deleteIn=Qt,pn.update=Xt,pn.updateIn=Jt,pn.merge=pn.concat=Zt,pn.mergeWith=en,pn.mergeDeep=on,pn.mergeDeepWith=an,pn.mergeIn=sn,pn.mergeDeepIn=un,pn.withMutations=ln,pn.wasAltered=hn,pn.asImmutable=fn,pn["@@transducer/init"]=pn.asMutable=cn,pn["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},pn["@@transducer/result"]=function(e){return e.asImmutable()};var mn=function(e,t){this.ownerID=e,this.entries=t};mn.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Qe(n,i[o][0]))return i[o][1];return r},mn.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===Z,u=this.entries,l=0,c=u.length;l<c&&!Qe(r,u[l][0]);l++);var f=l<c;if(f?u[l][1]===i:s)return this;if(ee(a),(s||!f)&&ee(o),!s||1!==u.length){if(!f&&!s&&u.length>=Mn)return function(e,t,n,r){e||(e=new te);for(var i=new bn(e,Ze(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,r,i);var h=e&&e===this.ownerID,d=h?u:zt(u);return f?s?l===c-1?d.pop():d[l]=d.pop():d[l]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new mn(e,d)}};var yn=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};yn.prototype.get=function(e,t,n,r){void 0===t&&(t=Ze(n));var i=1<<(31&(0===e?t:t>>>e)),o=this.bitmap;return 0==(o&i)?r:this.nodes[An(o&i-1)].get(e+5,t,n,r)},yn.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ze(r));var s=31&(0===t?n:n>>>t),u=1<<s,l=this.bitmap,c=0!=(l&u);if(!c&&i===Z)return this;var f=An(l&u-1),h=this.nodes,d=c?h[f]:void 0,p=Cn(d,e,t+5,n,r,i,o,a);if(p===d)return this;if(!c&&p&&h.length>=zn)return function(e,t,n,r,i){for(var o=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new vn(e,o+1,a)}(e,h,l,s,p);if(c&&!p&&2===h.length&&Pn(h[1^f]))return h[1^f];if(c&&p&&1===h.length&&Pn(p))return p;var m=e&&e===this.ownerID,y=c?p?l:l^u:l|u,v=c?p?On(h,f,p,m):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(h,f,m):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(h,f,p,m);return m?(this.bitmap=y,this.nodes=v,this):new yn(e,y,v)};var vn=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};vn.prototype.get=function(e,t,n,r){void 0===t&&(t=Ze(n));var i=31&(0===e?t:t>>>e),o=this.nodes[i];return o?o.get(e+5,t,n,r):r},vn.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ze(r));var s=31&(0===t?n:n>>>t),u=i===Z,l=this.nodes,c=l[s];if(u&&!c)return this;var f=Cn(c,e,t+5,n,r,i,o,a);if(f===c)return this;var h=this.count;if(c){if(!f&&--h<Dn)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,l=t.length;s<l;s++,u<<=1){var c=t[s];void 0!==c&&s!==r&&(i|=u,a[o++]=c)}return new yn(e,i,a)}(e,l,h,s)}else h++;var d=e&&e===this.ownerID,p=On(l,s,f,d);return d?(this.count=h,this.nodes=p,this):new vn(e,h,p)};var gn=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};gn.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Qe(n,i[o][0]))return i[o][1];return r},gn.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Ze(r));var s=i===Z;if(n!==this.keyHash)return s?this:(ee(a),ee(o),In(this,e,t,n,[r,i]));for(var u=this.entries,l=0,c=u.length;l<c&&!Qe(r,u[l][0]);l++);var f=l<c;if(f?u[l][1]===i:s)return this;if(ee(a),(s||!f)&&ee(o),s&&2===c)return new bn(e,this.keyHash,u[1^l]);var h=e&&e===this.ownerID,d=h?u:zt(u);return f?s?l===c-1?d.pop():d[l]=d.pop():d[l]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new gn(e,this.keyHash,d)};var bn=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};bn.prototype.get=function(e,t,n,r){return Qe(n,this.entry[0])?this.entry[1]:r},bn.prototype.update=function(e,t,n,r,i,o,a){var s=i===Z,u=Qe(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(ee(a),s?void ee(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new bn(e,this.keyHash,[r,i]):(ee(o),In(this,e,t,Ze(r),[r,i])))},mn.prototype.iterate=gn.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},yn.prototype.iterate=vn.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},bn.prototype.iterate=function(e,t){return e(this.entry)};var wn,_n=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&xn(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return En(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return En(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return En(e,o.entry);t=this._stack=xn(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(Se);function En(e,t){return Te(e,t[0],t[1])}function xn(e,t){return{node:e,index:0,__prev:t}}function kn(e,t,n,r){var i=Object.create(pn);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Sn(){return wn||(wn=kn(0))}function Tn(e,t,n){var r,i;if(e._root){var o={value:!1},a={value:!1};if(r=Cn(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===Z?-1:1:0)}else{if(n===Z)return e;i=1,r=new mn(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?kn(i,r):Sn()}function Cn(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===Z?e:(ee(s),ee(a),new bn(t,r,[i,o]))}function Pn(e){return e.constructor===bn||e.constructor===gn}function In(e,t,n,r,i){if(e.keyHash===r)return new gn(t,r,[e.entry,i]);var o,a=31&(0===n?e.keyHash:e.keyHash>>>n),s=31&(0===n?r:r>>>n),u=a===s?[In(e,t,n+5,r,i)]:(o=new bn(t,r,i),a<s?[e,o]:[o,e]);return new yn(t,1<<a|1<<s,u)}function An(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function On(e,t,n,r){var i=r?e:zt(e);return i[t]=n,i}var Mn=8,zn=16,Dn=8;function jn(e){return Boolean(e&&e["@@__IMMUTABLE_LIST__@@"])}var Rn=function(e){function t(t){var n=Wn();if(null==t)return n;if(jn(t))return t;var r=e(t),i=r.size;return 0===i?n:(jt(i),i>0&&i<32?qn(0,i,5,null,new Fn(r.toArray())):n.withMutations((function(e){e.setSize(i),r.forEach((function(t,n){return e.set(n,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=re(this,e))>=0&&e<this.size){var n=Vn(this,e+=this._origin);return n&&n.array[31&e]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=re(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?$n(e,t).set(0,n):$n(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o={value:!1};t>=Gn(e._capacity)?r=Kn(r,e.__ownerID,0,t,n,o):i=Kn(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return qn(e._origin,e._capacity,e._level,i,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Wn()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){$n(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return $n(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){$n(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return $n(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],o=e("string"!=typeof i&&Pe(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return $n(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,r))}))},t.prototype.slice=function(e,t){var n=this.size;return oe(e,t,n)?this:$n(this,ae(e,n),se(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=Bn(this,t);return new Se((function(){var i=r();return i===Un?{value:void 0,done:!0}:Te(e,t?--n:n++,i)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=Bn(this,t);(n=i())!==Un&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?Wn():(this.__ownerID=e,this.__altered=!1,this)},t}(ye);Rn.isList=jn;var Nn=Rn.prototype;Nn["@@__IMMUTABLE_LIST__@@"]=!0,Nn.delete=Nn.remove,Nn.merge=Nn.concat,Nn.setIn=$t,Nn.deleteIn=Nn.removeIn=Qt,Nn.update=Xt,Nn.updateIn=Jt,Nn.mergeIn=sn,Nn.mergeDeepIn=un,Nn.withMutations=ln,Nn.wasAltered=hn,Nn.asImmutable=fn,Nn["@@transducer/init"]=Nn.asMutable=cn,Nn["@@transducer/step"]=function(e,t){return e.push(t)},Nn["@@transducer/result"]=function(e){return e.asImmutable()};var Fn=function(e,t){this.array=e,this.ownerID=t};Fn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&31;if(r>=this.array.length)return new Fn([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-5,n))===a&&o)return this}if(o&&!i)return this;var s=Hn(this,e);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},Fn.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&31;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-5,n))===o&&i===this.array.length-1)return this}var a=Hn(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Ln,Un={};function Bn(e,t){var n=e._origin,r=e._capacity,i=Gn(r),o=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,u=a>n?0:n-a,l=r-a;l>32&&(l=32);return function(){if(u===l)return Un;var e=t?--l:u++;return s&&s[e]}}(e,u):function(e,i,o){var s,u=e&&e.array,l=o>n?0:n-o>>i,c=1+(r-o>>i);c>32&&(c=32);return function(){for(;;){if(s){var e=s();if(e!==Un)return e;s=null}if(l===c)return Un;var n=t?--c:l++;s=a(u&&u[n],i-5,o+(n<<i))}}}(e,s,u)}}function qn(e,t,n,r,i,o,a){var s=Object.create(Nn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Wn(){return Ln||(Ln=qn(0,0,5))}function Kn(e,t,n,r,i,o){var a,s=r>>>n&31,u=e&&s<e.array.length;if(!u&&void 0===i)return e;if(n>0){var l=e&&e.array[s],c=Kn(l,t,n-5,r,i,o);return c===l?e:((a=Hn(e,t)).array[s]=c,a)}return u&&e.array[s]===i?e:(o&&ee(o),a=Hn(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Hn(e,t){return t&&e&&t===e.ownerID?e:new Fn(e?e.array.slice():[],t)}function Vn(e,t){if(t>=Gn(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&31],r-=5;return n}}function $n(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new te,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,l=e._root,c=0;a+c<0;)l=new Fn(l&&l.array.length?[void 0,l]:[],r),c+=1<<(u+=5);c&&(a+=c,i+=c,s+=c,o+=c);for(var f=Gn(o),h=Gn(s);h>=1<<u+5;)l=new Fn(l&&l.array.length?[l]:[],r),u+=5;var d=e._tail,p=h<f?Vn(e,s-1):h>f?new Fn([],r):d;if(d&&h>f&&a<o&&d.array.length){for(var m=l=Hn(l,r),y=u;y>5;y-=5){var v=f>>>y&31;m=m.array[v]=Hn(m.array[v],r)}m.array[f>>>5&31]=d}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,u=5,l=null,p=p&&p.removeBefore(r,0,a);else if(a>i||h<f){for(c=0;l;){var g=a>>>u&31;if(g!==h>>>u&31)break;g&&(c+=(1<<u)*g),u-=5,l=l.array[g]}l&&a>i&&(l=l.removeBefore(r,u,a-c)),l&&h<f&&(l=l.removeAfter(r,u,h-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=l,e._tail=p,e.__hash=void 0,e.__altered=!0,e):qn(a,s,u,l,p)}function Gn(e){return e<32?0:e-1>>>5<<5}var Qn,Yn=function(e){function t(e){return null==e?Jn():$e(e)?e:Jn().withMutations((function(t){var n=me(e);jt(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Jn()},t.prototype.set=function(e,t){return Zn(this,e,t)},t.prototype.remove=function(e){return Zn(this,e,Z)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Xn(t,n,e,this.__hash):0===this.size?Jn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(dn);function Xn(e,t,n,r){var i=Object.create(Yn.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Jn(){return Qn||(Qn=Xn(Sn(),Wn()))}function Zn(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(n===Z){if(!u)return e;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Xn(r,i)}Yn.isOrderedMap=$e,Yn.prototype[_e]=!0,Yn.prototype.delete=Yn.prototype.remove;function er(e){return Boolean(e&&e["@@__IMMUTABLE_STACK__@@"])}var tr=function(e){function t(e){return null==e?or():er(e)?e:or().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=re(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):ir(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&er(t))return t;jt(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):ir(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):or()},t.prototype.slice=function(t,n){if(oe(t,n,this.size))return this;var r=ae(t,this.size);if(se(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):ir(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ir(this.size,this._head,e,this.__hash):0===this.size?or():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new Fe(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new Fe(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new Se((function(){if(r){var t=r.value;return r=r.next,Te(e,n++,t)}return{value:void 0,done:!0}}))},t}(ye);tr.isStack=er;var nr,rr=tr.prototype;function ir(e,t,n,r){var i=Object.create(rr);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function or(){return nr||(nr=ir(0))}rr["@@__IMMUTABLE_STACK__@@"]=!0,rr.shift=rr.pop,rr.unshift=rr.push,rr.unshiftAll=rr.pushAll,rr.withMutations=ln,rr.wasAltered=hn,rr.asImmutable=fn,rr["@@transducer/init"]=rr.asMutable=cn,rr["@@transducer/step"]=function(e,t){return e.unshift(t)},rr["@@transducer/result"]=function(e){return e.asImmutable()};function ar(e){return Boolean(e&&e["@@__IMMUTABLE_SET__@@"])}function sr(e){return ar(e)&&Ee(e)}function ur(e,t){if(e===t)return!0;if(!ce(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||fe(e)!==fe(t)||he(e)!==he(t)||Ee(e)!==Ee(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!de(e);if(Ee(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&Qe(i[1],e)&&(n||Qe(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,s=t.__iterate((function(t,r){if(n?!e.has(t):i?!Qe(t,e.get(r,Z)):!Qe(e.get(r,Z),t))return a=!1,!1}));return a&&e.size===s}function lr(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function cr(e){if(!e||"object"!=typeof e)return e;if(!ce(e)){if(!Ft(e))return e;e=De(e)}if(fe(e)){var t={};return e.__iterate((function(e,n){t[n]=cr(e)})),t}var n=[];return e.__iterate((function(e){n.push(cr(e))})),n}var fr=function(e){function t(t){return null==t?yr():ar(t)&&!Ee(t)?t:yr().withMutations((function(n){var r=e(t);jt(r.size),r.forEach((function(e){return n.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(me(e).keySeq())},t.intersect=function(e){return(e=pe(e).toArray()).length?dr.intersect.apply(t(e.pop()),e):yr()},t.union=function(e){return(e=pe(e).toArray()).length?dr.union.apply(t(e.pop()),e):yr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return pr(this,this._map.set(e,e))},t.prototype.remove=function(e){return pr(this,this._map.remove(e))},t.prototype.clear=function(){return pr(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],i=[];return this.forEach((function(o){var a=e.call(t,o,o,n);a!==o&&(r.push(o),i.push(a))})),this.withMutations((function(e){r.forEach((function(t){return e.remove(t)})),i.forEach((function(t){return e.add(t)}))}))},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return Dr(xt(this,e))},t.prototype.sortBy=function(e,t){return Dr(xt(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(ve);fr.isSet=ar;var hr,dr=fr.prototype;function pr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function mr(e,t){var n=Object.create(dr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function yr(){return hr||(hr=mr(Sn()))}dr["@@__IMMUTABLE_SET__@@"]=!0,dr.delete=dr.remove,dr.merge=dr.concat=dr.union,dr.withMutations=ln,dr.asImmutable=fn,dr["@@transducer/init"]=dr.asMutable=cn,dr["@@transducer/step"]=function(e,t){return e.add(t)},dr["@@transducer/result"]=function(e){return e.asImmutable()},dr.__empty=yr,dr.__make=mr;var vr,gr=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(Dt(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(vr)return vr;vr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+re(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return oe(e,n,this.size)?this:(e=ae(e,this.size),(n=se(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==e(i,t?n-++o:o++,this);)i+=t?-r:r;return o},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;return new Se((function(){if(o===n)return{value:void 0,done:!0};var a=i;return i+=t?-r:r,Te(e,t?n-++o:o++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:ur(this,e)},t}(Re);function br(e,t,n){for(var r=Rt(t),i=0;i!==r.length;)if((e=Bt(e,r[i++],Z))===Z)return n;return e}function wr(e,t){return br(this,e,t)}function _r(e,t){return br(e,t,Z)!==Z}function Er(){jt(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}pe.isIterable=ce,pe.isKeyed=fe,pe.isIndexed=he,pe.isAssociative=de,pe.isOrdered=Ee,pe.Iterator=Se,lr(pe,{toArray:function(){jt(this.size);var e=new Array(this.size||0),t=fe(this),n=0;return this.__iterate((function(r,i){e[n++]=t?[i,r]:r})),e},toIndexedSeq:function(){return new ht(this)},toJS:function(){return cr(this)},toKeyedSeq:function(){return new ft(this,!0)},toMap:function(){return dn(this.toKeyedSeq())},toObject:Er,toOrderedMap:function(){return Yn(this.toKeyedSeq())},toOrderedSet:function(){return Dr(fe(this)?this.valueSeq():this)},toSet:function(){return fr(fe(this)?this.valueSeq():this)},toSetSeq:function(){return new dt(this)},toSeq:function(){return he(this)?this.toIndexedSeq():fe(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return tr(fe(this)?this.valueSeq():this)},toList:function(){return Rn(fe(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ct(this,_t(this,e))},includes:function(e){return this.some((function(t){return Qe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){jt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return Ct(this,gt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return jt(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){jt(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Ct(this,yt(this,e,t))},reduce:function(e,t,n){return Tr(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Tr(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Ct(this,vt(this,!0))},slice:function(e,t){return Ct(this,bt(this,e,t,!0))},some:function(e,t){return!this.every(Ir(e),t)},sort:function(e){return Ct(this,xt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return ne(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=dn().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return ur(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Fe(e._cache);var t=e.toSeq().map(Pr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Ir(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(ie,null,e)},flatMap:function(e,t){return Ct(this,function(e,t,n){var r=It(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Ct(this,Et(this,e,!0))},fromEntrySeq:function(){return new pt(this)},get:function(e,t){return this.find((function(t,n){return Qe(n,e)}),void 0,t)},getIn:wr,groupBy:function(e,t){return function(e,t,n){var r=fe(e),i=(Ee(e)?Yn():dn()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=It(e);return i.map((function(t){return Ct(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,Z)!==Z},hasIn:function(e){return _r(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:pe(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:pe(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return Qe(t,e)}))},keySeq:function(){return this.toSeq().map(Cr).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return kt(this,e)},maxBy:function(e,t){return kt(this,t,e)},min:function(e){return kt(this,e?Ar(e):Mr)},minBy:function(e,t){return kt(this,t?Ar(t):Mr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Ct(this,wt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Ir(e),t)},sortBy:function(e,t){return Ct(this,xt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Ct(this,function(e,t,n){var r=At(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(2,i),s=!0;return new Se((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],l=i[1];return t.call(n,l,u,o)?2===r?e:Te(r,u,l,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Ir(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=Ee(e),n=fe(e),r=t?1:0;return function(e,t){return t=Ye(t,3432918353),t=Ye(t<<15|t>>>-15,461845907),t=Ye(t<<13|t>>>-13,5),t=Ye((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Xe((t=Ye(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+zr(Ze(e),Ze(t))|0}:function(e,t){r=r+zr(Ze(e),Ze(t))|0}:t?function(e){r=31*r+Ze(e)|0}:function(e){r=r+Ze(e)|0}),r)}(this))}});var xr=pe.prototype;xr["@@__IMMUTABLE_ITERABLE__@@"]=!0,xr[ke]=xr.values,xr.toJSON=xr.toArray,xr.__toStringMapper=Lt,xr.inspect=xr.toSource=function(){return this.toString()},xr.chain=xr.flatMap,xr.contains=xr.includes,lr(me,{flip:function(){return Ct(this,mt(this))},mapEntries:function(e,t){var n=this,r=0;return Ct(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ct(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var kr=me.prototype;kr["@@__IMMUTABLE_KEYED__@@"]=!0,kr[ke]=xr.entries,kr.toJSON=Er,kr.__toStringMapper=function(e,t){return Lt(t)+": "+Lt(e)},lr(ye,{toKeyedSeq:function(){return new ft(this,!1)},filter:function(e,t){return Ct(this,gt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ct(this,vt(this,!1))},slice:function(e,t){return Ct(this,bt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=ae(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ct(this,1===n?r:r.concat(zt(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ct(this,Et(this,e,!1))},get:function(e,t){return(e=re(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=re(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ct(this,function(e,t){var n=At(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(1,r),a=0;return new Se((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?Te(n,a++,t):Te(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(zt(arguments)),t=Tt(this.toSeq(),Re.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ct(this,n)},keySeq:function(){return gr(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Ct(this,wt(this,e,t,!1))},zip:function(){var e=[this].concat(zt(arguments));return Ct(this,Tt(this,Or,e))},zipAll:function(){var e=[this].concat(zt(arguments));return Ct(this,Tt(this,Or,e,!0))},zipWith:function(e){var t=zt(arguments);return t[0]=this,Ct(this,Tt(this,e,t))}});var Sr=ye.prototype;function Tr(e,t,n,r,i,o){return jt(e.size),e.__iterate((function(e,o,a){i?(i=!1,n=e):n=t.call(r,n,e,o,a)}),o),n}function Cr(e,t){return t}function Pr(e,t){return[t,e]}function Ir(e){return function(){return!e.apply(this,arguments)}}function Ar(e){return function(){return-e.apply(this,arguments)}}function Or(){return zt(arguments)}function Mr(e,t){return e<t?1:e>t?-1:0}function zr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Sr["@@__IMMUTABLE_INDEXED__@@"]=!0,Sr[_e]=!0,lr(ve,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),ve.prototype.has=xr.includes,ve.prototype.contains=ve.prototype.includes,lr(je,me.prototype),lr(Re,ye.prototype),lr(Ne,ve.prototype);var Dr=function(e){function t(e){return null==e?Fr():sr(e)?e:Fr().withMutations((function(t){var n=ve(e);jt(n.size),n.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(me(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(fr);Dr.isOrderedSet=sr;var jr,Rr=Dr.prototype;function Nr(e,t){var n=Object.create(Rr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Fr(){return jr||(jr=Nr(Jn()))}Rr[_e]=!0,Rr.zip=Sr.zip,Rr.zipWith=Sr.zipWith,Rr.__empty=Fr,Rr.__make=Nr;var Lr=function(e,t){var n,r=function(o){var a=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(e),u=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var l=0;l<s.length;l++){var c=s[l];u[c]=l,i[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+qr(this)+' with property "'+c+'" since that property name is part of the Record API.'):Kr(i,c)}}this.__ownerID=void 0,this._values=Rn().withMutations((function(e){e.setSize(a._keys.length),me(o).forEach((function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)}))}))},i=r.prototype=Object.create(Ur);return i.constructor=r,t&&(r.displayName=t),r};Lr.prototype.toString=function(){for(var e,t=qr(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+Lt(this.get(e));return t+" }"},Lr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&Wr(this).equals(Wr(e))},Lr.prototype.hashCode=function(){return Wr(this).hashCode()},Lr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},Lr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},Lr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return Br(this,n)}return this},Lr.prototype.remove=function(e){return this.set(e)},Lr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Br(this,e)},Lr.prototype.wasAltered=function(){return this._values.wasAltered()},Lr.prototype.toSeq=function(){return Wr(this)},Lr.prototype.toJS=function(){return cr(this)},Lr.prototype.entries=function(){return this.__iterator(2)},Lr.prototype.__iterator=function(e,t){return Wr(this).__iterator(e,t)},Lr.prototype.__iterate=function(e,t){return Wr(this).__iterate(e,t)},Lr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?Br(this,t,e):(this.__ownerID=e,this._values=t,this)},Lr.isRecord=be,Lr.getDescriptiveName=qr;var Ur=Lr.prototype;function Br(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function qr(e){return e.constructor.displayName||e.constructor.name||"Record"}function Wr(e){return We(e._keys.map((function(t){return[t,e.get(t)]})))}function Kr(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Dt(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}Ur["@@__IMMUTABLE_RECORD__@@"]=!0,Ur.delete=Ur.remove,Ur.deleteIn=Ur.removeIn=Qt,Ur.getIn=wr,Ur.hasIn=xr.hasIn,Ur.merge=Zt,Ur.mergeWith=en,Ur.mergeIn=sn,Ur.mergeDeep=on,Ur.mergeDeepWith=an,Ur.mergeDeepIn=un,Ur.setIn=$t,Ur.update=Xt,Ur.updateIn=Jt,Ur.withMutations=ln,Ur.asMutable=cn,Ur.asImmutable=fn,Ur[ke]=Ur.entries,Ur.toJSON=Ur.toObject=xr.toObject,Ur.inspect=Ur.toSource=function(){return this.toString()};var Hr,Vr=n(1),$r=function(e,t,n){const r=e.get(t);if(!r)throw new Error(n);return r};!function(e){e[e.Crop=0]="Crop",e[e.Metal=1]="Metal",e[e.Gem=2]="Gem",e[e.Fuel=3]="Fuel",e[e.Fiber=4]="Fiber",e[e.Chemical=5]="Chemical",e[e.Circuit=6]="Circuit",e[e.Computer=7]="Computer",e[e.Food=8]="Food",e[e.Drink=9]="Drink",e[e.Apparel=10]="Apparel",e[e.Medicine=11]="Medicine",e[e.Accessory=12]="Accessory",e[e.Furniture=13]="Furniture",e[e.Gadget=14]="Gadget",e[e.Vehicle=15]="Vehicle",e[e.Machine=16]="Machine",e[e.Tool=17]="Tool"}(Hr||(Hr={}));const Gr=Object.keys(Hr).filter(e=>"number"==typeof Hr[e]),Qr=Gr.map(e=>Hr[e]).sort((e,t)=>e-t),Yr=Gr.length;function Xr(){return Qr.slice()}const Jr=[Hr.Crop,Hr.Metal,Hr.Gem,Hr.Fuel],Zr=new Set(Jr);const ei=Xr().map(e=>function(e){switch(e){case Hr.Crop:case Hr.Metal:case Hr.Gem:case Hr.Fuel:return[];case Hr.Food:case Hr.Drink:return[new Set([Hr.Crop])];case Hr.Apparel:return[new Set([Hr.Fiber])];case Hr.Medicine:return[new Set([Hr.Chemical])];case Hr.Fiber:return[new Set([Hr.Crop])];case Hr.Chemical:return[new Set([Hr.Crop,Hr.Metal,Hr.Gem,Hr.Fuel])];case Hr.Circuit:return[new Set([Hr.Metal])];case Hr.Computer:return[new Set([Hr.Circuit])];case Hr.Accessory:return[new Set([Hr.Gem])];case Hr.Furniture:return[new Set([Hr.Fiber])];case Hr.Gadget:return[new Set([Hr.Computer])];case Hr.Vehicle:return[new Set([Hr.Metal])];case Hr.Machine:return[new Set([Hr.Metal]),new Set([Hr.Computer])];case Hr.Tool:return[new Set([Hr.Metal])]}}(e)),ti=ei.map(e=>fr().union(...e)),ni=fr(Xr().filter(e=>!Zr.has(e)&&!ti[e].subtract(Zr).isEmpty()));Xr().map(e=>function(e){switch(e){case Hr.Crop:case Hr.Metal:case Hr.Gem:case Hr.Fuel:return Hr.Tool;default:return Hr.Machine}}(e));console.assert(!0);class ri{constructor(e,t,n,r=1,i=.1){this.id=e,this.productType=t,this.colony=n,this.scale=r,this.operationalEff=i,this.serialize=()=>({colonyId:this.colony.id,id:this.id,operationalEff:this.operationalEff,productType:this.productType,scale:this.scale})}static getDemandProducts(e){return ei[e]}static getFlatDemandProducts(e){return ti[e]}upgrade(){++this.scale,this.operationalEff=Math.max(.1,.8*this.operationalEff)}downSize(){this.scale=Math.max(1,this.scale-1),this.operationalEff=Math.max(.1,.8*this.operationalEff)}getScale(){return this.scale}operate(e){const t=this.isRunProd(e),n=this.colony.getPlayerInventory();let r=0;t&&(r=this.produce(e,n)),r=Math.max(1,r);const i=this.getCostPerUnit()*r,o=this.usedEnergy(e)+this.colony.getEnergyPrice(e);e.withdraw(i+o),this.updateModifers(t,n)}getCostPerUnit(){const e=1-this.operationalEff;return console.assert(e>=0&&e<=1),.03+.27*e}usedEnergy(e){return this.getPowerUsage()*this.colony.getPowerUsageEff(e)}getOpDemand(){const e=10*this.scale;switch(this.productType){case Hr.Crop:case Hr.Metal:case Hr.Gem:case Hr.Fuel:return{neededKinds:new Set([Hr.Tool]),qty:e};default:return{neededKinds:new Set([Hr.Machine]),qty:e}}}prodCap(e){const t=1+4*this.operationalEff,n=1+4*this.colony.getPowerUsageEff(e);return Math.max(1,Math.ceil(10*this.scale*t*n))}getOperationalEff(){return this.operationalEff}getPowerUsage(){return 10*this.getScale()}isRunProd(e){const t=this.productType,n=10*e.getGalacticDemands(t),r=this.colony.getSupply(t);return n>this.colony.getPlayerInventory().getQty(this.productType)+r}updateModifers(e,t){const n=this.getOpDemand(),r=t.consume(n.neededKinds,n.qty)/n.qty;if(!e||r<.5)this.operationalEff=Math.max(.1,this.operationalEff-.001);else{const e=(r-.5)/.5;this.operationalEff=Math.min(1,this.operationalEff+.01*e)}}produce(e,t){const n=ri.getFlatDemandProducts(this.productType),r=this.prodCap(e);if(0===n.size)return t.putGoods(this.productType,r),r;const i=Math.min(r,...n.map(e=>t.getQty(e)));for(const e of ri.getDemandProducts(this.productType)){const n=t.consume(e,i);console.assert(n===i)}return t.putGoods(this.productType,i),i}}const ii=(()=>{const e=new Array(Yr).fill(0);return e[Hr.Food]=10,e[Hr.Drink]=10,e[Hr.Apparel]=10,e[Hr.Medicine]=10,e[Hr.Accessory]=5,e[Hr.Furniture]=5,e[Hr.Gadget]=5,e[Hr.Vehicle]=5,e})();class oi{constructor(e,t,n,r,i,o=100,a=!1,s=0,u=0,l=0,c=0,f=0){this.id=e,this.homePlanet=t,this.population=n,this.playerInventory=r,this.marketInventory=i,this.maxPopulation=o,this.isLockPopulation=a,this.powerPlanetLevel=s,this.powerOutputEff=u,this.foodHappiness=l,this.luxuryHappiness=c,this.commonHappiness=f,this.derivedDemands=new Array(Yr).fill(0)}static estimatePrice(e,t,n,r){console.assert(n>0);const i=0===e?.7:0===t?1.3:Math.min(1.3,e/t),o=r*Math.pow(i,n);return console.assert(Number.isFinite(o)),o}static elasticity(e){switch(e){case Hr.Crop:case Hr.Metal:case Hr.Gem:case Hr.Fuel:return 1;case Hr.Food:return 1.5;case Hr.Drink:case Hr.Apparel:case Hr.Medicine:return 1;case Hr.Accessory:case Hr.Furniture:case Hr.Gadget:case Hr.Vehicle:return.4;case Hr.Fiber:case Hr.Chemical:case Hr.Circuit:case Hr.Computer:case Hr.Machine:case Hr.Tool:return 1.5}}static basePrice(e){switch(e){case Hr.Crop:case Hr.Metal:case Hr.Gem:case Hr.Fuel:case Hr.Fiber:case Hr.Chemical:case Hr.Circuit:case Hr.Computer:return 1;case Hr.Machine:case Hr.Tool:return 2;case Hr.Accessory:case Hr.Furniture:case Hr.Gadget:case Hr.Vehicle:return 4;case Hr.Food:case Hr.Drink:case Hr.Apparel:case Hr.Medicine:return 1.5}}serialize(){return{commonHappiness:this.commonHappiness,foodHappiness:this.foodHappiness,homePlanetId:this.homePlanet.id,id:this.id,isLockPopulation:this.isLockPopulation,luxuryHappiness:this.luxuryHappiness,marketInventoryId:this.marketInventory.id,maxPopulation:this.maxPopulation,playerInventoryId:this.playerInventory.id,population:this.population,powerOutputEff:this.powerOutputEff,powerPlanetLevel:this.powerPlanetLevel}}getHomePlanet(){return this.homePlanet}getPlayerInventory(){return this.playerInventory}getMarketInventory(){return this.marketInventory}getPopulation(){return this.population}getMaxPop(){return Math.ceil(this.maxPopulation)}growthRate(e){if(this.foodHappiness<1)return this.foodHappiness-1;const t=1+this.commonHappiness,n=1===t?1+this.luxuryHappiness:1;return(1+this.getPowerUsageEff(e))*t*n*.1}getTraderPowerUsage(e){let t=0;const n=e.getTradeRoutes().get(this);if(void 0!==n)for(const r of n)t+=e.getNumUsedTraders(this,r);return t}getIndustrialPowerUsage(e){const t=e.tryGetIndustries(this);return void 0===t?0:Object(Vr.sum)(...Object(Vr.toIt)(t).map(e=>e.getPowerUsage()))}getCivilianPowerUsage(){return Math.round(10*this.population)}getTotalPowerUsage(e){const t=this.getIndustrialPowerUsage(e),n=this.getTraderPowerUsage(e),r=this.getCivilianPowerUsage();return{industrialUsage:t,traderUsage:n,civUsage:r,totalUsage:t+n+r}}getPowerUsageEff(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return 0===t?n>0?0:1:Math.min(1,n/t)}getPowerOutputEff(){return this.powerOutputEff}getPowerOutput(){return Math.round(this.getMaxPowerPotential()*this.getPowerOutputEff())}getEnergyPrice(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return oi.estimatePrice(t,n,1,oi.basePrice(Hr.Fuel))}getMaxPowerPotential(){return 200*this.powerPlanetLevel+50}getFuelDemand(){return this.getMaxPowerPotential()}getPowerPlanetLevel(){return this.powerPlanetLevel}getCitizenDemand(e){switch(e){case Hr.Fuel:return this.getFuelDemand();default:{const t=ii[e];return Math.round(t*this.getPopulation())}}}isProducing(e,t){const n=e.tryGetIndustries(this);return void 0!==n&&Object(Vr.toIt)(n).some(e=>e.productType===t)}hasDemand(e){return this.getDemand(e)>0}getDemand(e){return this.getCitizenDemand(e)+this.derivedDemands[e]}getSupply(e){return this.marketInventory.getQty(e)}recalculate(e){this.consume(),this.growth(e),this.derivedDemands.fill(0);const t=e.tryGetIndustries(this);if(void 0!==t)for(const n of t){const t=n.prodCap(e);De(ri.getDemandProducts(n.productType)).map(e=>({neededKinds:e,qty:t})).concat(n.getOpDemand()).forEach(e=>{for(const t of e.neededKinds)this.derivedDemands[t]+=e.qty})}}canExpandPowerPlant(e){const{totalUsage:t}=this.getTotalPowerUsage(e);return 2*t>this.getMaxPowerPotential()}expandPowerPlanet(e){console.assert(this.canExpandPowerPlant(e)),this.powerPlanetLevel+=1}getProdCap(e,t){const n=e.tryGetIndustries(this);return void 0===n?0:Object(Vr.sum)(...Object(Vr.toIt)(n).filter(e=>e.productType===t).map(t=>t.prodCap(e)))}trade(e){const t=this.playerInventory;for(const n of Xr()){const r=t.getQty(n),i=t.getDemand(e,n);if(r>i){const o=r-i;this.tryBuy(e,t,n,o,0)}else if(r<i){const o=i-r;this.trySell(e,t,n,o,1/0,!0)}}}lockPopulation(e){return void 0!==e&&(this.isLockPopulation=e),this.isLockPopulation}getPrice(e){const t=this.marketInventory.getQty(e);return this.realPrice(e,t)}realPrice(e,t){const n=this.getDemand(e),r=oi.basePrice(e),i=oi.elasticity(e),o=oi.estimatePrice(n,t,i,r);console.assert(o>=0);const a=ai[e];return console.assert(Number.isFinite(a)),Math.max(a,o)}tryBuy(e,t,n,r,i){console.assert(r>=0);const o=this.marketInventory,a=o.getQty(n);let s=0,u=0;for(;;){const e=a+s,t=this.realPrice(n,e);if(console.assert(t>0),r===s||t<i)break;++s,u+=t}return s>0&&(t.takeGoods(n,s),o.putGoods(n,s),e.deposit(u)),s}trySell(e,t,n,r,i,o=!1){console.assert(r>=0);const a=this.marketInventory,s=a.getQty(n),u=this.minStockQty(e,n);let l=0,c=0;for(;;){const e=s-c;console.assert(e>=0);const a=this.realPrice(n,e);if(r===c||a>i||0===e||!t.hasSpaceFor(c)||!o&&e<=u)break;++c,l+=a}c>0&&(a.takeGoods(n,c),t.putGoods(n,c),e.withdraw(l))}getDeficit(e,t){const n=this.marketInventory.getQty(t),r=this.minStockQty(e,t);return n<r?r-n:0}minStockQty(e,t){const n=this.getDemand(t);return this.isProducing(e,t)?n:10*n}growth(e){const t=this.growthRate(e)/120,n=Math.max(1,this.population*(1+t)),r=this.isLockPopulation?this.population:this.getMaxPop(),i=n-r;i>0?(this.population=r,e.addColonists(i)):this.population=Math.min(n,r)}consume(){const e=this.marketInventory,t=t=>{const n=e.getQty(t),r=Math.floor(this.getCitizenDemand(t));if(0===r)return 1;const i=n>=r?r:n;return e.takeGoods(t,i),i/r},n=Xr().map(e=>t(e));this.commonHappiness=Object(Vr.average)(n[Hr.Drink],n[Hr.Apparel],n[Hr.Medicine]),this.luxuryHappiness=Object(Vr.average)(n[Hr.Accessory],n[Hr.Furniture],n[Hr.Gadget],n[Hr.Vehicle]),this.foodHappiness=n[Hr.Food];const r=n[Hr.Fuel];this.powerOutputEff=r*r}}const ai=Xr().map(e=>{const t=oi.basePrice(e),n=oi.elasticity(e);return Math.pow(.4*t,n)}),si=Math.PI/2;class ui{constructor(e,t,n=[],r=0,i=Y.Move,o=!1){this.id=e,this.cargo=t,this.route=n,this.routeAt=r,this.state=i,this.isRetiring=o,this.kind=X.Fleet}serialize(){return{cargoId:this.cargo.id,id:this.id,isRetiring:this.isRetiring,route:this.route.map(e=>e.id),routeAt:this.routeAt,state:this.state}}getCargo(){return this.cargo}getRoute(){return this.route}getRouteAt(){return this.routeAt}getSpeed(e){const t=this.getStop();console.assert(void 0!==t);const n=this.getNextStop();console.assert(void 0!==n);const r=1+e.getRouteFuelEff(t,n);return.3*(r*r)}operate(e){switch(this.state){case Y.Hold:break;case Y.Docked:this.handleDocked(e),this.setMoveNextStop();break;case Y.Move:this.handleMove(e)}}setRoute(...e){console.assert(e.length>0),this.route=e,this.state=Y.Hold}resetRoute(){this.routeAt=0}start(){this.route.length>0?this.state=Y.Move:console.assert(this.state===Y.Hold)}retire(){this.isRetiring=!0}isRetire(){return this.isRetiring}getAngle(e){if(this.route.length>1){const t=e.getCoor(this),n=e.getCoor(this.getStop());let r,i;if(Object(Vr.equal)(t,n)){r=n;i=e.getCoor(this.nextStop())}else r=t,i=n;const[o,a]=Object(Vr.subtract)(r,i);return Math.atan(a/o)+(r[0]>=i[0]?-si:si)}return 0}partitionCargo(e,t){const n=this.cargo.getEmptySpace();console.assert(n>=Xr().length);const r=Object(Vr.sum)(...e),i=new Map;if(0===r)return i;for(const o of t){const t=e[o];if(0===t)continue;const a=Math.max(1,Math.floor(t/r*n));console.assert(Number.isFinite(a)),i.set(o,a)}return i}getNextStop(){const e=this.nextStopIdx();return this.route[e]}handleDocked(e){const t=this.getStop(),n=this.getNextStop(),r=Xr().reduce((r,i)=>{const o=Object(Vr.sum)(...e.getDownstreamConsumers(i,t,n).map(t=>t.getDeficit(e,i)));return r[i]+=o,r},new Array(Yr).fill(0)),i=new Array(Yr).fill(0);for(const[n,r]of this.cargo.getAllQty()){if(0===r)continue;const o=t.tryBuy(e,this.cargo,n,r,0);i[n]+=o}if(this.isRetiring||!e.hasTradeRoute(t,n))return void e.removeFleet(this);const o=Xr().sort((e,t)=>r[e]-r[t]);{const n=this.partitionCargo(r,o);for(const[r,o]of n){if(0===this.cargo.getEmptySpace())break;if(i[r]>0)continue;const n=o-this.cargo.getQty(r)-i[r];if(n<=0)continue;const a=Math.min(n,this.cargo.getEmptySpace());0!==a&&(console.assert(a>0),t.trySell(e,this.cargo,r,a,1/0))}}const a=this.cargo.getEmptySpace()/3;for(const n of De(o).reverse()){if(0===this.cargo.getEmptySpace())break;if(i[n]>0)continue;const o=this.cargo.getQty(n);if(r[n]-o-i[n]<=0)continue;const s=Math.min(a,this.cargo.getEmptySpace());t.trySell(e,this.cargo,n,s,1/0)}}getStop(){return this.route[this.routeAt]}nextStop(){return this.route[this.nextStopIdx()]}nextStopIdx(){return(this.routeAt+1)%this.route.length}setMoveNextStop(){this.routeAt=this.nextStopIdx(),this.state=Y.Move}handleMove(e){const t=this.route[this.routeAt],n=e.getCoor(t),{nowAt:r}=e.move(this,n,this.getSpeed(e));Object(Vr.equal)(r,n)&&(this.state=Y.Docked)}}class li{constructor(e,t=1/0,n=new Array(Yr).fill(0)){this.id=e,this.maxStorage=t,this.inventory=n,this.demandSrcs=[],this.usedSpace=Object(Vr.sum)(...this.inventory),console.assert(this.usedSpace<=t)}serialize(){return{id:this.id,inventory:this.inventory,maxStorage:this.maxStorage}}getEmptySpace(){const e=this.maxStorage-this.usedSpace;return console.assert(e>=0),e}getMaxSpace(){return this.maxStorage}getQty(e){const t=this.inventory[e];return console.assert(t>=0),t}putGoods(e,t){console.assert(t>=0),console.assert(Number.isInteger(t));const n=this.inventory[e],r=Math.min(this.maxStorage-this.usedSpace,t),i=n+r;return this.inventory[e]=i,this.usedSpace+=r,i}takeGoods(e,t){console.assert(t>=0),console.assert(Number.isInteger(t));const n=this.inventory[e]-t;if(n<0)throw new Error("bug: responsibility of maintaining non-negative quantity goes to the caller");return this.inventory[e]=n,this.usedSpace-=t,n}hasSpaceFor(e){return console.assert(e>=0),this.maxStorage>=this.usedSpace+e}addDemandSrc(e){this.demandSrcs.push(e)}getDemand(e,t){const n=new Array(Yr).fill(0);for(const r of this.demandSrcs){const i=r.prodCap(e),o=De(ri.getDemandProducts(r.productType)).map(e=>({neededKinds:e,qty:i})).concat(r.getOpDemand());for(const e of o){if(!e.neededKinds.has(t))continue;let r=e.qty;for(const t of e.neededKinds){const e=this.getQty(t);if(e>r){n[t]+=r;break}r-=e,n[t]+=e}console.assert(r>=0),n[t]+=r}}return n[t]}*getAllQty(){const e=this.inventory.map((e,t)=>[t,e]);for(const t of e)console.assert(t[1]>=0),yield t}consume(e,t){console.assert(t>=0);const n=Array.from(e).sort((e,t)=>this.getQty(t)-this.getQty(e));let r=t;for(const e of n){const t=this.getQty(e);if(!(r>t)){this.takeGoods(e,r),r=0;break}this.takeGoods(e,t),r-=t}return t-r}}class ci{constructor(e,t,n){this.id=e,this.resource=t,this.colony=n,this.kind=X.Planet}serialize(){return{id:this.id,resource:this.resource}}colonized(e){this.colony=e}tryGetColony(){return this.colony}getColony(){if(!this.colony)throw new Error("bug: this method should be called for colonized planets");return this.colony}isColonized(){return void 0!==this.colony}}function fi(e){return new Map(De(e).map(e=>[e.id,e]))}const hi=(e,t)=>e.id-t.id;class di{constructor(){this.coorIndices=new Vr.Trie,this.tradeRoutes=new Map,this.galacticDemands=new Map,this.galacticSupplies=new Map,this.galacticProdCap=new Map,this.downstreamConsumers=new Vr.SortedTrie(hi),this.consumers=Xr().map(()=>new Set),this.fleetFuelEff=new Vr.SortedTrie(hi),this.colonies=[],this.locatableCoors=new Map,this.colonyIndustries=new Map,this.tradeFleets=new Vr.SortedTrie(hi),this.genId=-1,this.turnCounter=-1,this.timestamp=1,this.money=1e6,this.numColonists=5,this.numTraders=10}static createFrom(e){const t=new di;t.genId=e.genId,t.turnCounter=e.turnCounter,t.timestamp=e.timestamp,t.money=e.money,t.numColonists=e.numColonists,t.numTraders=e.numTraders;const n=fi(e.locatables),r=fi(De(e.allInventories).map(e=>new li(e.id,null===e.maxStorage?1/0:e.maxStorage,e.inventory))),i=fi(De(e.allPlanets).map(e=>new ci(e.id,e.resource)));for(const e of i.values()){const r=n.get(e.id);if(!r)throw new Error("bug: coor not found");console.assert(void 0!==r),t.addObj(e,r.coor)}const o=fi(e.allColonies.map(e=>{const t=$r(r,e.playerInventoryId,"bug: playerInventory not found"),n=$r(r,e.marketInventoryId,"bug: marketInventory not found"),o=$r(i,e.homePlanetId,"bug: homePlanet not found");return new oi(e.id,o,e.population,t,n,e.maxPopulation,e.isLockPopulation,e.powerPlanetLevel,e.powerOutputEff,e.foodHappiness,e.luxuryHappiness,e.commonHappiness)}));return o.forEach(e=>{t.colonizePlanetHelper(e,!1)}),t.calTradeRoutes(),e.allIndustries.map(e=>{const t=$r(o,e.colonyId,"bug: colony not found");return new ri(e.id,e.productType,t,e.scale,e.operationalEff)}).forEach(e=>t.addIndustryHelper(e)),e.allFleets.forEach(e=>{const i=$r(r,e.cargoId,"bug: cargo not found"),a=e.route.map(e=>$r(o,e,"bug: colony not found")),s=new ui(e.id,i,a,e.routeAt,e.state,e.isRetiring),u=$r(n,s.id,"bug: fleet coor not found");t.addObj(s,u.coor),t.addTradeFleetHelper(s)}),t.calRouteFuelEff(),t.calGalacticMarketStats(),t}serialize(){return{allColonies:this.colonies.map(e=>e.serialize()),allFleets:Object(Vr.combine)(...this.tradeFleets.values()).map(e=>e.serialize()).collect(),allIndustries:Object(Vr.combine)(...this.colonyIndustries.values()).map(e=>e.serialize()).collect(),allInventories:this.colonies.reduce((e,t)=>(e.push(t.getPlayerInventory()),e.push(t.getMarketInventory()),e),[]).concat(...Object(Vr.combine)(...this.tradeFleets.values()).map(e=>e.getCargo())).map(e=>e.serialize()),allPlanets:De(this.locatableCoors.keys()).filter(e=>e.kind===X.Planet).map(e=>e.serialize()).toArray(),genId:this.genId,locatables:De(this.locatableCoors).map(([e,t])=>({id:e.id,kind:e.kind,coor:t})).toArray(),money:this.money,numColonists:this.numColonists,numTraders:this.numTraders,timestamp:this.timestamp,turnCounter:this.turnCounter}}deposit(e){this.money+=e}withdraw(e){this.money-=e}addPlanets(e,t){const n=Jr,r=n.length,i=e/2,o=()=>{const n=new Vr.Trie;e:for(;n.size<e;){const e=this.randomCoor(i);for(const r of n.keys())if(Object(Vr.distance)(e,r)<t)continue e;n.set(e,!0)}return n.keys()};let a=0;for(const e of o()){const t=new ci(this.nextId(),n[a%r]);this.addObj(t,e),++a}this.calTradeRoutes()}addTradeFleet(e,t){console.assert(this.numTraders>=1),this.numTraders--;const n=new ui(this.nextId(),this.createInventory(1e3),[e,t]);return this.addObj(n,this.getCoor(e)),this.addTradeFleetHelper(n),n}removeFleet(e){const t=e.getRoute();console.assert(2===t.length);const n=t[0],r=t[1],i=$r(this.tradeFleets,[n,r],"bug: allFleets not found").delete(e);console.assert(i),this.removeObj(e),this.numTraders++}getNumUsedTraders(e,t){const n=this.tradeFleets.get([e,t]);return void 0!==n?n.size:0}numColonies(){return this.colonies.length}hasTradeRoute(e,t){const n=this.tradeRoutes.get(e);return!!n&&n.some(e=>e===t)}colonizePlanet(e,t){console.assert(this.numColonists>=1),this.numColonists-=1;const n=new oi(this.nextId(),e,t,this.createInventory(),this.createInventory());return this.colonizePlanetHelper(n),n}tryGetIndustries(e){return this.colonyIndustries.get(e)}addIndustry(e,t){console.assert(void 0!==t);const n=new ri(this.nextId(),e,t);return this.addIndustryHelper(n),n}shutdownIndustry(e,t){const n=$r(this.colonyIndustries,e,"bug: cannot get colony industy");console.assert(void 0!==n);const r=De(n).filter(e=>e!==t).reduce((e,t)=>e.union(this.getDemandedProducts(t)),fr()),i=this.getDemandedProducts(t);for(const t of i.subtract(r)){const n=this.consumers[t].delete(e);console.assert(n)}{const e=n.delete(t);console.assert(e)}}getMoney(){return this.money}getNumColonists(){return this.numColonists}getNumUnusedTraders(){return this.numTraders}getNumColonizedPlanets(){return this.colonies.length}calCenter(){const[e,t,n,r]=De(this.locatableCoors).filter(([e])=>e.kind===X.Planet).map(([,e])=>e).reduce(([e,t,n,r],[i,o])=>[Math.min(i,e),Math.min(o,t),Math.max(i,n),Math.max(o,r)],[0,0,0,0]);return[(e+n)/2,(t+r)/2]}addTrader(){this.numTraders+=1}addColonists(e){console.assert(e>=0),this.numColonists+=e/10}getRouteFuelEff(e,t){const n=this.fleetFuelEff.get([e,t]);return void 0!==n?n:0}getDay(){return this.timestamp%120}getYear(){return Math.ceil(this.timestamp/120)}getTimestamp(){return this.timestamp}getScore(){console.assert(0!==this.timestamp);const e=(this.money-1e6)/this.timestamp;return e<=0?0:Math.round(e)}turn(){const e=Object(Vr.combine)(...this.tradeFleets.values());for(const t of e)t.operate(this);if(this.turnCounter=(this.turnCounter+1)%50,0!==this.turnCounter)return!1;this.timestamp+=1,this.money<0&&(this.money*=1+.1/120),this.calRouteFuelEff(),this.calGalacticMarketStats();for(const e of this.colonies)e.recalculate(this);for(const e of this.colonyIndustries.values())for(const t of e)t.operate(this);for(const e of this.colonies)e.trade(this);return!0}getCoor(e){if(e instanceof oi){const t=e.getHomePlanet();return $r(this.locatableCoors,t,"bug: cannot get planet coor")}return $r(this.locatableCoors,e,"bug: cannot get object coor")}getObjs(){return this.locatableCoors}getObj(e,t){return this.searchNearbyObjs(e).filter(e=>e.kind===t).first()}searchNearbyObjs(e,t=0,n=0){const r=this.searchTradeRoutes(e,t);return(()=>{const[r,i]=e,o=[e,[r-t,i-t],[r+t,i-t],[r-t,i+t],[r+t,i+t]].map(e=>this.idxCoor(e)).sort(Vr.compare);return Object(Vr.uniq)(o,Vr.compare).map(e=>fr(this.getIdx(e))).reduce((e,t)=>e.union(t),fr()).filter(r=>{const i=this.getCoor(r),o=Object(Vr.distance)(i,e);return o>=n&&o<=t})})().concat(r)}move(e,t,n){const r=n/50,i=(()=>{const n=$r(this.locatableCoors,e,"bug: cannot get object"),i=Object(Vr.distance)(t,n);if(i<r)return{distTravelled:i,nowAt:t};{const e=Object(Vr.subtract)(t,n),i=Object(Vr.norm)(e),o=[e[0]/i*r,e[1]/i*r];return{distTravelled:i,nowAt:Object(Vr.add)(n,o)}}})();return this.updateObj(e,i.nowAt),i}getTradeRoutes(){return this.tradeRoutes}getGalacticDemands(e){return Object(Vr.defaultZero)(this.galacticDemands.get(e))}getGalacticSupplies(e){return Object(Vr.defaultZero)(this.galacticSupplies.get(e))}getGalacticProdCap(e){return Object(Vr.defaultZero)(this.galacticProdCap.get(e))}getDownstreamConsumers(e,t,n){console.assert(t!==n);const r=()=>new Map(Xr().map(e=>[e,Array.from(this.consumers[e]).filter(e=>e!==t&&this.getNextTradeNode(t,e)===n)])),i=this.downstreamConsumers.getOrSet([t,n],()=>r());return $r(i,e,"bug: cannot get downstream consumer")}exists(e){return this.locatableCoors.has(e)}createInventory(e=1/0){return new li(this.nextId(),e)}getNextTradeNode(e,t){console.assert(e!==t),console.assert(void 0!==this.tradeRoutePaths);const n=this.tradeRoutePaths.next(e,t);if(!n)throw new Error("bug: all vertices should be reachable");return n}calGalacticMarketStats(){this.galacticDemands.clear(),this.galacticProdCap.clear(),this.galacticSupplies.clear();for(const e of this.colonies)for(const t of Xr()){const n=e.getDemand(t),r=Object(Vr.defaultZero)(this.galacticDemands.get(t));this.galacticDemands.set(t,r+n);const i=e.getSupply(t),o=Object(Vr.defaultZero)(this.galacticSupplies.get(t));this.galacticSupplies.set(t,o+i);const a=e.getProdCap(this,t),s=Object(Vr.defaultZero)(this.galacticProdCap.get(t));this.galacticProdCap.set(t,s+a)}}calTradeRoutes(){const e=(e,t)=>{const n=this.getCoor(e),r=this.getCoor(t);return Object(Vr.distance)(n,r)},t=new Set(this.colonies);this.tradeRoutes=Object(Vr.kruskalMST)(t,e=>{const n=new Set(t);return n.delete(e),n.values()},(t,n)=>e(t,n)),this.tradeRoutePaths=new Vr.FloydWarshall(this.tradeRoutes,(t,n)=>e(t,n)),this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addObj(e,t){this.locatableCoors.set(e,t),this.addToIdx(e,t)}updateObj(e,t){this.removeFromIdx(e),this.locatableCoors.set(e,t),this.addToIdx(e,t)}idxCoor([e,t]){return[Math.floor(e),Math.floor(t)]}removeFromIdx(e){const t=this.getCoor(e),n=this.idxCoor(t),r=$r(this.coorIndices,n,"bug: existing object should be indexed"),i=r.delete(e);if(console.assert(i,"index does not have obj"),0===r.size){const e=this.coorIndices.delete(n);console.assert(e)}}removeObj(e){this.removeFromIdx(e);const t=this.locatableCoors.delete(e);console.assert(t)}addToIdx(e,t){const n=this.idxCoor(t),r=this.coorIndices.getOrSet(n,()=>new Set);console.assert(!r.has(e),"double-adding object to index"),r.add(e)}getIdx(e){const t=this.idxCoor(e),n=this.coorIndices.get(t);return n||new Set}randomCoor(e){return[Math.random()*e,Math.random()*e]}*searchTradeRoutes(e,t){const n=new Vr.SortedTrie(hi);for(const[r,i]of this.getTradeRoutes()){const o=this.getCoor(r.getHomePlanet());for(const a of i){const i=this.getCoor(a.getHomePlanet());if(n.has([r,a]))continue;n.set([r,a],!0);switch(Object(Vr.testLineSegmentCircleIntersect)(o,i,e,t)){case Vr.IntersectionKind.Intersection:case Vr.IntersectionKind.Tangent:yield{from:o,kind:X.RouteSegment,to:i}}}}}getDemandedProducts(e){return ri.getFlatDemandProducts(e.productType).union(e.getOpDemand().neededKinds)}calRouteFuelEff(){this.fleetFuelEff=this.fleetFuelEff.makeEmpty();for(const[e,t]of this.tradeRoutes)for(const n of t)this.fleetFuelEff.getOrSet([e,n],()=>(e.getPowerUsageEff(this)+n.getPowerUsageEff(this))/2)}nextId(){return++this.genId}colonizePlanetHelper(e,t=!0){const n=e.getHomePlanet();console.assert(void 0!==this.locatableCoors.get(n)),this.colonies.push(e),n.colonized(e);const r=[Hr.Food,Hr.Drink,Hr.Apparel,Hr.Medicine,Hr.Accessory,Hr.Furniture,Hr.Gadget,Hr.Vehicle,Hr.Fuel];for(const t of r)this.consumers[t].add(e);t&&this.calTradeRoutes()}addIndustryHelper(e){const t=e.colony;{let n=this.colonyIndustries.get(t);void 0===n&&(n=new Set,this.colonyIndustries.set(t,n)),n.add(e)}t.getPlayerInventory().addDemandSrc(e);for(const n of this.getDemandedProducts(e))this.consumers[n].add(t);this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addTradeFleetHelper(e){console.assert(void 0!==this.locatableCoors.get(e));const[t,n]=e.getRoute();console.assert(void 0!==t),console.assert(void 0!==n);this.tradeFleets.getOrSet([t,n],()=>new Set).add(e)}}class pi extends J.a{constructor(){super("gameDB"),this.version(1).stores({saveTable:",galaxySave,mapViewSave"})}async save(e){var t;const n=null===(t=this.saveTable)||void 0===t?void 0:t.put(e,0);if(!n)throw new Error("cannot save game");return n}async getSave(){var e;return null===(e=this.saveTable)||void 0===e?void 0:e.get(0)}}class mi{constructor(){this.db=new pi,this.isJustReloadedLocal=!0,this.isDirty2=!1}static async tryLoad(){const e=await(new pi).getSave();return(new mi).reload(e)}getReader(){return this.galaxyReadProxy}getWriter(){return this.isDirty2=!0,this.galaxyWriteProxy}isDirty(){return this.isDirty2}resetDirty(){this.isDirty2=!1}isJustReloaded(){const e=this.isJustReloadedLocal;return this.isJustReloadedLocal=!1,e}reload(e){this.isJustReloadedLocal=!0;let t=!0;if(e)try{this.galaxy=di.createFrom(e.galaxySave),t=!1}catch(e){this.galaxy=new di,this.galaxy.addPlanets(20,1)}else this.galaxy=new di,this.galaxy.addPlanets(20,1);return this.galaxyReadProxy=new yi(this.galaxy),this.galaxyWriteProxy=new vi(this.galaxy),{game:this,isNewGame:t}}serialize(){return{galaxySave:this.galaxy.serialize()}}async save(){const e=this.serialize();return this.db.save(e)}}class yi{constructor(e){this.galaxy=e}exists(e){return this.galaxy.exists(e)}getFleetSpeed(e){return e.getSpeed(this.galaxy)}getCoor(e){return this.galaxy.getCoor(e)}searchNearbyObjs(e,t=0,n=0){return this.galaxy.searchNearbyObjs(e,t,n)}getTradeRoutes(){return this.galaxy.getTradeRoutes()}getObjs(){return this.galaxy.getObjs()}getAngle(e){return e.getAngle(this.galaxy)}getIndustries(e){return this.galaxy.tryGetIndustries(e)}prodCap(e){return e.prodCap(this.galaxy)}usedEnergy(e){return e.usedEnergy(this.galaxy)}getNumColonists(){return this.galaxy.getNumColonists()}growthRate(e){return e.growthRate(this.galaxy)}getTotalPowerUsage(e){return e.getTotalPowerUsage(this.galaxy)}getMoney(){return this.galaxy.getMoney()}canExpandPowerPlant(e){return e.canExpandPowerPlant(this.galaxy)}getPowerUsageEff(e){return e.getPowerUsageEff(this.galaxy)}getEnergyPrice(e){return e.getEnergyPrice(this.galaxy)}getGalacticDemands(e){return this.galaxy.getGalacticDemands(e)}getGalacticProdCap(e){return this.galaxy.getGalacticProdCap(e)}getGalacticSupplies(e){return this.galaxy.getGalacticSupplies(e)}getPlanet(e){return this.galaxy.getObj(e,X.Planet)}getNumUsedTraders(e,t){return this.galaxy.getNumUsedTraders(e,t)}getRouteFuelEff(e,t){return this.galaxy.getRouteFuelEff(e,t)}getNumUnusedTraders(){return this.galaxy.getNumUnusedTraders()}getYear(){return this.galaxy.getYear()}getDay(){return this.galaxy.getDay()}getScore(){return this.galaxy.getScore()}isRetired(e){return e.isRetire()}getNumColonizedPlanets(){return this.galaxy.getNumColonizedPlanets()}calCenter(){return this.galaxy.calCenter()}}class vi{constructor(e){this.galaxy=e}colonizePlanet(e,t){return this.galaxy.colonizePlanet(e,t)}expandPowerPlant(e){e.expandPowerPlanet(this.galaxy)}withdraw(e){this.galaxy.withdraw(e)}shutdownIndustry(e,t){this.galaxy.shutdownIndustry(e,t)}addIndustry(e,t){return this.galaxy.addIndustry(e,t)}addTradeFleet(e,t){return this.galaxy.addTradeFleet(e,t)}addTrader(){return this.galaxy.addTrader()}turn(){return this.galaxy.turn()}retire(e){e.retire()}}n(55);var gi,bi,wi=n(26);!function(e){e.Switch="ClosableActionType_Switch",e.Close="ClosableActionType_Close"}(gi||(gi={})),function(e){e[e.Fleet=0]="Fleet",e[e.ImportExport=1]="ImportExport",e[e.Planet=2]="Planet",e[e.Route=3]="Route",e[e.Selector=4]="Selector",e[e.Tutorial=5]="Tutorial"}(bi||(bi={}));const _i=(e,t)=>({type:gi.Switch,panelType:e,args:t}),Ei=()=>({type:gi.Close});var xi=e=>r.createElement("div",{className:"panel-content"},e.children);var ki=G(void 0,e=>({closeWindow:()=>e(Ei())}))(e=>r.createElement("div",{className:"titlebar"},e.title,r.createElement("span",null,r.createElement("i",{className:"material-icons",title:"Close this window",onClick:e.closeWindow},"close"))));var Si=e=>r.createElement("div",{className:"panel"},e.children);class Ti extends r.Component{render(){const e=this.props.fleet,t=De(e.getCargo().getAllQty()).filter(([e])=>e>0).map(([e,t])=>r.createElement("tr",{key:e},r.createElement("td",null,Hr[e]),r.createElement("td",null,t)));return r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Product Type"),r.createElement("th",null,"Qty"))),r.createElement("tbody",null,t))}}var Ci=({fleet:e,game:t})=>{const n=t.getReader(),i=e.getRoute(),o=e.getRouteAt(),a=e.getRoute().map(e=>{const t=e.getHomePlanet(),[a,s]=n.getCoor(t),u=`Planet ${t.id} - (${a.toFixed(2)},${s.toFixed(2)})`,l=i[o]===e?r.createElement("i",{className:"material-icons"},"check"):void 0;return r.createElement("tr",{key:u},r.createElement("td",null,u),r.createElement("td",null,l))});return r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Place"),r.createElement("th",null,"Dest"))),r.createElement("tbody",null,a))};class Pi extends r.PureComponent{constructor(){super(...arguments),this.retireFleet=()=>{const e=this.props.gameWrapper.game.getWriter(),t=this.props.fleet;e.retire(t),this.props.closePanel()}}render(){const e=this.props.gameWrapper.game,t=e.getReader(),n=this.props.fleet,i=t.getFleetSpeed(n).toFixed(2);return r.createElement("div",null,r.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},r.createElement("legend",null,"General"),r.createElement("div",{title:"The speed indicates how far the trader is going to move per day."},"Speed: ",i),r.createElement("button",{disabled:t.isRetired(n),onClick:this.retireFleet,title:"The trader will return to the trader pool and to be reassigned."},"Retire trader")),r.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},r.createElement("legend",null,"Route"),r.createElement(Ci,{fleet:n,game:e})))}}var Ii,Ai=G(void 0,e=>({closePanel:()=>e(Ei())}))(Pi);!function(e){e[e.Cargo=0]="Cargo",e[e.Route=1]="Route"}(Ii||(Ii={}));class Oi extends r.Component{constructor(){super(...arguments),this.state={currentView:Ii.Route},this.switchRoutePanel=()=>{this.setState({currentView:Ii.Route})},this.switchCargoPanel=()=>{this.setState({currentView:Ii.Cargo})}}render(){const e=this.props.fleet;return r.createElement(Si,null,r.createElement(ki,{title:"Trader "+e.id}),r.createElement(xi,null,r.createElement("nav",{className:"tabs"},r.createElement("div",{onClick:this.switchRoutePanel},"Route"),r.createElement("div",{onClick:this.switchCargoPanel},"Cargo")),this.getCurrentView()))}getCurrentView(){const e=this.props.gameWrapper,t=this.props.fleet;switch(this.state.currentView){case Ii.Route:return r.createElement(Ai,{gameWrapper:e,fleet:t});case Ii.Cargo:return r.createElement(Ti,{fleet:t})}}}var Mi=n(12),zi=n.n(Mi);function Di(e){const t=JSON.stringify(e.serialize()),n=JSON.stringify({json:t,len:t.length});return zi.a.compressToBase64(n)}class ji extends r.Component{constructor(e){super(e),this.textareaRef=r.createRef(),this.textareaClick=e=>{e.stopPropagation()},this.copySave=()=>{var e;null===(e=this.textareaRef.current)||void 0===e||e.select(),document.execCommand("Copy")},this.clearSave=()=>{this.setState(()=>({saveData:""}))},this.refreshSave=()=>{this.setState(()=>({saveData:Di(this.props.game)}))},this.importSave=async()=>{const e=function(e){const t=zi.a.decompressFromBase64(e);if(!t)throw new Error("cannot decompress save data");const n=JSON.parse(t);if(n&&Number.isSafeInteger(n.len)&&"string"==typeof n.json&&n.len===n.json.length)return JSON.parse(n.json);throw new Error("not a valid save")}(this.state.saveData),t=this.props.game;t.reload(e),await t.save()},this.restartGame=async()=>{const e=this.props.game;confirm("Are you sure?")&&(e.reload(),await e.save(),this.props.showTutorial())},this.updateState=e=>{this.setState({saveData:e.target.value})},this.state={saveData:Di(this.props.game)}}render(){return r.createElement(Si,null,r.createElement(ki,{title:"Import/Export Save"}),r.createElement("textarea",{spellCheck:!1,cols:45,rows:30,value:this.state.saveData,onChange:this.updateState,onClick:this.textareaClick,ref:this.textareaRef}),r.createElement("div",null,r.createElement("button",{onClick:this.clearSave},"Clear"),r.createElement("button",{onClick:this.importSave},"Import"),r.createElement("button",{onClick:this.copySave},"Copy"),r.createElement("button",{onClick:this.refreshSave},"Refresh"),r.createElement("button",{onClick:this.restartGame},"Restart Game")))}componentDidMount(){const e=this.textareaRef.current;if(!e)throw new Error("bug: textarea not ready");e.spellcheck=!1}}var Ri=G(null,e=>({showTutorial:()=>e(_i(bi.Tutorial))}))(ji),Ni=n(3);class Fi extends r.PureComponent{constructor(e){super(e),this.canvasRef=r.createRef(),this.gridSize=50,this.draw=()=>{const e=this.props.gameWrapper.game;void 0!==this.updateAnimation&&(this.updateAnimation(),this.cachedGrid=this.drawGrid(e));const t=this.canvasRef.current;if(!t)throw new Error("bug: canvas is not ready");const n=document.body.clientWidth,r=document.body.clientHeight,i=t.getContext("2d");if(!i)throw new Error("cannot create 2D graphics context");i.clearRect(0,0,n,r),i.drawImage(this.drawGrid(e),0,0),i.drawImage(this.drawObjects(e),0,0),requestAnimationFrame(this.draw)},this.cachedGrid=document.createElement("canvas");const t=this.props.gameWrapper.game;this.topLeft=t.getReader().calCenter()}serialize(){return{gridSize:this.gridSize,topLeft:this.topLeft}}componentDidMount(){const e=this.props.gameWrapper.game,t=this.canvasRef.current;if(!t)throw new Error("bug: canvas is not ready");const n=new Ni.Manager(t),r=new Ni.Tap({event:"doubletap",taps:2}),i=new Ni.Tap({event:"singletap"}),o=(new Ni.Pan).set({direction:Ni.DIRECTION_ALL});n.add([new Ni.Pinch,r,i,o]),r.recognizeWith(i),i.requireFailure(r),n.on("singletap",t=>this.click(e,t)),n.on("doubletap",t=>this.dblclick(e,t)),n.on("pinch",t=>this.wheel(e,t)),n.on("pan",t=>this.pan(e,t)),t.addEventListener("wheel",t=>this.wheel(e,t));const a=()=>{const n=document.body.clientWidth,r=document.body.clientHeight;t.width=n,t.height=r,this.cachedGrid.width=n,this.cachedGrid.height=r,this.cachedGrid=this.drawGrid(e)};window.addEventListener("resize",a),a(),this.draw()}render(){return r.createElement("canvas",{id:"map",ref:this.canvasRef})}getCanvasContext(e){e||(e=document.createElement("canvas"));const t=e.getContext("2d");if(!t)throw new Error("cannot create context");return[e,t]}drawObjects(e){const t=e.getReader(),[n,r]=this.getCanvasContext();n.width=document.body.clientWidth,n.height=document.body.clientHeight;const i=De(t.getObjs()).groupBy(([e])=>e.kind);return(()=>{const e=i.get(X.Planet);if(!e)throw new Error("game generation should generate at least 1 planet");const t=Array.from(e.values()),n=De(t).groupBy(([e])=>e.resource);r.save(),r.fillStyle="yellow",r.strokeStyle="yellow";const o=.3*this.gridSize,a=(e,t)=>{const i=n.get(t);if(!i)return void console.assert(!1,"all planets should be distributed about evenly in terms of raw material types");const a=i.values();r.fillStyle=e;for(const[,e]of a){const[t,n]=this.toVpCoor(e);r.beginPath(),this.drawCircle(r,t,n,o),r.fill()}};a("green",Hr.Crop),a("brown",Hr.Metal),a("darkcyan",Hr.Gem),a("orange",Hr.Fuel),r.restore(),r.fillStyle="yellow",r.textAlign="center",r.textBaseline="middle";const s=Math.ceil(.3*this.gridSize);r.font=s+"px sans-serif";for(const[e,n]of t){const[t,i]=this.toVpCoor(n);r.beginPath(),r.fillText(""+e.id,t,i)}r.restore(),r.strokeStyle="purple",r.lineWidth=2;for(const[e,n]of t)if(void 0!==e.tryGetColony()){r.beginPath();const[e,t]=this.toVpCoor(n);this.drawCircle(r,e,t,o),r.stroke()}r.restore()})(),(()=>{const e=i.get(X.Fleet);if(!e)return;const n=e.values();r.save(),r.fillStyle="yellow",r.strokeStyle="yellow";for(const[e,i]of n){const[n,o]=this.toVpCoor(i),a=e,s=t.getAngle(a);r.save(),r.beginPath(),r.translate(n,o),r.rotate(s),r.scale(.5,.5),this.drawTriangle(r),r.fill(),r.restore()}r.restore()})(),n}drawCircle(e,t,n,r){e.arc(t,n,r,0,2*Math.PI)}drawTradeRoutes(e,t,n){const r=e.getReader(),i=r.getTradeRoutes();n.save(),n.lineWidth=1,n.strokeStyle="cyan";const o=new Vr.SortedTrie(hi);for(const[e,t]of i)for(const i of t){const t=[e,i];if(o.has(t))continue;o.set(t,!0);const[a,s]=this.toVpCoor(r.getCoor(e)),[u,l]=this.toVpCoor(r.getCoor(i));n.beginPath(),n.moveTo(a,s),n.lineTo(u,l),n.stroke()}return n.restore(),t}drawGrid(e){const t=this.cachedGrid,n=t.getContext("2d");if(!n)throw new Error("cannot create context");n.clearRect(0,0,t.width,t.height),n.save(),n.lineWidth=1,n.strokeStyle="#494949";const r=this.gridSize,i=(this.topLeft[0]*r%r+r)%r;for(let e=0;e<=t.width;e+=r){const r=Math.ceil(e+i);n.beginPath(),n.moveTo(r+.5,.5),n.lineTo(r+.5,t.height+.5),n.stroke()}const o=(this.topLeft[1]*r%r+r)%r;for(let e=0;e<=t.height;e+=r){const r=Math.ceil(e+o);n.beginPath(),n.moveTo(.5,r+.5),n.lineTo(t.width+.5,r+.5),n.stroke()}return n.restore(),this.drawTradeRoutes(e,t,n),t}panTo(e,t,n){this.updateAnimation=void 0;const r=this.toGameCoor(t),i=this.toGameCoor(n),o=Object(Vr.subtract)(r,i);let a=Object(Vr.norm)(o);this.updateAnimation=()=>{const e=.02*a;let t;if(0===e)return;e<.01/this.gridSize?(this.updateAnimation=void 0,t=a):(t=e,a-=e);const n=Object(Vr.project)(o,t);this.topLeft=Object(Vr.add)(this.topLeft,n)}}drawTriangle(e){e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath()}pan(e,t){this.panTo(e,this.getVpCenter(),Object(Vr.add)(this.getVpCenter(),[t.deltaX,t.deltaY]))}click(e,t){const n=e.getReader(),r=t.target.getBoundingClientRect(),i=[t.center.x-r.left,t.center.y-r.top],o=this.toGameCoor(i),a=n.searchNearbyObjs(o,.3).toArray();switch(a.length){case 0:break;case 1:{const e=a[0];switch(e.kind){case X.Fleet:this.props.addFleetPanel(e);break;case X.Planet:this.props.addPlanetPanel(e);break;case X.RouteSegment:this.props.addRoutePanel(e)}break}default:this.props.addSelector(a)}}dblclick(e,t){const n=t.target.getBoundingClientRect(),r=[t.center.x-n.left,t.center.y-n.top];this.panTo(e,this.getVpCenter(),r)}wheel(e,t){this.updateAnimation=void 0;const n=t.deltaY<0,r=this.getCenter();let i=10;this.updateAnimation=()=>{this.gridSize=n?Math.min(300,this.gridSize+i):Math.max(50,this.gridSize-i),this.topLeft=this.centerVp(this.toVpCoor(r)),void 0!==this.updateAnimation&&(i/=1.1,i<1&&(this.updateAnimation=void 0))}}centerVp(e){const t=this.toGameCoor(e),n=Object(Vr.subtract)(this.getCenter(),t);return Object(Vr.add)(this.topLeft,n)}toVpCoor([e,t]){const[n,r]=this.topLeft;return[(e+n)*this.gridSize,(t+r)*this.gridSize]}toGameCoor([e,t]){const[n,r]=this.topLeft;return[e/this.gridSize-n,t/this.gridSize-r]}getVpCenter(){const e=this.canvasRef.current;if(!e)throw new Error("bug: canvas is not ready");return[e.width/2,e.height/2]}getCenter(){return this.toGameCoor(this.getVpCenter())}}var Li,Ui=G(void 0,e=>({addFleetPanel:t=>e(_i(bi.Fleet,t)),addPlanetPanel:t=>e(_i(bi.Planet,t)),addRoutePanel:t=>e(_i(bi.Route,t)),addSelector:t=>e(_i(bi.Selector,t))}))(Fi);!function(e){e.SlowDown="SpeedCommandType_SlowDown",e.SpeedUp="SpeedCommandType_SpeedUp",e.Resume="SpeedCommandType_Resume",e.Pause="SpeedCommandType_Pause"}(Li||(Li={}));class Bi extends r.PureComponent{constructor(){super(...arguments),this.addTrader=e=>{if(e.ctrlKey||confirm("Are you sure? This action costs $10000. (press ctrl while clicking the button suppresses this message)")){const e=this.props.gameWrapper.game.getWriter();e.addTrader(),e.withdraw(1e4)}},this.pauseResumeGame=()=>{this.props.isPaused?this.props.resume():this.props.pause()},this.save=()=>{this.props.gameWrapper.game.save()}}render(){const e=this.props.gameWrapper.game.getReader(),t=e.getMoney(),n=e.getNumColonists(),i=e.getNumUnusedTraders(),o=e.getDay(),a=e.getYear(),[s,u]=this.props.isPaused?["Resume","play_arrow"]:["Pause","pause"];return r.createElement("div",{id:"menu"},r.createElement("div",{id:"stats"},r.createElement("div",{title:"The score is an indicator of how well your industrial empire performs. It is the average profit up to now, less your starting capital ((profit - starting cash)/time)."},"Score: ",e.getScore()),r.createElement("div",{title:"This is the cash reserve of your industrial empire. A negative cash reserve means loans with a 10% annual interest rate, compounded daily."},"Cash: $",t.toFixed(2)),r.createElement("div",{title:"Colonists are gained through population growth from planets that encourage colonist (checkbox). One colonist is needed to colonize a new planet."},"Colonist: ",n.toFixed(2)),r.createElement("div",{title:"Invest $10000 in a new trader. Traders transport goods between planets on the trade network."},"Trader: ",i.toFixed(2),r.createElement("button",{onClick:this.addTrader},r.createElement("i",{className:"material-icons"},"add"))),r.createElement("div",null,"Day ",o,", Year ",a)),r.createElement("div",null,r.createElement("button",{title:"Import/Export save",onClick:this.props.createImportExport},r.createElement("i",{className:"material-icons"},"import_export")),r.createElement("button",{title:"Save game",onClick:this.save},r.createElement("i",{className:"material-icons"},"save")),r.createElement("button",{title:"Slow down game speed",onClick:this.props.slowDown},r.createElement("i",{className:"material-icons"},"fast_rewind")),r.createElement("button",{onClick:this.pauseResumeGame,title:s},r.createElement("i",{className:"material-icons"},u)),r.createElement("button",{title:"Increase game speed",onClick:this.props.speedUp},r.createElement("i",{className:"material-icons"},"fast_forward")),r.createElement("button",{title:"Open tutorial",onClick:this.props.createTutorial},r.createElement("i",{className:"material-icons"},"help_outline"))))}}var qi=G(e=>({isPaused:e.speedCommand.isPaused}),e=>({createImportExport:()=>e(_i(bi.ImportExport)),createTutorial:()=>e(_i(bi.Tutorial)),pause:()=>e({type:Li.Pause}),resume:()=>e({type:Li.Resume}),slowDown:()=>e({type:Li.SlowDown}),speedUp:()=>e({type:Li.SpeedUp})}))(Bi);var Wi=({colony:e,game:t,product:n})=>r.createElement("button",{onClick:r=>{if(r.ctrlKey||confirm("Are you sure? This action costs $10000, and will take up a building slot (max 2 per planet). (press ctrl while clicking the button suppresses this message)")){const r=t.getWriter();r.addIndustry(n,e),r.withdraw(1e4)}}},"+ Build");class Ki extends r.Component{constructor(){super(...arguments),this.updateIndustry=e=>{const t=e.shiftKey||e.ctrlKey||confirm("Are you sure? This action costs $10000 reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)"),n=this.props.industry,r=this.props.game.getWriter();if(t)if(e.shiftKey)for(let e=0;e<10;e++)n.upgrade(),r.withdraw(1e4);else n.upgrade(),r.withdraw(1e4)},this.downScaleIndustry=e=>{const t=e.shiftKey||e.ctrlKey||confirm("Are you sure? This action costs $1000 reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)"),n=this.props.industry,r=this.props.game.getWriter();if(t)if(e.shiftKey)for(let e=0;e<10;e++)n.downSize(),r.withdraw(1e3);else n.downSize(),r.withdraw(1e3)},this.demolishIndustry=e=>{const t=this.props.industry,n=this.props.game.getWriter(),r=this.props.colony,i=1e3*t.getScale();(e.ctrlKey||confirm(`Are you sure? This action costs $${i} reduces operational efficiency. (press ctrl while clicking the button suppresses this message)`))&&(n.shutdownIndustry(r,t),n.withdraw(i))}}render(){return r.createElement("div",null,r.createElement("button",{onClick:this.updateIndustry,title:"expand industry (increase scale by 1)"},"+"),r.createElement("button",{onClick:this.downScaleIndustry,title:"down size (decrease scale by 1)"},"-"),r.createElement("button",{onClick:this.demolishIndustry,title:"shut down (free up the industry slot)"},"X"))}}const Hi=[Hr.Food,Hr.Drink,Hr.Apparel,Hr.Medicine].map(e=>Hr[e]).join(", "),Vi=[Hr.Accessory,Hr.Furniture,Hr.Gadget,Hr.Vehicle].map(e=>Hr[e]).join(", "),$i=Jr.map(e=>Hr[e]).join(", "),Gi=fr(Xr()).subtract(Jr).map(e=>Hr[e]).join(", ");var Qi=({game:e,industry:t})=>{const n=e.getReader(),i=t.getScale(),o=n.prodCap(t),a=100*t.getOperationalEff(),s=n.usedEnergy(t),u=t.getCostPerUnit();return r.createElement("div",null,r.createElement("div",{title:"Production scale is the size of your industrial complex. It determines production capacity and input consumption."},"Production Scale: ",i),r.createElement("div",{title:"Production capacity is the number of goods that the industrial complex can produce when running 100% efficiency and has enough input goods."},"Production Capacity: ",o),r.createElement("div",{title:`Operational efficiency determines prod cap and the fixed cost per unit. Industrial complexes that produce raw materials [${$i}] need [${Hr[Hr.Tool]}] to increase eff, while secondary products [${Gi}] need [${Hr[Hr.Machine]}] to increase eff.`},"Operational Eff.: ",a.toFixed(2)),r.createElement("div",{title:"The amount of energy used by this industrial complex. The real cost is Energy Usage times Unit Price (found this in planet panel)."},"Energy Usage: ",s.toFixed(2)),r.createElement("div",{title:"Fixed cost the amount of money that is used to produce a unit of product; input materials & energy cost aren't included."},"Fixed Cost Per Unit: ",u))};const Yi=dn(Xr().map(e=>{const t=Zr.has(e),n=De(ei[e]).reduce((e,t)=>e.union(t),fr()).map(e=>Hr[e]).join(", ");return[e,"Is "+(t?"RAW material":"SECONDARY product; consumes "+n)]})),Xi=dn(Jr.map(e=>{const t=Xr().filter(t=>t===e||ni.has(t)||ri.getFlatDemandProducts(t).has(e)).sort();return[e,fr(t)]}));class Ji extends r.Component{render(){const e=this.props.gameWrapper.game,t=this.props.colony,n=e.getReader().getIndustries(t)||new Set,i=De(n).map(e=>e.productType).toSet(),o=t.getHomePlanet().resource,a=(2===n.size?i:$r(Xi,o,"bug: resource not found in potential products")).sortBy(e=>Hr[e]).map(i=>{const o=Object(Vr.toIt)(n).filter(e=>e.productType===i).inject();return r.createElement("tr",{key:i},r.createElement("td",{title:Yi.get(i)},Hr[i],void 0!==o?r.createElement(Ki,{colony:t,game:e,industry:o}):void 0),r.createElement("td",null,void 0!==o?r.createElement(Qi,{game:e,industry:o}):r.createElement(Wi,{colony:t,game:e,product:i})))});return r.createElement("table",null,r.createElement("tbody",null,a))}}var Zi=({colonize:e,game:t})=>{const n=t.getReader().getNumColonists()<1;return r.createElement("tr",{title:"Spend 1 free colonist to colonize this planet. You can encourage growth from colonized planets."},r.createElement("td",{colSpan:2},r.createElement("button",{onClick:e,disabled:n},"Colonize")))};var eo=({colony:e})=>r.createElement("tr",{title:"This option locks the current population, and any growth on this planet will be transferred to the colonist pool. Since industrial production is not affected by population, encouraging colonists a great way to lock down power usage."},r.createElement("td",null,"Encourage Colonists?"),r.createElement("td",null,r.createElement("input",{checked:!e.lockPopulation(),type:"checkbox",onChange:t=>e.lockPopulation(!t.target.checked)})));var to=({onClick:e})=>r.createElement("button",{title:"Invest $1000000 to build a new power plant, if you have the money. Just a reminder, you don't own any power plants; however, these power plants buy fuel from you.",onClick:e},"+");var no=({growthRate:e})=>r.createElement("tr",{title:`Growth occurs when population consumes enough food; similarly starvation occurs when citizens lack food. Bonus growth is determined by 2 major factors: 1) citizens' satisfaction of basic [${Hi}] and luxuary goods [${Vi}], and 2) sufficient power supply.`},r.createElement("td",null,"Annual Growth"),r.createElement("td",null,e>0?"+":"",Math.round(100*e),"%"));var ro=({num:e,max:t})=>r.createElement("tr",{title:`A planet's population determines domestic consumption of basic goods [${Hi}] and luxury goods [${Vi}], which is one of the 2 ways that allow you to trade goods for money (the other way being supply fuel to power plants).`},r.createElement("td",null,"Population"),r.createElement("td",null,e.toFixed(2),"/",t));var io=({industrialUsage:e,traderUsage:t,civUsage:n})=>r.createElement("fieldset",{title:"The consumer panel shows details about *POTENTIAL* energy consumption on this planet. If the planet has a shortage, energy will be distributed evenly with best effort."},r.createElement("legend",null,"Consumer"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the maximum energy that your industrial complexes need."},r.createElement("td",null,"Industry"),r.createElement("td",null,e)),r.createElement("tr",{title:"This is the maximum energy that your traders need."},r.createElement("td",null,"Trader"),r.createElement("td",null,t)),r.createElement("tr",{title:"This is the maximum energy that the local population needs."},r.createElement("td",null,"Civilian"),r.createElement("td",null,n)))));var oo=({powerPlanetLevel:e,fuelDemand:t,powerOutput:n,energyPrice:i})=>r.createElement("fieldset",{title:"The producer panel shows details about power plants of this planet."},r.createElement("legend",null,"Producer"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the size of the power plant. Each level proportionally affects power output and fuel consumption -- the higher the level, the more power to be output and more fuel to be consumed."},r.createElement("td",null,"Power planet level"),r.createElement("td",null,e)),r.createElement("tr",{title:"Fuel demand is the quantity needed to run the power plants at 100% efficiency. This quantity is the same as what you see in the market for fuel demand."},r.createElement("td",null,"Fuel demand"),r.createElement("td",null,t)),r.createElement("tr",{title:"This is the actual power output of the power plants."},r.createElement("td",null,"Output"),r.createElement("td",null,n)),r.createElement("tr",{title:"This is how much 1 unit of energy is worth, subject to demand/supply. Both industries and civilians use power, so in the early game you might want to separate industrial planets and consumer planets."},r.createElement("td",null,"Unit price"),r.createElement("td",null,i.toFixed(2))))));var ao=({colony:e,expandPowerPlant:t,game:n})=>{const i=n.getReader(),{industrialUsage:o,traderUsage:a,civUsage:s,totalUsage:u}=i.getTotalPowerUsage(e),l=e.getPopulation(),c=e.getMaxPop(),f=i.growthRate(e),h=e.getPowerPlanetLevel(),d=e.getFuelDemand(),p=e.getPowerOutput(),m=i.getEnergyPrice(e),y=e.getPowerOutput(),v=100*i.getPowerUsageEff(e);return r.createElement(r.Fragment,null,r.createElement(ro,{num:l,max:c}),r.createElement(no,{growthRate:f}),r.createElement(eo,{colony:e}),r.createElement("tr",null,r.createElement("td",{colSpan:2,title:"Citizens and industrial complexes need power to be run efficiently. Ideally, you want to keep power surplus, so that the local colony and your industrial complexes can run at optimal efficiency."},r.createElement("span",null,"Usage: ",u,"/",y," (Eff.: ",v.toFixed(2),"%)"),r.createElement(to,{onClick:t}),r.createElement(oo,{powerPlanetLevel:h,fuelDemand:d,powerOutput:p,energyPrice:m}),r.createElement(io,{industrialUsage:o,traderUsage:a,civUsage:s}))))};var so=({x:e,y:t})=>r.createElement("tr",{title:"This is the coordinates of the planet."},r.createElement("td",null,"Coor"),r.createElement("td",null,"(",e.toFixed(2),",",t.toFixed(2),")"));var uo,lo=({resource:e})=>r.createElement("tr",{title:"This is the type of resource that this planet can produce locally."},r.createElement("td",null,"Resource"),r.createElement("td",null,Hr[e]));class co extends r.Component{constructor(){super(...arguments),this.colonize=()=>{const e=this.props.game.getWriter();let t=1;0===this.props.game.getReader().getNumColonizedPlanets()&&(t=10),e.colonizePlanet(this.props.planet,t)},this.expandPowerPlant=e=>{const t=this.props.game.getWriter(),n=this.props.planet;console.assert(n.isColonized());const r=n.getColony();(e.ctrlKey||confirm(`Are you sure to invest in power planet at planet ${n.id}? This action costs $1000000. (press ctrl while clicking the button suppresses this message)`))&&(t.expandPowerPlant(r),t.withdraw(1e6))}}render(){const e=this.props.game,t=this.props.planet,n=e.getReader(),i=t.resource,[o,a]=n.getCoor(t),s=t.tryGetColony();return r.createElement("table",null,r.createElement("tbody",null,r.createElement(lo,{resource:i}),r.createElement(so,{x:o,y:a}),void 0!==s?r.createElement(ao,{colony:s,game:e,expandPowerPlant:this.expandPowerPlant}):r.createElement(Zi,{colonize:this.colonize,game:e})))}}class fo extends r.Component{render(){const e=this.props.game.getReader(),t=this.props.colony,n=Xr().map(n=>({demand:t.getDemand(n),globalDemands:e.getGalacticDemands(n),globalProdCap:e.getGalacticProdCap(n),globalSupply:e.getGalacticSupplies(n),price:t.getPrice(n),product:n,qty:t.getSupply(n)})).map(e=>r.createElement("tr",{key:e.product},r.createElement("td",null,e.product),r.createElement("td",null,Hr[e.product]),r.createElement("td",null,e.price.toFixed(2)),r.createElement("td",null,e.qty),r.createElement("td",null,e.globalDemands),r.createElement("td",null,e.globalProdCap)));return r.createElement("table",{title:`The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap.\n\nThe galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap.\n\nSince you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [${Hi}, ${Vi}] and by power plants [${Hr[Hr.Fuel]}] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned.\n\nFinally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods.`},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Id"),r.createElement("th",null,"Goods"),r.createElement("th",null,"Price"),r.createElement("th",null,"Qty"),r.createElement("th",null,"Galactic Demand"),r.createElement("th",null,"Galactic ProdCap"))),r.createElement("tbody",null,n))}}!function(e){e[e.Industry=0]="Industry",e[e.Info=1]="Info",e[e.Market=2]="Market"}(uo||(uo={}));class ho extends r.Component{constructor(){super(...arguments),this.view=document.createElement("div"),this.state={currentViewType:uo.Info},this.switchToInfo=()=>this.setState({currentViewType:uo.Info}),this.switchToMarket=()=>this.setState({currentViewType:uo.Market}),this.switchToIndustry=()=>this.setState({currentViewType:uo.Industry})}render(){const e=this.props.planet,t=e.isColonized();return r.createElement(Si,null,r.createElement(ki,{title:"Planet "+e.id}),t?r.createElement("nav",{className:"tabs"},r.createElement("div",{onClick:this.switchToInfo},"Planet"),r.createElement("div",{onClick:this.switchToMarket},"Market"),r.createElement("div",{onClick:this.switchToIndustry},"Industry")):void 0,r.createElement(xi,null,this.getCurrentView()))}getCurrentView(){const e=this.props.game,t=this.props.planet;if(t.isColonized()){const n=t.getColony();switch(this.state.currentViewType){case uo.Market:return console.assert(void 0!==n),r.createElement(fo,{game:e,colony:n});case uo.Info:return r.createElement(co,{game:e,planet:t});case uo.Industry:return console.assert(void 0!==n),r.createElement(Ji,{gameWrapper:{game:e},colony:n});default:throw new Error("not handled")}}return r.createElement(co,{game:e,planet:t})}}function po(e,t){return`${e} ⇆ ${t}`}class mo extends r.Component{constructor(e){super(e),this.view=document.createElement("div"),this.addFleetLowToHigh=()=>{this.props.game.getWriter().addTradeFleet(this.lowColony,this.highColony)},this.addFleetHighToLow=()=>{this.props.game.getWriter().addTradeFleet(this.highColony,this.lowColony)};const t=this.props.game,n=this.props.route,r=t.getReader(),i=r.getPlanet(n.from);console.assert(void 0!==i),console.assert(i.isColonized());const o=r.getPlanet(n.to);console.assert(void 0!==o),console.assert(o.isColonized()),i.id<o.id?(this.lowPlanetId=i.id,this.highPlanetId=o.id,this.lowColony=i.getColony(),this.highColony=o.getColony()):(this.lowPlanetId=o.id,this.highPlanetId=i.id,this.lowColony=o.getColony(),this.highColony=i.getColony())}render(){const e=this.props.game,t=e.getReader(),n=this.props.route,i=t.getNumUsedTraders(this.lowColony,this.highColony),o=Math.round(100*t.getRouteFuelEff(this.lowColony,this.highColony)),a=0===t.getNumUnusedTraders();return r.createElement(Si,null,r.createElement(ki,{title:yo(e,n)}),r.createElement(xi,null,r.createElement("fieldset",null,r.createElement("legend",null,"General"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the number of traders who trade in this trade lane."},r.createElement("td",null,"#Traders"),r.createElement("td",null,i)),r.createElement("tr",{title:"Fuel efficiency determines how fast spaceships can travel due to extra fuel usage."},r.createElement("td",null,"Fuel Eff."),r.createElement("td",null,o+"%"))))),r.createElement("fieldset",{title:"If you have a free trader, you can add the trader to this lane, transferring goods for you. If you don't have a free trader, you can either buy one from the top menu bar or can free one by retiring a trader from the trader screen."},r.createElement("legend",null,"Add Routes"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,""+po(this.lowPlanetId,this.highPlanetId)),r.createElement("td",null,r.createElement("button",{onClick:this.addFleetLowToHigh,disabled:a},"+"))),r.createElement("tr",null,r.createElement("td",null,""+po(this.highPlanetId,this.lowPlanetId)),r.createElement("td",null,r.createElement("button",{onClick:this.addFleetHighToLow,disabled:a},"+"))))))))}}function yo(e,t){const n=e.getReader(),r=n.getPlanet(t.from);console.assert(void 0!==r);const i=n.getPlanet(t.to);return console.assert(void 0!==i),r.id<i.id?`Route (${po(r.id,i.id)})`:`Route (${po(i.id,r.id)})`}class vo extends r.PureComponent{constructor(e){super(e),this.view=document.createElement("div"),console.assert(e.objs.length>0)}render(){const e=this.props.game,t=this.props.objs.map(t=>{let n,i,o;switch(t.kind){case X.Fleet:{const e=t;n="Trader "+e.id,i="yellow",o=()=>this.props.addClosable(bi.Fleet,e)}break;case X.Planet:{const e=t;n="Planet "+e.id,i="green",o=()=>this.props.addClosable(bi.Planet,e)}break;case X.RouteSegment:{const r=t;n=""+yo(e,r),i="darkcyan",o=()=>this.props.addClosable(bi.Route,r)}break;default:throw new Error("unhandled")}return r.createElement("div",{className:"selectLabel",key:n,style:{color:i},onClick:o},n)});return r.createElement(Si,null,r.createElement(ki,{title:"Which One?"}),r.createElement(xi,null,t))}}var go=G(null,e=>({addClosable:(t,n)=>e(_i(t,n))}))(vo);var bo=()=>r.createElement(Si,null,r.createElement(ki,{title:"Tutorial"}),r.createElement(xi,null,r.createElement("h2",null,"Getting Started"),r.createElement("p",null,"Hello. ",r.createElement("b",null,"The game is paused whenever the game is loaded.")," Follow this section and then unpause the game with the unpause button, which is located on the top-left side of the window."),r.createElement("p",null,"First, try to control the viewport by panning and pinching, or click-and-drag and zooming if you are playing on a PC."),r.createElement("p",null,"Your first step is to colonize a food-producing (green) planet as your starting planet. Choose carefully because the first colony has a starting population of 10, and subsequent colonies will have a starting population of 1. After you're done, mouse over to the user interface, like labels,buttons, tables, and read the tooltips about game concepts. Feel free to click on any colored items on the map, as they are interactive."),r.createElement("h2",null,"Goal of The Game"),"You are the boss of a galactic corporation. Like all corporations, your only goal is to maximize profit through selling products to consumers. As the boss, you can decide the company's funding in several ways.",r.createElement("ul",null,r.createElement("li",null,"Fund colonial ventures, control population growth"),r.createElement("li",null,"Buy, expand, or destroy industrial buildings"),r.createElement("li",null,"Hire traders and set up their routes"),r.createElement("li",null,"Fund power plants, which are public buildings that are owned by local governments.")),r.createElement("h2",null,"Economy"),r.createElement("p",null,"The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap."),r.createElement("p",null,"The galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap."),r.createElement("p",null,"Since you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [",Hi,","," ",Vi,"] and by power plants [",Hr[Hr.Fuel],"] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned."),r.createElement("p",null,"Finally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods [",Vi,"]."),r.createElement("h2",null,"Logistics"),"The galactic trade network is created by traders, which is a collection of trade routes that connect every colonized planets with minimum distance (i.e. minimum spanning tree). While you don't control traders, you can assign them to a route (a path that connects 2 plannets) of the network. If a plannet has excess goods that other planets need, traders will transport goods to those planets.",r.createElement("h2",null,"Planet Specialization"),"Planets can't be both consumers and producers, because both populations and factories use energy and therefore drive up energy price. It is possible to fund new power plants, but very costly. Thus, controlling opulation growth (see a checkbox under the planet panel) is necessary to turn planets into either dedicated ",r.createElement("b",null,"consumers")," (high population, low production, pay a lot for consumable goods due to demand) or dedicated ",r.createElement("b",null,"producers")," (low population, high production, produce goods at cheap price)."));class wo extends r.Component{constructor(e){super(e),this.state={game:e.game},this.setupGameLoop()}render(){const e=this.state.game;return r.createElement(r.Fragment,null,r.createElement(qi,{gameWrapper:{game:e}}),r.createElement(Ui,{gameWrapper:{game:e}}),this.getCurrentView())}setupGameLoop(){let e=this.props.updatePeriod;const t=()=>{if(!this.props.isPaused){this.props.game.getWriter().turn()}const n=this.props.game;n.isDirty()&&(this.setState({game:n}),n.resetDirty()),this.props.updatePeriod!==e&&(console.log("HIHI"),window.clearInterval(void 0),e=this.props.updatePeriod),window.setTimeout(t,e)};t()}getCurrentView(){const e=this.state.game,t=this.props.currentViewData;if(null!==t)switch(t.panelType){case bi.ImportExport:return r.createElement(Ri,{game:e});case bi.Fleet:{const n=t.args;return r.createElement(Oi,{key:n.id,gameWrapper:{game:e},fleet:n})}case bi.Planet:{const n=t.args;return r.createElement(ho,{key:n.id,game:e,planet:n})}case bi.Route:{const n=t.args;return r.createElement(mo,{key:n.from.toString()+" "+n.to.toString(),game:e,route:n})}case bi.Selector:{const n=t.args;return r.createElement(go,{game:e,objs:n})}case bi.Tutorial:return r.createElement(bo,null);default:throw new Error("not handled")}}}var _o=G(e=>({currentViewData:e.closableAction,isPaused:e.speedCommand.isPaused,updatePeriod:e.speedCommand.period}))(wo);function Eo(e){return Math.max(20,e-20)}var xo=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:A.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:A.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+A.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],l=n[u],c=e[u],f=l(c,t);if(void 0===f){var h=z(u,t);throw new Error(h)}i[u]=f,r=r||f!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}({closableAction:function(e=null,t){switch(t.type){case gi.Switch:{const e=t;return{args:e.args,panelType:e.panelType}}case gi.Close:return null;default:return e}},speedCommand:function(e={isPaused:!0,period:50},t){switch(t.type){case Li.Pause:return{...e,isPaused:!0};case Li.Resume:return{...e,isPaused:!1};case Li.SlowDown:return{...e,period:(n=e.period,Math.min(100,n+20))};case Li.SpeedUp:return{...e,period:Eo(e.period)};default:return e}var n}});mi.tryLoad().then(({game:e,isNewGame:t})=>{const n=M(xo);t&&n.dispatch(_i(bi.Tutorial)),Object(o.render)(r.createElement(f,{store:n},r.createElement(_o,{game:e,isNewGame:t})),document.getElementById("root")),Object(wi.a)()})}]);
//# sourceMappingURL=main.9fb7a32a87e341802df0.js.map