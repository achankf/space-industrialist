!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/space-industrialist/",n(n.s=40)}([function(e,t,n){"use strict";e.exports=n(47)},function(e,t,n){"use strict";function*r(e,t){let n=0;for(const r of e)yield t(r,n),++n}function o(e,t,n){let r=n,o=0;for(const i of e)r=t(r,i,o),++o;return r}function*i(e,t){let n=0;for(const r of e){if(n>=t)break;yield r,++n}}function a(e,t){let n=0;for(const r of e){if(!t(r,n))return!1;++n}return!0}function s(e,t){let n=0;for(const r of e){if(t(r,n))return!0;++n}return!1}function u(e,t){let n=0;for(const r of e){if(!t(r,n))return;++n}}function*c(e,t){let n=0;for(const r of e)t(r,n)&&(yield r),++n}function l(e){for(const t of e)return!1;return!0}function*f(e,t){let n,r=!0;for(const o of e)r?(r=!1,n=o):(yield t(n,o),n=o)}function h(e){let t=0;for(const n of e)++t;return t}function d(e){return p(e).take(1).collect()[0]}function p(e){return{collect:()=>Array.from(e),count:()=>h(e),every:t=>a(e,t),filter:t=>p(c(e,t)),forEach:t=>u(e,t),inject:()=>d(e),isEmpty:()=>l(e),map:t=>p(r(e,t)),pin:t=>p(f(e,t)),reduce:(t,n)=>o(e,t,n),some:t=>s(e,t),take:t=>p(i(e,t)),*[Symbol.iterator](){for(const t of e)yield t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toIt=p;t.MyIterable=class{constructor(){this.collect=(()=>Array.from(this)),this.count=(()=>h(this)),this.inject=(()=>d(this)),this.isEmpty=(()=>l(this)),this.map=(e=>p(r(this,e))),this.pin=(e=>p(f(this,e))),this.reduce=((e,t)=>o(this,e,t)),this.some=(e=>s(this,e)),this.every=(e=>a(this,e)),this.filter=(e=>p(c(this,e))),this.forEach=(e=>u(this,e)),this.take=(e=>p(i(this,e)))}*[Symbol.iterator](){for(const e of this.iterate())yield e}},t.genBy=function(e){return p(function*(){for(let t=0;;t++)yield e(t)}())},t.repeat=function(e){return p(function*(){for(;;)yield e}())},t.combine=function(...e){return p(function*(e){for(const t of e)for(const e of t)yield e}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);var o;!function(e){e[e.Crop=0]="Crop",e[e.Metal=1]="Metal",e[e.Gem=2]="Gem",e[e.Fuel=3]="Fuel",e[e.Fiber=4]="Fiber",e[e.Chemical=5]="Chemical",e[e.Circuit=6]="Circuit",e[e.Computer=7]="Computer",e[e.Food=8]="Food",e[e.Drink=9]="Drink",e[e.Apparel=10]="Apparel",e[e.Medicine=11]="Medicine",e[e.Accessory=12]="Accessory",e[e.Furniture=13]="Furniture",e[e.Gadget=14]="Gadget",e[e.Vehicle=15]="Vehicle",e[e.Machine=16]="Machine",e[e.Tool=17]="Tool"}(o=t.Product||(t.Product={}));const i=Object.keys(o).filter(e=>"number"===typeof o[e]),a=i.map(e=>Number(o[e])).sort((e,t)=>e-t);function s(){return a.slice()}t.NUM_PRODUCTS=i.length,t.allProducts=s,t.RAW_MATERIALS=[o.Crop,o.Metal,o.Gem,o.Fuel],t.RAW_MATERIALS_SET=new Set(t.RAW_MATERIALS),t.DEMAND_PRODUCTS=s().map(e=>(function(e){switch(e){case o.Crop:case o.Metal:case o.Gem:case o.Fuel:return[];case o.Food:case o.Drink:return[new Set([o.Crop])];case o.Apparel:return[new Set([o.Fiber])];case o.Medicine:return[new Set([o.Chemical])];case o.Fiber:return[new Set([o.Crop])];case o.Chemical:return[new Set([o.Crop,o.Metal,o.Gem,o.Fuel])];case o.Circuit:return[new Set([o.Metal])];case o.Computer:return[new Set([o.Circuit])];case o.Accessory:return[new Set([o.Gem])];case o.Furniture:return[new Set([o.Fiber])];case o.Gadget:return[new Set([o.Computer])];case o.Vehicle:return[new Set([o.Metal])];case o.Machine:return[new Set([o.Metal]),new Set([o.Computer])];case o.Tool:return[new Set([o.Metal])]}})(e)),t.FLAT_DEMAND_PRODUCTS=t.DEMAND_PRODUCTS.map(e=>r.Set().union(...e)),t.SECONDARY_PRODUCTS=r.Set(s().filter(e=>!t.RAW_MATERIALS_SET.has(e)&&!t.FLAT_DEMAND_PRODUCTS[e].subtract(t.RAW_MATERIALS_SET).isEmpty())),t.OP_PRODUCTS=s().map(e=>(function(e){switch(e){case o.Crop:case o.Metal:case o.Gem:case o.Fuel:return o.Tool;default:return o.Machine}})(e))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Hold=0]="Hold",e[e.Move=1]="Move",e[e.Docked=2]="Docked"}(t.FleetState||(t.FleetState={})),function(e){e[e.Planet=0]="Planet",e[e.Fleet=1]="Fleet",e[e.RouteSegment=2]="RouteSegment"}(r=t.MapDataKind||(t.MapDataKind={})),t.YEAR_PER_TICK=120,t.ANNUAL_INTEREST=.1,t.TRADER_COST=1e4,t.INDUSTRY_COST=1e4,t.INDUSTRY_DEMOLISH_COST=t.INDUSTRY_COST/10,t.POWER_PLANT_COST=1e6;const o=Object.keys(r).filter(e=>"number"===typeof r[e]).map(e=>Number(r[e]));t.allMapDataKind=function(){return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"version",function(){return wr}),n.d(t,"Collection",function(){return A}),n.d(t,"Iterable",function(){return Sr}),n.d(t,"Seq",function(){return J}),n.d(t,"Map",function(){return Dt}),n.d(t,"OrderedMap",function(){return _n}),n.d(t,"List",function(){return nn}),n.d(t,"Stack",function(){return Pn}),n.d(t,"Set",function(){return Rn}),n.d(t,"OrderedSet",function(){return ir}),n.d(t,"Record",function(){return fr}),n.d(t,"Range",function(){return Kn}),n.d(t,"Repeat",function(){return gr}),n.d(t,"is",function(){return de}),n.d(t,"fromJS",function(){return _r}),n.d(t,"hash",function(){return ye}),n.d(t,"isImmutable",function(){return b}),n.d(t,"isCollection",function(){return w}),n.d(t,"isKeyed",function(){return E}),n.d(t,"isIndexed",function(){return S}),n.d(t,"isAssociative",function(){return P}),n.d(t,"isOrdered",function(){return x}),n.d(t,"isValueObject",function(){return C}),n.d(t,"get",function(){return rt}),n.d(t,"getIn",function(){return Wn}),n.d(t,"has",function(){return nt}),n.d(t,"hasIn",function(){return Vn}),n.d(t,"merge",function(){return gt}),n.d(t,"mergeDeep",function(){return bt}),n.d(t,"mergeWith",function(){return _t}),n.d(t,"mergeDeepWith",function(){return wt}),n.d(t,"remove",function(){return it}),n.d(t,"removeIn",function(){return lt}),n.d(t,"set",function(){return at}),n.d(t,"setIn",function(){return ut}),n.d(t,"update",function(){return ht}),n.d(t,"updateIn",function(){return st});var r=5,o=1<<r,i=o-1,a={},s={value:!1},u={value:!1};function c(e){return e.value=!1,e}function l(e){e&&(e.value=!0)}function f(){}function h(e){return void 0===e.size&&(e.size=e.__iterate(p)),e.size}function d(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function p(){return!0}function m(e,t,n){return(0===e&&!_(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function y(e,t){return g(e,t,0)}function v(e,t){return g(e,t,t)}function g(e,t,n){return void 0===e?n:_(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function _(e){return e<0||0===e&&1/e===-1/0}function b(e){return w(e)||T(e)}function w(e){return!(!e||!e[k])}function E(e){return!(!e||!e[O])}function S(e){return!(!e||!e[I])}function P(e){return E(e)||S(e)}function x(e){return!(!e||!e[M])}function T(e){return!(!e||!e[D])}function C(e){return!(!e||"function"!==typeof e.equals||"function"!==typeof e.hashCode)}var k="@@__IMMUTABLE_ITERABLE__@@",O="@@__IMMUTABLE_KEYED__@@",I="@@__IMMUTABLE_INDEXED__@@",M="@@__IMMUTABLE_ORDERED__@@",D="@@__IMMUTABLE_RECORD__@@",A=function(e){return w(e)?e:J(e)},R=function(e){function t(e){return E(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(A),j=function(e){function t(e){return S(e)?e:ee(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(A),N=function(e){function t(e){return w(e)&&!P(e)?e:te(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(A);A.Keyed=R,A.Indexed=j,A.Set=N;var z=0,F=1,U=2,L="function"===typeof Symbol&&Symbol.iterator,q="@@iterator",B=L||q,K=function(e){this.next=e};function W(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function H(){return{value:void 0,done:!0}}function V(e){return!!Y(e)}function G(e){return e&&"function"===typeof e.next}function $(e){var t=Y(e);return t&&t.call(e)}function Y(e){var t=e&&(L&&e[L]||e[q]);if("function"===typeof t)return t}K.prototype.toString=function(){return"[Iterator]"},K.KEYS=z,K.VALUES=F,K.ENTRIES=U,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[B]=function(){return this};var Q=Object.prototype.hasOwnProperty;function X(e){return e&&"number"===typeof e.length}var J=function(e){function t(e){return null===e||void 0===e?ce():b(e)?e.toSeq():function(e){var t=he(e);if(t)return t;if("object"===typeof e)return new oe(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[t?r-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,o=0;return new K(function(){if(o===r)return{value:void 0,done:!0};var i=n[t?r-++o:o++];return W(e,i[0],i[1])})}return this.__iteratorUncached(e,t)},t}(A),Z=function(e){function t(e){return null===e||void 0===e?ce().toKeyedSeq():w(e)?E(e)?e.toSeq():e.fromEntrySeq():T(e)?e.toSeq():le(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(J),ee=function(e){function t(e){return null===e||void 0===e?ce():w(e)?E(e)?e.entrySeq():e.toIndexedSeq():T(e)?e.toSeq().entrySeq():fe(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(J),te=function(e){function t(e){return(w(e)&&!P(e)?e:ee(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(J);J.isSeq=ue,J.Keyed=Z,J.Set=te,J.Indexed=ee;var ne="@@__IMMUTABLE_SEQ__@@";J.prototype[ne]=!0;var re=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,o=0;o!==r;){var i=t?r-++o:o++;if(!1===e(n[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,o=0;return new K(function(){if(o===r)return{value:void 0,done:!0};var i=t?r-++o:o++;return W(e,i,n[i])})},t}(ee),oe=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Q.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[t?o-++i:i++];if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length,i=0;return new K(function(){if(i===o)return{value:void 0,done:!0};var a=r[t?o-++i:i++];return W(e,a,n[a])})},t}(Z);oe.prototype[M]=!0;var ie,ae=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=$(this._collection),r=0;if(G(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=$(this._collection);if(!G(n))return new K(H);var r=0;return new K(function(){var t=n.next();return t.done?t:W(e,r++,t.value)})},t}(ee),se=function(e){function t(e){this._iterator=e,this._iteratorCache=[]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new K(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return W(e,o,r[o++])})},t}(ee);function ue(e){return!(!e||!e[ne])}function ce(){return ie||(ie=new re([]))}function le(e){var t=Array.isArray(e)?new re(e):G(e)?new se(e):V(e)?new ae(e):void 0;if(t)return t.fromEntrySeq();if("object"===typeof e)return new oe(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function fe(e){var t=he(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function he(e){return X(e)?new re(e):G(e)?new se(e):V(e)?new ae(e):void 0}function de(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(C(e)&&C(t)&&e.equals(t))}var pe="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function me(e){return e>>>1&1073741824|3221225471&e}function ye(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return me(n)}if("string"===t)return e.length>Pe?function(e){var t=Ce[e];void 0===t&&(t=ve(e),Te===xe&&(Te=0,Ce={}),Te++,Ce[e]=t);return t}(e):ve(e);if("function"===typeof e.hashCode)return me(e.hashCode());if("object"===t)return function(e){var t;if(we&&void 0!==(t=be.get(e)))return t;if(void 0!==(t=e[Se]))return t;if(!_e){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Se]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++Ee,1073741824&Ee&&(Ee=0);if(we)be.set(e,t);else{if(void 0!==ge&&!1===ge(e))throw new Error("Non-extensible objects are not allowed as keys.");if(_e)Object.defineProperty(e,Se,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Se]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Se]=t}}return t}(e);if("function"===typeof e.toString)return ve(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ve(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return me(t)}var ge=Object.isExtensible,_e=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var be,we="function"===typeof WeakMap;we&&(be=new WeakMap);var Ee=0,Se="__immutablehash__";"function"===typeof Symbol&&(Se=Symbol(Se));var Pe=16,xe=255,Te=0,Ce={},ke=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Re(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Ae(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(Z);ke.prototype[M]=!0;var Oe=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&h(this),this._iter.__iterate(function(o){return e(o,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(F,t),o=0;return t&&h(this),new K(function(){var i=r.next();return i.done?i:W(e,t?n.size-++o:o++,i.value,i)})},t}(ee),Ie=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(F,t);return new K(function(){var t=n.next();return t.done?t:W(e,t.value,t.value,t)})},t}(te),Me=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){We(t);var r=w(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(F,t);return new K(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){We(r);var o=w(r);return W(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},t}(Z);function De(e){var t=Ve(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ge,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===U){var r=e.__iterator(t,n);return new K(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===F?z:F,n)},t}function Ae(e,t,n){var r=Ve(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,a);return i===a?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(U,o);return new K(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return W(r,s,t.call(n,a[1],s,e),o)})},r}function Re(e,t){var n=this,r=Ve(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=De(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Ge,r.__iterate=function(n,r){var o=this,i=0;return r&&h(e),e.__iterate(function(e,a){return n(e,t?a:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&h(e);var a=e.__iterator(U,!o);return new K(function(){var e=a.next();if(e.done)return e;var s=e.value;return W(r,t?s[0]:o?n.size-++i:i++,s[1],e)})},r}function je(e,t,n,r){var o=Ve(e);return r&&(o.has=function(r){var o=e.get(r,a);return o!==a&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,a);return i!==a&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(U,i),s=0;return new K(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return W(o,r?c:s++,l,i)}})},o}function Ne(e,t,n,r){var o=e.size;if(m(t,n,o))return e;var i=y(t,o),a=v(n,o);if(i!==i||a!==a)return Ne(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=Ve(e);return c.size=0===s?s:e.size&&s||void 0,!r&&ue(e)&&s>=0&&(c.get=function(t,n){return(t=d(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate(function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new K(H);var o=e.__iterator(t,n),a=0,u=0;return new K(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var e=o.next();return r||t===F||e.done?e:W(t,u-1,t===z?void 0:e.value[1],e)})},c}function ze(e,t,n,r){var o=Ve(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(U,i),u=!0,c=0;return new K(function(){var e,i,l;do{if((e=s.next()).done)return r||o===F?e:W(o,c++,o===z?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],u&&(u=t.call(n,l,i,a))}while(u);return o===U?e:W(o,i,l,e)})},o}function Fe(e,t,n){var r=Ve(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(u,c){u.__iterate(function(i,u){return(!t||c<t)&&w(i)?e(i,c+1):(a++,!1===o(i,n?u:a-1,r)&&(s=!0)),!s},i)}(e,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(r,o),a=[],s=0;return new K(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===U&&(u=u[1]),t&&!(a.length<t)||!w(u))return n?e:W(r,s++,u,e);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}})},r}function Ue(e,t,n){t||(t=$e);var r=E(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).valueSeq().toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?Z(i):S(e)?ee(i):te(i)}function Le(e,t,n){if(t||(t=$e),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return qe(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return qe(t,e,n)?n:e})}function qe(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Be(e,t,n,r){var o=Ve(e),i=new re(n).map(function(e){return e.size});return o.size=r?i.max():i.min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(F,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map(function(e){return e=A(e),$(o?e.reverse():e)}),a=0,s=!1;return new K(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),s?{value:void 0,done:!0}:W(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function Ke(e,t){return e===t?e:ue(e)?t:e.constructor(t)}function We(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function He(e){return E(e)?R:S(e)?j:N}function Ve(e){return Object.create((E(e)?Z:S(e)?ee:te).prototype)}function Ge(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):J.prototype.cacheResult.call(this)}function $e(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ye(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function Qe(e,t){if(!e)throw new Error(t)}function Xe(e){Qe(e!==1/0,"Cannot perform this action with an infinite size.")}function Je(e){if(X(e)&&"string"!==typeof e)return e;if(x(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Ze(e){return e&&(e.constructor===Object||void 0===e.constructor)}function et(e){return b(e)||Array.isArray(e)||Ze(e)}function tt(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function nt(e,t){return b(e)?e.has(t):et(e)&&Q.call(e,t)}function rt(e,t,n){return b(e)?e.get(t,n):nt(e,t)?"function"===typeof e.get?e.get(t):e[t]:n}function ot(e){if(Array.isArray(e))return Ye(e);var t={};for(var n in e)Q.call(e,n)&&(t[n]=e[n]);return t}function it(e,t){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(b(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Q.call(e,t))return e;var n=ot(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function at(e,t,n){if(!et(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(b(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Q.call(e,t)&&n===e[t])return e;var r=ot(e);return r[t]=n,r}function st(e,t,n,r){r||(r=n,n=void 0);var o=function e(t,n,r,o,i,s){var u=n===a;if(o===r.length){var c=u?i:n,l=s(c);return l===c?n:l}if(!u&&!et(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(tt)+"]: "+n);var f=r[o];var h=u?a:rt(n,f,a);var d=e(h===a?t:b(h),h,r,o+1,i,s);return d===h?n:d===a?it(n,f):at(u?t?Vt():{}:n,f,d)}(b(e),e,Je(t),0,n,r);return o===a?n:o}function ut(e,t,n){return st(e,t,a,function(){return n})}function ct(e,t){return ut(this,e,t)}function lt(e,t){return st(e,t,function(){return a})}function ft(e){return lt(this,e)}function ht(e,t,n,r){return st(e,[t],n,r)}function dt(e,t,n){return 1===arguments.length?e(this):ht(this,e,t,n)}function pt(e,t,n){return st(this,e,t,n)}function mt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return vt(this,e)}function yt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return vt(this,t,e)}function vt(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=R(t[o]);0!==i.size&&r.push(i)}return 0===r.length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){ht(e,r,a,function(e){return e===a?t:n(e,t,r)})}:function(t,n){e.set(n,t)},o=0;o<r.length;o++)r[o].forEach(t)}):e.constructor(r[0])}function gt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return St(e,t)}function _t(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return St(t,n,e)}function bt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Et(e,t)}function wt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Et(t,n,e)}function Et(e,t,n){return St(e,t,function(e){return function t(n,r,o){return et(n)&&et(r)?St(n,[r],t):e?e(n,r,o):r}}(n))}function St(e,t,n){if(!et(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(b(e))return e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?j:R,a=r?function(t){o===e&&(o=ot(o)),o.push(t)}:function(t,r){var i=Q.call(o,r),a=i&&n?n(o[r],t,r):t;i&&a===o[r]||(o===e&&(o=ot(o)),o[r]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function Pt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Et(this,e)}function xt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Et(this,t,e)}function Tt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return st(this,e,Vt(),function(e){return St(e,t)})}function Ct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return st(this,e,Vt(),function(e){return Et(e,t)})}function kt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Ot(){return this.__ownerID?this:this.__ensureOwner(new f)}function It(){return this.__ensureOwner()}function Mt(){return this.__altered}Oe.prototype.cacheResult=ke.prototype.cacheResult=Ie.prototype.cacheResult=Me.prototype.cacheResult=Ge;var Dt=function(e){function t(t){return null===t||void 0===t?Vt():At(t)&&!x(t)?t:Vt().withMutations(function(n){var r=e(t);Xe(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Vt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Gt(this,e,t)},t.prototype.remove=function(e){return Gt(this,e,a)},t.prototype.deleteAll=function(e){var t=A(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},t.prototype.sort=function(e){return _n(Ue(this,e))},t.prototype.sortBy=function(e,t){return _n(Ue(this,t,e))},t.prototype.__iterator=function(e,t){return new Bt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ht(this.size,this._root,e,this.__hash):0===this.size?Vt():(this.__ownerID=e,this.__altered=!1,this)},t}(R);function At(e){return!(!e||!e[Rt])}Dt.isMap=At;var Rt="@@__IMMUTABLE_MAP__@@",jt=Dt.prototype;jt[Rt]=!0,jt.delete=jt.remove,jt.removeAll=jt.deleteAll,jt.concat=jt.merge,jt.setIn=ct,jt.removeIn=jt.deleteIn=ft,jt.update=dt,jt.updateIn=pt,jt.merge=mt,jt.mergeWith=yt,jt.mergeDeep=Pt,jt.mergeDeepWith=xt,jt.mergeIn=Tt,jt.mergeDeepIn=Ct,jt.withMutations=kt,jt.wasAltered=Mt,jt.asImmutable=It,jt["@@transducer/init"]=jt.asMutable=Ot,jt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},jt["@@transducer/result"]=function(e){return e.asImmutable()};var Nt=function(e,t){this.ownerID=e,this.entries=t};Nt.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},Nt.prototype.update=function(e,t,n,r,o,i,s){for(var u=o===a,c=this.entries,h=0,d=c.length;h<d&&!de(r,c[h][0]);h++);var p=h<d;if(p?c[h][1]===o:u)return this;if(l(s),(u||!p)&&l(i),!u||1!==c.length){if(!p&&!u&&c.length>=Zt)return function(e,t,n,r){e||(e=new f);for(var o=new Lt(e,ye(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,c,r,o);var m=e&&e===this.ownerID,y=m?c:Ye(c);return p?u?h===d-1?y.pop():y[h]=y.pop():y[h]=[r,o]:y.push([r,o]),m?(this.entries=y,this):new Nt(e,y)}};var zt=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};zt.prototype.get=function(e,t,n,o){void 0===t&&(t=ye(n));var a=1<<((0===e?t:t>>>e)&i),s=this.bitmap;return 0===(s&a)?o:this.nodes[Xt(s&a-1)].get(e+r,t,n,o)},zt.prototype.update=function(e,t,n,s,u,c,l){void 0===n&&(n=ye(s));var f=(0===t?n:n>>>t)&i,h=1<<f,d=this.bitmap,p=0!==(d&h);if(!p&&u===a)return this;var m=Xt(d&h-1),y=this.nodes,v=p?y[m]:void 0,g=$t(v,e,t+r,n,s,u,c,l);if(g===v)return this;if(!p&&g&&y.length>=en)return function(e,t,n,r,i){for(var a=0,s=new Array(o),u=0;0!==n;u++,n>>>=1)s[u]=1&n?t[a++]:void 0;return s[r]=i,new Ft(e,a+1,s)}(e,y,d,f,g);if(p&&!g&&2===y.length&&Yt(y[1^m]))return y[1^m];if(p&&g&&1===y.length&&Yt(g))return g;var _=e&&e===this.ownerID,b=p?g?d:d^h:d|h,w=p?g?Jt(y,m,g,_):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(y,m,_):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(y,m,g,_);return _?(this.bitmap=b,this.nodes=w,this):new zt(e,b,w)};var Ft=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Ft.prototype.get=function(e,t,n,o){void 0===t&&(t=ye(n));var a=(0===e?t:t>>>e)&i,s=this.nodes[a];return s?s.get(e+r,t,n,o):o},Ft.prototype.update=function(e,t,n,o,s,u,c){void 0===n&&(n=ye(o));var l=(0===t?n:n>>>t)&i,f=s===a,h=this.nodes,d=h[l];if(f&&!d)return this;var p=$t(d,e,t+r,n,o,s,u,c);if(p===d)return this;var m=this.count;if(d){if(!p&&--m<tn)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new zt(e,o,a)}(e,h,m,l)}else m++;var y=e&&e===this.ownerID,v=Jt(h,l,p,y);return y?(this.count=m,this.nodes=v,this):new Ft(e,m,v)};var Ut=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Ut.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(de(n,o[i][0]))return o[i][1];return r},Ut.prototype.update=function(e,t,n,r,o,i,s){void 0===n&&(n=ye(r));var u=o===a;if(n!==this.keyHash)return u?this:(l(s),l(i),Qt(this,e,t,n,[r,o]));for(var c=this.entries,f=0,h=c.length;f<h&&!de(r,c[f][0]);f++);var d=f<h;if(d?c[f][1]===o:u)return this;if(l(s),(u||!d)&&l(i),u&&2===h)return new Lt(e,this.keyHash,c[1^f]);var p=e&&e===this.ownerID,m=p?c:Ye(c);return d?u?f===h-1?m.pop():m[f]=m.pop():m[f]=[r,o]:m.push([r,o]),p?(this.entries=m,this):new Ut(e,this.keyHash,m)};var Lt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Lt.prototype.get=function(e,t,n,r){return de(n,this.entry[0])?this.entry[1]:r},Lt.prototype.update=function(e,t,n,r,o,i,s){var u=o===a,c=de(r,this.entry[0]);return(c?o===this.entry[1]:u)?this:(l(s),u?void l(i):c?e&&e===this.ownerID?(this.entry[1]=o,this):new Lt(e,this.keyHash,[r,o]):(l(i),Qt(this,e,t,ye(r),[r,o])))},Nt.prototype.iterate=Ut.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},zt.prototype.iterate=Ft.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Lt.prototype.iterate=function(e,t){return e(this.entry)};var qt,Bt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Wt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o=void 0;if(n.entry){if(0===r)return Kt(e,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Kt(e,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Kt(e,i.entry);t=this._stack=Wt(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(K);function Kt(e,t){return W(e,t[0],t[1])}function Wt(e,t){return{node:e,index:0,__prev:t}}function Ht(e,t,n,r){var o=Object.create(jt);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Vt(){return qt||(qt=Ht(0))}function Gt(e,t,n){var r,o;if(e._root){var i=c(s),l=c(u);if(r=$t(e._root,e.__ownerID,0,void 0,t,n,i,l),!l.value)return e;o=e.size+(i.value?n===a?-1:1:0)}else{if(n===a)return e;o=1,r=new Nt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ht(o,r):Vt()}function $t(e,t,n,r,o,i,s,u){return e?e.update(t,n,r,o,i,s,u):i===a?e:(l(u),l(s),new Lt(t,r,[o,i]))}function Yt(e){return e.constructor===Lt||e.constructor===Ut}function Qt(e,t,n,o,a){if(e.keyHash===o)return new Ut(t,o,[e.entry,a]);var s,u=(0===n?e.keyHash:e.keyHash>>>n)&i,c=(0===n?o:o>>>n)&i,l=u===c?[Qt(e,t,n+r,o,a)]:(s=new Lt(t,o,a),u<c?[e,s]:[s,e]);return new zt(t,1<<u|1<<c,l)}function Xt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Jt(e,t,n,r){var o=r?e:Ye(e);return o[t]=n,o}var Zt=o/4,en=o/2,tn=o/4,nn=function(e){function t(t){var n=hn();if(null===t||void 0===t)return n;if(rn(t))return t;var i=e(t),a=i.size;return 0===a?n:(Xe(a),a>0&&a<o?fn(0,a,r,null,new sn(i.toArray())):n.withMutations(function(e){e.setSize(a),i.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=d(this,e))>=0&&e<this.size){var n=mn(this,e+=this._origin);return n&&n.array[e&i]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=d(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?yn(e,t).set(0,n):yn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=c(u);t>=vn(e._capacity)?r=dn(r,e.__ownerID,0,t,n,i):o=dn(o,e.__ownerID,e._level,t,n,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return fn(e._origin,e._capacity,e._level,o,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):hn()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){yn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return yn(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){yn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return yn(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var o=t[r],i=e("string"!==typeof o&&V(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return yn(this,0,e)},t.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:yn(this,y(e,n),v(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=ln(this,t);return new K(function(){var o=r();return o===cn?{value:void 0,done:!0}:W(e,t?--n:n++,o)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,o=ln(this,t);(n=o())!==cn&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?fn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?hn():(this.__ownerID=e,this.__altered=!1,this)},t}(j);function rn(e){return!(!e||!e[on])}nn.isList=rn;var on="@@__IMMUTABLE_LIST__@@",an=nn.prototype;an[on]=!0,an.delete=an.remove,an.merge=an.concat,an.setIn=ct,an.deleteIn=an.removeIn=ft,an.update=dt,an.updateIn=pt,an.mergeIn=Tt,an.mergeDeepIn=Ct,an.withMutations=kt,an.wasAltered=Mt,an.asImmutable=It,an["@@transducer/init"]=an.asMutable=Ot,an["@@transducer/step"]=function(e,t){return e.push(t)},an["@@transducer/result"]=function(e){return e.asImmutable()};var sn=function(e,t){this.array=e,this.ownerID=t};sn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var o=n>>>t&i;if(o>=this.array.length)return new sn([],e);var a,s=0===o;if(t>0){var u=this.array[o];if((a=u&&u.removeBefore(e,t-r,n))===u&&s)return this}if(s&&!a)return this;var c=pn(this,e);if(!s)for(var l=0;l<o;l++)c.array[l]=void 0;return a&&(c.array[o]=a),c},sn.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var o,a=n-1>>>t&i;if(a>=this.array.length)return this;if(t>0){var s=this.array[a];if((o=s&&s.removeAfter(e,t-r,n))===s&&a===this.array.length-1)return this}var u=pn(this,e);return u.array.splice(a+1),o&&(u.array[a]=o),u};var un,cn={};function ln(e,t){var n=e._origin,i=e._capacity,a=vn(i),s=e._tail;return u(e._root,e._level,0);function u(e,c,l){return 0===c?function(e,r){var u=r===a?s&&s.array:e&&e.array,c=r>n?0:n-r,l=i-r;l>o&&(l=o);return function(){if(c===l)return cn;var e=t?--l:c++;return u&&u[e]}}(e,l):function(e,a,s){var c,l=e&&e.array,f=s>n?0:n-s>>a,h=1+(i-s>>a);h>o&&(h=o);return function(){for(;;){if(c){var e=c();if(e!==cn)return e;c=null}if(f===h)return cn;var n=t?--h:f++;c=u(l&&l[n],a-r,s+(n<<a))}}}(e,c,l)}}function fn(e,t,n,r,o,i,a){var s=Object.create(an);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function hn(){return un||(un=fn(0,0,r))}function dn(e,t,n,o,a,s){var u,c=o>>>n&i,f=e&&c<e.array.length;if(!f&&void 0===a)return e;if(n>0){var h=e&&e.array[c],d=dn(h,t,n-r,o,a,s);return d===h?e:((u=pn(e,t)).array[c]=d,u)}return f&&e.array[c]===a?e:(l(s),u=pn(e,t),void 0===a&&c===u.array.length-1?u.array.pop():u.array[c]=a,u)}function pn(e,t){return t&&e&&t===e.ownerID?e:new sn(e?e.array.slice():[],t)}function mn(e,t){if(t>=vn(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,o=e._level;n&&o>0;)n=n.array[t>>>o&i],o-=r;return n}}function yn(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var o=e.__ownerID||new f,a=e._origin,s=e._capacity,u=a+t,c=void 0===n?s:n<0?s+n:a+n;if(u===a&&c===s)return e;if(u>=c)return e.clear();for(var l=e._level,h=e._root,d=0;u+d<0;)h=new sn(h&&h.array.length?[void 0,h]:[],o),d+=1<<(l+=r);d&&(u+=d,a+=d,c+=d,s+=d);for(var p=vn(s),m=vn(c);m>=1<<l+r;)h=new sn(h&&h.array.length?[h]:[],o),l+=r;var y=e._tail,v=m<p?mn(e,c-1):m>p?new sn([],o):y;if(y&&m>p&&u<s&&y.array.length){for(var g=h=pn(h,o),_=l;_>r;_-=r){var b=p>>>_&i;g=g.array[b]=pn(g.array[b],o)}g.array[p>>>r&i]=y}if(c<s&&(v=v&&v.removeAfter(o,0,c)),u>=m)u-=m,c-=m,l=r,h=null,v=v&&v.removeBefore(o,0,u);else if(u>a||m<p){for(d=0;h;){var w=u>>>l&i;if(w!==m>>>l&i)break;w&&(d+=(1<<l)*w),l-=r,h=h.array[w]}h&&u>a&&(h=h.removeBefore(o,l,u-d)),h&&m<p&&(h=h.removeAfter(o,l,m-d)),d&&(u-=d,c-=d)}return e.__ownerID?(e.size=c-u,e._origin=u,e._capacity=c,e._level=l,e._root=h,e._tail=v,e.__hash=void 0,e.__altered=!0,e):fn(u,c,l,h,v)}function vn(e){return e<o?0:e-1>>>r<<r}var gn,_n=function(e){function t(e){return null===e||void 0===e?En():bn(e)?e:En().withMutations(function(t){var n=R(e);Xe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):En()},t.prototype.set=function(e,t){return Sn(this,e,t)},t.prototype.remove=function(e){return Sn(this,e,a)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?wn(t,n,e,this.__hash):0===this.size?En():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(Dt);function bn(e){return At(e)&&x(e)}function wn(e,t,n,r){var o=Object.create(_n.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function En(){return gn||(gn=wn(Vt(),hn()))}function Sn(e,t,n){var r,i,s=e._map,u=e._list,c=s.get(t),l=void 0!==c;if(n===a){if(!l)return e;u.size>=o&&u.size>=2*s.size?(r=(i=u.filter(function(e,t){return void 0!==e&&c!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=s.remove(t),i=c===u.size-1?u.pop():u.set(c,void 0))}else if(l){if(n===u.get(c)[1])return e;r=s,i=u.set(c,[t,n])}else r=s.set(t,u.size),i=u.set(u.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):wn(r,i)}_n.isOrderedMap=bn,_n.prototype[M]=!0,_n.prototype.delete=_n.prototype.remove;var Pn=function(e){function t(e){return null===e||void 0===e?In():xn(e)?e:In().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=d(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):On(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&xn(t))return t;Xe(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):On(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},t.prototype.slice=function(t,n){if(m(t,n,this.size))return this;var r=y(t,this.size);if(v(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):On(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?On(this.size,this._head,e,this.__hash):0===this.size?In():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new re(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,o=this._head;o&&!1!==e(o.value,r++,n);)o=o.next;return r},t.prototype.__iterator=function(e,t){if(t)return new re(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new K(function(){if(r){var t=r.value;return r=r.next,W(e,n++,t)}return{value:void 0,done:!0}})},t}(j);function xn(e){return!(!e||!e[Cn])}Pn.isStack=xn;var Tn,Cn="@@__IMMUTABLE_STACK__@@",kn=Pn.prototype;function On(e,t,n,r){var o=Object.create(kn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function In(){return Tn||(Tn=On(0))}function Mn(e,t){if(e===t)return!0;if(!w(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||E(e)!==E(t)||S(e)!==S(t)||x(e)!==x(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!P(e);if(x(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&de(o[1],e)&&(n||de(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var s=!0,u=t.__iterate(function(t,r){if(n?!e.has(t):o?!de(t,e.get(r,a)):!de(e.get(r,a),t))return s=!1,!1});return s&&e.size===u}function Dn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function An(e){return et(e)?J(e).map(An).toJSON():e}kn[Cn]=!0,kn.shift=kn.pop,kn.unshift=kn.push,kn.unshiftAll=kn.pushAll,kn.withMutations=kt,kn.wasAltered=Mt,kn.asImmutable=It,kn["@@transducer/init"]=kn.asMutable=Ot,kn["@@transducer/step"]=function(e,t){return e.unshift(t)},kn["@@transducer/result"]=function(e){return e.asImmutable()};var Rn=function(e){function t(t){return null===t||void 0===t?qn():jn(t)&&!x(t)?t:qn().withMutations(function(n){var r=e(t);Xe(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(R(e).keySeq())},t.intersect=function(e){return(e=A(e).toArray()).length?Fn.intersect.apply(t(e.pop()),e):qn()},t.union=function(e){return(e=A(e).toArray()).length?Fn.union.apply(t(e.pop()),e):qn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Un(this,this._map.set(e,e))},t.prototype.remove=function(e){return Un(this,this._map.remove(e))},t.prototype.clear=function(){return Un(this,this._map.clear())},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return ir(Ue(this,e))},t.prototype.sortBy=function(e,t){return ir(Ue(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(N);function jn(e){return!(!e||!e[zn])}Rn.isSet=jn;var Nn,zn="@@__IMMUTABLE_SET__@@",Fn=Rn.prototype;function Un(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ln(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function qn(){return Nn||(Nn=Ln(Vt()))}Fn[zn]=!0,Fn.delete=Fn.remove,Fn.merge=Fn.concat=Fn.union,Fn.withMutations=kt,Fn.asImmutable=It,Fn["@@transducer/init"]=Fn.asMutable=Ot,Fn["@@transducer/step"]=function(e,t){return e.add(t)},Fn["@@transducer/result"]=function(e){return e.asImmutable()},Fn.__empty=qn,Fn.__make=Ln;var Bn,Kn=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(Qe(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Bn)return Bn;Bn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return m(e,n,this.size)?this:(e=y(e,this.size),(n=v(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==e(o,t?n-++i:i++,this);)o+=t?-r:r;return i},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;return new K(function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=t?-r:r,W(e,t?n-++i:i++,a)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Mn(this,e)},t}(ee);function Wn(e,t,n){for(var r=Je(t),o=0;o!==r.length;)if((e=rt(e,r[o++],a))===a)return n;return e}function Hn(e,t){return Wn(this,e,t)}function Vn(e,t){return Wn(e,t,a)!==a}function Gn(){Xe(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}A.isIterable=w,A.isKeyed=E,A.isIndexed=S,A.isAssociative=P,A.isOrdered=x,A.Iterator=K,Dn(A,{toArray:function(){Xe(this.size);var e=new Array(this.size||0),t=E(this),n=0;return this.__iterate(function(r,o){e[n++]=t?[o,r]:r}),e},toIndexedSeq:function(){return new Oe(this)},toJS:function(){return An(this)},toKeyedSeq:function(){return new ke(this,!0)},toMap:function(){return Dt(this.toKeyedSeq())},toObject:Gn,toOrderedMap:function(){return _n(this.toKeyedSeq())},toOrderedSet:function(){return ir(E(this)?this.valueSeq():this)},toSet:function(){return Rn(E(this)?this.valueSeq():this)},toSetSeq:function(){return new Ie(this)},toSeq:function(){return S(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Pn(E(this)?this.valueSeq():this)},toList:function(){return nn(E(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ke(this,function(e,t){var n=E(e),r=[e].concat(t).map(function(e){return w(e)?n&&(e=R(e)):e=n?le(e):fe(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&E(o)||S(e)&&S(o))return o}var i=new re(r);return n?i=i.toKeyedSeq():S(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),i}(this,e))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(U)},every:function(e,t){Xe(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return Ke(this,je(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Xe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Xe(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(z)},map:function(e,t){return Ke(this,Ae(this,e,t))},reduce:function(e,t,n){return Xn(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Xn(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Ke(this,Re(this,!0))},slice:function(e,t){return Ke(this,Ne(this,e,t,!0))},some:function(e,t){return!this.every(er(e),t)},sort:function(e){return Ke(this,Ue(this,e))},values:function(){return this.__iterator(F)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Dt().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return Mn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new re(e._cache);var t=e.toSeq().map(Zn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(er(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(p)},flatMap:function(e,t){return Ke(this,function(e,t,n){var r=He(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Ke(this,Fe(this,e,!0))},fromEntrySeq:function(){return new Me(this)},get:function(e,t){return this.find(function(t,n){return de(n,e)},void 0,t)},getIn:Hn,groupBy:function(e,t){return function(e,t,n){var r=E(e),o=(x(e)?_n():Dt()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=He(e);return o.map(function(t){return Ke(e,i(t))})}(this,e,t)},has:function(e){return this.get(e,a)!==a},hasIn:function(e){return Vn(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:A(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:A(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},keySeq:function(){return this.toSeq().map(Jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Le(this,e)},maxBy:function(e,t){return Le(this,t,e)},min:function(e){return Le(this,e?tr(e):rr)},minBy:function(e,t){return Le(this,t?tr(t):rr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Ke(this,ze(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(er(e),t)},sortBy:function(e,t){return Ke(this,Ue(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Ke(this,function(e,t,n){var r=Ve(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(U,o),s=!0;return new K(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?r===U?e:W(r,u,c,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(er(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=x(e),n=E(e),r=t?1:0;return function(e,t){return t=pe(t,3432918353),t=pe(t<<15|t>>>-15,461845907),t=pe(t<<13|t>>>-13,5),t=pe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=me((t=pe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+or(ye(e),ye(t))|0}:function(e,t){r=r+or(ye(e),ye(t))|0}:t?function(e){r=31*r+ye(e)|0}:function(e){r=r+ye(e)|0}),r)}(this))}});var $n=A.prototype;$n[k]=!0,$n[B]=$n.values,$n.toJSON=$n.toArray,$n.__toStringMapper=tt,$n.inspect=$n.toSource=function(){return this.toString()},$n.chain=$n.flatMap,$n.contains=$n.includes,Dn(R,{flip:function(){return Ke(this,De(this))},mapEntries:function(e,t){var n=this,r=0;return Ke(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ke(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Yn=R.prototype;Yn[O]=!0,Yn[B]=$n.entries,Yn.toJSON=Gn,Yn.__toStringMapper=function(e,t){return tt(t)+": "+tt(e)},Dn(j,{toKeyedSeq:function(){return new ke(this,!1)},filter:function(e,t){return Ke(this,je(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ke(this,Re(this,!1))},slice:function(e,t){return Ke(this,Ne(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=y(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ke(this,1===n?r:r.concat(Ye(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Ke(this,Fe(this,e,!1))},get:function(e,t){return(e=d(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=d(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ke(this,function(e,t){var n=Ve(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(F,r),a=0;return new K(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?W(n,a++,t):W(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(Ye(arguments)),t=Be(this.toSeq(),ee.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ke(this,n)},keySeq:function(){return Kn(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ke(this,ze(this,e,t,!1))},zip:function(){return Ke(this,Be(this,nr,[this].concat(Ye(arguments))))},zipAll:function(){return Ke(this,Be(this,nr,[this].concat(Ye(arguments)),!0))},zipWith:function(e){var t=Ye(arguments);return t[0]=this,Ke(this,Be(this,e,t))}});var Qn=j.prototype;function Xn(e,t,n,r,o,i){return Xe(e.size),e.__iterate(function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)},i),n}function Jn(e,t){return t}function Zn(e,t){return[t,e]}function er(e){return function(){return!e.apply(this,arguments)}}function tr(e){return function(){return-e.apply(this,arguments)}}function nr(){return Ye(arguments)}function rr(e,t){return e<t?1:e>t?-1:0}function or(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Qn[I]=!0,Qn[M]=!0,Dn(N,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),N.prototype.has=$n.includes,N.prototype.contains=N.prototype.includes,Dn(Z,R.prototype),Dn(ee,j.prototype),Dn(te,N.prototype);var ir=function(e){function t(e){return null===e||void 0===e?lr():ar(e)?e:lr().withMutations(function(t){var n=N(e);Xe(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(R(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Rn);function ar(e){return jn(e)&&x(e)}ir.isOrderedSet=ar;var sr,ur=ir.prototype;function cr(e,t){var n=Object.create(ur);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function lr(){return sr||(sr=cr(En()))}ur[M]=!0,ur.zip=Qn.zip,ur.zipWith=Qn.zipWith,ur.__empty=lr,ur.__make=cr;var fr=function(e,t){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(e),u=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var c=0;c<s.length;c++){var l=s[c];u[l]=c,o[l]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+pr(a)+' with property "'+l+'" since that property name is part of the Record API.'):yr(o,l)}}this.__ownerID=void 0,this._values=nn().withMutations(function(e){e.setSize(a._keys.length),R(i).forEach(function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)})})},o=r.prototype=Object.create(hr);return o.constructor=r,r};fr.prototype.toString=function(){for(var e,t=pr(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)e=n[r],t+=(r?", ":"")+e+": "+tt(this.get(e));return t+" }"},fr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&mr(this).equals(mr(e))},fr.prototype.hashCode=function(){return mr(this).hashCode()},fr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},fr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},fr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return dr(this,n)}return this},fr.prototype.remove=function(e){return this.set(e)},fr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:dr(this,e)},fr.prototype.wasAltered=function(){return this._values.wasAltered()},fr.prototype.toSeq=function(){return mr(this)},fr.prototype.toJS=function(){return An(this)},fr.prototype.entries=function(){return this.__iterator(U)},fr.prototype.__iterator=function(e,t){return mr(this).__iterator(e,t)},fr.prototype.__iterate=function(e,t){return mr(this).__iterate(e,t)},fr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?dr(this,t,e):(this.__ownerID=e,this._values=t,this)},fr.isRecord=T,fr.getDescriptiveName=pr;var hr=fr.prototype;function dr(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function pr(e){return e._name||e.constructor.name||"Record"}function mr(e){return le(e._keys.map(function(t){return[t,e.get(t)]}))}function yr(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Qe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}hr[D]=!0,hr.delete=hr.remove,hr.deleteIn=hr.removeIn=ft,hr.getIn=Hn,hr.hasIn=$n.hasIn,hr.merge=mt,hr.mergeWith=yt,hr.mergeIn=Tt,hr.mergeDeep=Pt,hr.mergeDeepWith=xt,hr.mergeDeepIn=Ct,hr.setIn=ct,hr.update=dt,hr.updateIn=pt,hr.withMutations=kt,hr.asMutable=Ot,hr.asImmutable=It,hr[B]=hr.entries,hr.toJSON=hr.toObject=$n.toObject,hr.inspect=hr.toSource=function(){return this.toString()};var vr,gr=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(vr)return vr;vr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return de(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return m(e,n,r)?this:new t(this._value,v(n,r)-y(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return de(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,o=0;return new K(function(){return o===r?{value:void 0,done:!0}:W(e,t?r-++o:o++,n._value)})},t.prototype.equals=function(e){return e instanceof t?de(this._value,e._value):Mn(e)},t}(ee);function _r(e,t){return function e(t,n,r,o,i,a){var s=Array.isArray(r)?ee:Ze(r)?Z:null;if(s){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&""!==o&&i.push(o);var u=n.call(a,o,s(r).map(function(o,a){return e(t,n,o,a,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),u}return r}([],t||br,e,"",t&&t.length>2?[]:void 0,{"":e})}function br(e,t){return E(t)?t.toMap():t.toList()}var wr="4.0.0-rc.9",Er={version:wr,Collection:A,Iterable:A,Seq:J,Map:Dt,OrderedMap:_n,List:nn,Stack:Pn,Set:Rn,OrderedSet:ir,Record:fr,Range:Kn,Repeat:gr,is:de,fromJS:_r,hash:ye,isImmutable:b,isCollection:w,isKeyed:E,isIndexed:S,isAssociative:P,isOrdered:x,isValueObject:C,get:rt,getIn:Wn,has:nt,hasIn:Vn,merge:gt,mergeDeep:bt,mergeWith:_t,mergeDeepWith:wt,remove:it,removeIn:lt,set:at,setIn:ut,update:ht,updateIn:st},Sr=A;t.default=Er},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Switch="ClosableActionType_Switch",e.Close="ClosableActionType_Close"}(r=t.ClosableActionType||(t.ClosableActionType={})),function(e){e[e.Fleet=0]="Fleet",e[e.ImportExport=1]="ImportExport",e[e.Planet=2]="Planet",e[e.Route=3]="Route",e[e.Selector=4]="Selector",e[e.Tutorial=5]="Tutorial"}(t.ClosablePanelType||(t.ClosablePanelType={})),t.addClosable=((e,t)=>({type:r.Switch,panelType:e,args:t})),t.close=(()=>({type:r.Close}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),o=n(25),i=n(62);n.d(t,"Provider",function(){return r.b}),n.d(t,"createProvider",function(){return r.a}),n.d(t,"connectAdvanced",function(){return o.a}),n.d(t,"connect",function(){return i.a})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(19)),r(n(86)),r(n(31)),r(n(20)),r(n(32)),r(n(87)),r(n(30)),r(n(88)),r(n(89)),r(n(33)),r(n(90)),r(n(91)),r(n(92)),r(n(1)),r(n(35)),r(n(93)),r(n(36)),r(n(94)),r(n(95)),r(n(96)),r(n(37)),r(n(97)),r(n(98)),r(n(99)),r(n(100)),r(n(34))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(5);t.default=o.connect(void 0,e=>({closeWindow:()=>e(i.close())}))(e=>r.createElement("div",{className:"titlebar"},e.title,r.createElement("span",null,r.createElement("i",{className:"material-icons",title:"Close this window",onClick:e.closeWindow},"close"))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(e=>r.createElement("div",{className:"panel"},e.children))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(e=>r.createElement("div",{className:"panel-content"},e.children))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(2);t.BASIC_GOODS=[o.Product.Food,o.Product.Drink,o.Product.Apparel,o.Product.Medicine].map(e=>o.Product[e]).join(", "),t.LUXURY_GOODS=[o.Product.Accessory,o.Product.Furniture,o.Product.Gadget,o.Product.Vehicle].map(e=>o.Product[e]).join(", "),t.RAW_MATERIALS=o.RAW_MATERIALS.map(e=>o.Product[e]).join(", "),t.SECONDARY_MATERIALS=r.Set(o.allProducts()).subtract(o.RAW_MATERIALS).map(e=>o.Product[e]).join(", ")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=10,i=10,a=.1,s=.8,u=.03,c=.3-u;console.assert(c>0);const l=10,f=4,h=4;class d{constructor(e,t,n,r=1,o=a){this.id=e,this.productType=t,this.colony=n,this.scale=r,this.operationalEff=o,this.serialize=(()=>({colonyId:this.colony.id,id:this.id,operationalEff:this.operationalEff,productType:this.productType,scale:this.scale}))}static getDemandProducts(e){return r.DEMAND_PRODUCTS[e]}static getFlatDemandProducts(e){return r.FLAT_DEMAND_PRODUCTS[e]}upgrade(){++this.scale,this.operationalEff=Math.max(a,s*this.operationalEff)}downSize(){this.scale=Math.max(1,this.scale-1),this.operationalEff=Math.max(a,s*this.operationalEff)}getScale(){return this.scale}operate(e){const t=this.isRunProd(e),n=this.colony.getPlayerInventory();let r=0;t&&(r=this.produce(e,n)),r=Math.max(1,r);const o=this.getCostPerUnit()*r,i=this.usedEnergy(e)+this.colony.getEnergyPrice(e);e.withdraw(o+i),this.updateModifers(t,n)}getCostPerUnit(){const e=1-this.operationalEff;return console.assert(e>=0&&e<=1),u+c*e}usedEnergy(e){return this.getPowerUsage()*this.colony.getPowerUsageEff(e)}getOpDemand(){const e=i*this.scale;switch(this.productType){case r.Product.Crop:case r.Product.Metal:case r.Product.Gem:case r.Product.Fuel:return{neededKinds:new Set([r.Product.Tool]),qty:e};default:return{neededKinds:new Set([r.Product.Machine]),qty:e}}}prodCap(e){const t=1+this.operationalEff*f,n=1+this.colony.getPowerUsageEff(e)*h;return Math.max(1,Math.ceil(this.scale*o*t*n))}getOperationalEff(){return this.operationalEff}getPowerUsage(){return this.getScale()*l}isRunProd(e){const t=this.productType,n=10*e.getGalacticDemands(t),r=this.colony.getSupply(t);return n>this.colony.getPlayerInventory().getQty(this.productType)+r}updateModifers(e,t){const n=this.getOpDemand(),r=t.consume(n.neededKinds,n.qty)/n.qty;if(!e||r<.5)this.operationalEff=Math.max(a,this.operationalEff-.001);else{const e=(r-.5)/.5;this.operationalEff=Math.min(1,this.operationalEff+.01*e)}}produce(e,t){const n=d.getFlatDemandProducts(this.productType),r=this.prodCap(e);if(0===n.size)return t.putGoods(this.productType,r),r;const o=Math.min(r,...n.map(e=>t.getQty(e)));for(const i of d.getDemandProducts(this.productType)){const e=t.consume(i,o);console.assert(e===o)}return t.putGoods(this.productType,o),o}}t.Industry=d},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";t.a=function(e){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"createStore",function(){return u}),n.d(t,"combineReducers",function(){return l}),n.d(t,"bindActionCreators",function(){return h}),n.d(t,"applyMiddleware",function(){return p}),n.d(t,"compose",function(){return d}),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return o});var r=n(65),o={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){if("object"!==("undefined"===typeof e?"undefined":i(e))||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,n){var a;if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(u)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function y(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=h.indexOf(e);h.splice(n,1)}}}function v(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=c(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:o.INIT}),(a={dispatch:v,subscribe:y,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,v({type:o.REPLACE})}})[r.a]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!==("undefined"===typeof e?"undefined":i(e))||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},a}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a=Object.keys(n);var s=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,o={},i=0;i<a.length;i++){var u=a[i],l=n[u],f=e[u],h=l(f,t);if("undefined"===typeof h){var d=c(u,t);throw new Error(d)}o[u]=h,r=r||h!==f}return r?o:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"===typeof e)return f(e,t);if("object"!==("undefined"===typeof e?"undefined":i(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":"undefined"===typeof e?"undefined":i(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],s=e[a];"function"===typeof s&&(r[a]=f(s,t))}return r}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=e.apply(void 0,r),s=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},u={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},c=t.map(function(e){return e(u)});return s=d.apply(void 0,c)(i.dispatch),a({},i,{dispatch:s})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);class o extends r.MyIterable{constructor(e){super(),this.cmp=e,this.arr=[],this.size=(()=>this.arr.length),this.isEmpty=(()=>0===this.size()),this.pop=(()=>{const e=a(this.arr,this.arr.length,this.cmp),t=this.arr.pop();return console.assert(e===t),e}),this.peek=(()=>this.isEmpty()?void 0:this.arr[0]),this.reverseSort=(()=>{const e=this.arr;this.arr=[];for(let t=e.length;t>0;t--)a(e,t,this.cmp);return e}),this.sortInPlace=(()=>{const e=this.reverseSort();let t=0,n=e.length-1;for(;t<n;)i(e,t,n),++t,--n;return e}),this.sort=(()=>{const e=this.sortHelper();return r.toIt(e)}),this.add=(e=>{const t=this.arr.length;this.arr.push(e),function(e,t,n){console.assert(t===e.length-1);let r=t;for(;r>0;){const t=(o=r,Math.floor((o+1)/2)-1);n(e[r],e[t])<0&&i(e,r,t),r=t}var o}(this.arr,t,this.cmp)}),this.iterate=(()=>this.sortHelper()),this.sortHelper=(()=>(function*(e,t){const n=e;let r=a(n,n.length,t);for(;void 0!==r;)yield n.pop(),r=a(n,n.length,t)})(this.arr.slice(),this.cmp))}static heapify(e,...t){return o.inPlaceWrap(e,t)}static inPlaceWrap(e,t){return o.unsafeWrap(function(e,t){for(let n=Math.floor((e.length-1)/2);n>=0;n--)s(e,n,e.length,t);return e}(t,e),e)}static unsafeWrap(e,t){const n=new o(t);return n.arr=e,n}}function i(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function a(e,t,n){const r=t-1;if(0===t)return;if(1===t)return e[r];const o=e[0];return i(e,0,r),s(e,0,r,n),o}function s(e,t,n,r){const o=e[t];let a=t;for(;;){let t=2*a+1;if(t>=n)break;const s=e[t],u=t+1;if(u<n&&r(e[u],s)<0&&(t=u),r(o,e[t])<0)break;i(e,a,t),a=t}}t.MinHeap=o},function(e,t,n){"use strict";function r(e,t,n,r,o,i){for(;o<=i;){const a=Math.floor((o+i)/2),s=r(n(e[a]),t);if(s<0)o=a+1;else{if(!(s>0))return[!0,a,o,i];i=a-1}}return[!1,o,o,i]}function o(e,t,n,o,i,a){let s=i,u=a;for(;;){const i=s-1,[a,c,l]=r(e,t,n,o,u,i);if(!a)return s;console.assert(c<=i),s=c,u=l}}function i(e,t,n,o,i,a){let s=i,u=a;for(;;){const i=s+1,[a,c,,l]=r(e,t,n,o,i,u);if(!a)return s;console.assert(c>=i),s=c,u=l}}function a(e,t,n,i){{const[a,s,u]=r(e,t,n,i,0,e.length-1);return a?o(e,t,n,i,s,u):s}}function s(e,t,n,o){{const[a,s,,u]=r(e,t,n,o,0,e.length-1);return a?i(e,t,n,o,s,u):s}}function u(e,t,n,a){{const[s,u,c,l]=r(e,t,n,a,0,e.length-1);if(!s)return;return[o(e,t,n,a,u,c),i(e,t,n,a,u,l)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.lowerBound=a,t.upperBound=s,t.binarySearch=u,t.binarySearchExist=function(e,t,n,o){const[i]=r(e,t,n,o,0,e.length-1);return i},t.binaryInsert=function(e,t,n,r){const o=a(e,n(t),n,r),i=e.splice(o,0,t);return console.assert(0===i.length),e},t.binaryDelete=function(e,t,n,r){const o=u(e,t,n,r);if(void 0!==o){const[t,n]=o,r=n-t+1;e.splice(t,r)}return e},t.range=function(e,t,n,r,o){if(0===e.length)return;let i,c;const l=o(t,n);if(l<0)i=t,c=n;else{if(!(l>0))return u(e,t,r,o);i=n,c=t}const f=a(e,i,r,o),h=s(e,c,r,o);return console.assert(f<=h),[f,h]}},function(e,t,n){"use strict";var r=n(43);function o(){}var i=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&d(e,this)}function u(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){r(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return i=e,a}}(n,e._18);r===a?l(t.promise,i):c(t.promise,r)}else 1===e._83?c(t.promise,e._18):l(t.promise,e._18)})}(e,t)}function c(e,t){if(t===e)return l(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(e){return i=e,a}}(t);if(n===a)return l(e,i);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void f(e);if("function"===typeof n)return void d(n.bind(t),e)}e._83=1,e._18=t,f(e)}function l(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),f(e)}function f(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function d(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return i=e,a}}(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,l(t,e))});n||r!==a||(n=!0,l(t,i))}e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(r,i){var a=new s(o);a.then(r,i),u(e,new h(t,n,a))})}(this,e,t);var n=new s(o);return u(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){e.exports=n(57)()},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n(23),o=n.n(r),i=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),a=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired})},function(e,t,n){"use strict";t.a=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.getDisplayName,p=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,m=r.methodName,y=void 0===m?"connectAdvanced":m,v=r.renderCountProp,g=void 0===v?void 0:v,_=r.shouldHandleStateChanges,b=void 0===_||_,w=r.storeKey,E=void 0===w?"store":w,S=r.withRef,P=void 0!==S&&S,x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),T=E+"Subscription",C=f++,k=((t={})[E]=c.a,t[T]=c.b,t),O=((n={})[T]=c.b,n);return function(t){a()("function"==typeof t,"You must pass a component to the function returned by "+y+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=p(n),i=l({},x,{getDisplayName:p,methodName:y,renderCountProp:g,shouldHandleStateChanges:b,storeKey:E,withRef:P,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,n.call(this,e,t));return i.version=C,i.state={},i.renderCount=0,i.store=e[E]||t[E],i.propsMode=Boolean(e[E]),i.setWrappedInstance=i.setWrappedInstance.bind(i),a()(i.store,'Could not find "'+E+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),o.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[T]=t||this.context[T],e},o.prototype.componentDidMount=function(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=d,this.store=null,this.selector.run=d,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return a()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+y+"() call."),this.wrappedInstance},o.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},o.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(b){var e=(this.propsMode?this.props:this.context)[T];this.subscription=new u.a(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(h)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.prototype.addExtraProps=function(e){if(!P&&!g&&(!this.propsMode||!this.subscription))return e;var t=l({},e);return P&&(t.ref=this.setWrappedInstance),g&&(t[g]=this.renderCount++),this.propsMode&&this.subscription&&(t[T]=this.subscription),t},o.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(s.createElement)(t,this.addExtraProps(e.props))},o}(s.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=O,c.contextTypes=k,c.propTypes=k,o()(c,t)}};var r=n(59),o=n.n(r),i=n(60),a=n.n(i),s=n(0),u=(n.n(s),n(61)),c=n(24),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var f=0,h={};function d(){}},function(e,t,n){"use strict";t.a=function(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}},t.b=function(e,t){return function(t,n){n.displayName;var o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,n){o.mapToProps=e,o.dependsOnOwnProps=r(e);var i=o(t,n);return"function"===typeof i&&(o.mapToProps=i,o.dependsOnOwnProps=r(i),i=o(t,n)),i},o}};n(27);function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,n){"use strict";n(68),n(17)},function(e,t,n){"use strict";var r=n(70).a.Symbol;t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8),i=n(3),a=n(101),s=n(102),u=n(13),c=n(103),l=n(104),f=n(2),h=50,d=1e6;function p(e){return new Map(r.Seq(e).map(e=>[e.id,e]))}t.colonyCmp=((e,t)=>e.id-t.id);class m{constructor(){this.coorIndices=new o.Trie,this.tradeRoutes=new Map,this.galacticDemands=new Map,this.galacticSupplies=new Map,this.galacticProdCap=new Map,this.downstreamConsumers=new o.SortedTrie(t.colonyCmp),this.consumers=f.allProducts().map(()=>new Set),this.fleetFuelEff=new o.SortedTrie(t.colonyCmp),this.colonies=[],this.locatableCoors=new Map,this.colonyIndustries=new Map,this.tradeFleets=new o.SortedTrie(t.colonyCmp),this.genId=-1,this.turnCounter=-1,this.timestamp=1,this.money=d,this.numColonists=5,this.numTraders=10}static createFrom(e){const t=new m;t.genId=e.genId,t.turnCounter=e.turnCounter,t.timestamp=e.timestamp,t.money=e.money,t.numColonists=e.numColonists,t.numTraders=e.numTraders;const n=p(e.locatables),o=p(r.Seq(e.allInventories).map(e=>new c.Inventory(e.id,null===e.maxStorage?1/0:e.maxStorage,e.inventory))),i=p(r.Seq(e.allPlanets).map(e=>new l.Planet(e.id,e.resource)));for(const r of i.values()){const e=n.get(r.id);console.assert(void 0!==e),t.addObj(r,e.coor)}const f=p(e.allColonies.map(e=>{const t=o.get(e.playerInventoryId);console.assert(void 0!==t);const n=o.get(e.marketInventoryId);console.assert(void 0!==t);const r=i.get(e.homePlanetId);return console.assert(void 0!==r),new a.Colony(e.id,r,e.population,t,n,e.maxPopulation,e.isLockPopulation,e.powerPlanetLevel,e.powerOutputEff,e.foodHappiness,e.luxuryHappiness,e.commonHappiness)}));return f.forEach(e=>{t.colonizePlanetHelper(e,!1)}),t.calTradeRoutes(),e.allIndustries.map(e=>{const t=f.get(e.colonyId);return new u.Industry(e.id,e.productType,t,e.scale,e.operationalEff)}).forEach(e=>t.addIndustryHelper(e)),e.allFleets.forEach(e=>{const r=o.get(e.cargoId);console.assert(void 0!==r);const i=e.route.map(e=>{const t=f.get(e);return console.assert(void 0!==t),t}),a=new s.Fleet(e.id,r,i,e.routeAt,e.state,e.isRetiring);t.addObj(a,n.get(a.id).coor),t.addTradeFleetHelper(a)}),t.calRouteFuelEff(),t.calGalacticMarketStats(),t}serialize(){return{allColonies:this.colonies.map(e=>e.serialize()),allFleets:o.combine(...this.tradeFleets.values()).map(e=>e.serialize()).collect(),allIndustries:o.combine(...this.colonyIndustries.values()).map(e=>e.serialize()).collect(),allInventories:this.colonies.reduce((e,t)=>(e.push(t.getPlayerInventory()),e.push(t.getMarketInventory()),e),[]).concat(...o.combine(...this.tradeFleets.values()).map(e=>e.getCargo())).map(e=>e.serialize()),allPlanets:r.Seq(this.locatableCoors.keys()).filter(e=>e.kind===i.MapDataKind.Planet).map(e=>e.serialize()).toArray(),genId:this.genId,locatables:r.Seq(this.locatableCoors).map(([e,t])=>({id:e.id,kind:e.kind,coor:t})).toArray(),money:this.money,numColonists:this.numColonists,numTraders:this.numTraders,timestamp:this.timestamp,turnCounter:this.turnCounter}}deposit(e){this.money+=e}withdraw(e){this.money-=e}addPlanets(e,t){const n=f.RAW_MATERIALS,r=n.length,i=e/2,a=()=>{const n=new o.Trie;e:for(;n.size()<e;){const e=this.randomCoor(i);for(const r of n.keys())if(o.distance(e,r)<t)continue e;n.set(e,!0)}return n.keys()};let s=0;for(const o of a()){const e=new l.Planet(this.nextId(),n[s%r]);this.addObj(e,o),++s}this.calTradeRoutes()}addTradeFleet(e,t){console.assert(this.numTraders>=1),this.numTraders--;const n=new s.Fleet(this.nextId(),this.createInventory(1e3),[e,t]);return this.addObj(n,this.getCoor(e)),this.addTradeFleetHelper(n),n}removeFleet(e){const t=e.getRoute();console.assert(2===t.length);const n=t[0],r=t[1],o=this.tradeFleets.get([n,r]);console.assert(void 0!==o);const i=o.delete(e);console.assert(i),this.removeObj(e),this.numTraders++}getNumUsedTraders(e,t){const n=this.tradeFleets.get([e,t]);return void 0!==n?n.size:0}numColonies(){return this.colonies.length}hasTradeRoute(e,t){const n=this.tradeRoutes.get(e);return n&&n.some(e=>e===t)}colonizePlanet(e,t){console.assert(this.numColonists>=1),this.numColonists-=1;const n=new a.Colony(this.nextId(),e,t,this.createInventory(),this.createInventory());return this.colonizePlanetHelper(n),n}getIndustries(e){return this.colonyIndustries.get(e)}addIndustry(e,t){console.assert(void 0!==t);const n=new u.Industry(this.nextId(),e,t);return this.addIndustryHelper(n),n}shutdownIndustry(e,t){const n=this.colonyIndustries.get(e);console.assert(void 0!==n);const o=r.Seq(n).filter(e=>e!==t).reduce((e,t)=>e.union(this.getDemandedProducts(t)),r.Set()),i=this.getDemandedProducts(t);for(const r of i.subtract(o)){const t=this.consumers[r].delete(e);console.assert(t)}{const e=n.delete(t);console.assert(e)}}getMoney(){return this.money}getNumColonists(){return this.numColonists}getNumUnusedTraders(){return this.numTraders}getNumColonizedPlanets(){return this.colonies.length}calCenter(){const[e,t,n,o]=r.Seq(this.locatableCoors).filter(([e])=>e.kind===i.MapDataKind.Planet).map(([,e])=>e).reduce(([e,t,n,r],[o,i])=>[Math.min(o,e),Math.min(i,t),Math.max(o,n),Math.max(i,r)],[0,0,0,0]);return[(e+n)/2,(t+o)/2]}addTrader(){this.numTraders+=1}addColonists(e){console.assert(e>=0),this.numColonists+=e/10}getRouteFuelEff(e,t){const n=this.fleetFuelEff.get([e,t]);return void 0!==n?n:0}getDay(){return this.timestamp%i.YEAR_PER_TICK}getYear(){return Math.ceil(this.timestamp/i.YEAR_PER_TICK)}getTimestamp(){return this.timestamp}getScore(){console.assert(0!==this.timestamp);const e=(this.money-d)/this.timestamp;return e<=0?0:Math.round(e)}turn(){const e=o.combine(...this.tradeFleets.values());for(const t of e)t.operate(this);if(this.turnCounter=(this.turnCounter+1)%h,0!==this.turnCounter)return!1;this.timestamp+=1,this.money<0&&(this.money*=1+i.ANNUAL_INTEREST/i.YEAR_PER_TICK),this.calRouteFuelEff(),this.calGalacticMarketStats();for(const t of this.colonies)t.recalculate(this);for(const t of this.colonyIndustries.values())for(const e of t)e.operate(this);for(const t of this.colonies)t.trade(this);return!0}getCoor(e){let t;if(e instanceof a.Colony){const n=e.getHomePlanet();t=this.locatableCoors.get(n)}else t=this.locatableCoors.get(e);return console.assert(void 0!==t),t}getObjs(){return this.locatableCoors}getObj(e,t){return this.searchNearbyObjs(e).filter(e=>e.kind===t).first()}searchNearbyObjs(e,t=0,n=0){const i=this.searchTradeRoutes(e,t);return(()=>{const[i,a]=e,s=[e,[i-t,a-t],[i+t,a-t],[i-t,a+t],[i+t,a+t]].map(e=>this.idxCoor(e)).sort(o.compare);return o.uniq(s,o.compare).map(e=>this.getIdx(e)).reduce((e,t)=>e.union(t),r.Set()).filter(r=>{const i=this.getCoor(r),a=o.distance(i,e);return a>=n&&a<=t})})().concat(i)}move(e,t,n){const r=n/h,i=(()=>{const n=this.locatableCoors.get(e);console.assert(void 0!==n);const i=o.distance(t,n);if(i<r)return{distTravelled:i,nowAt:t};{const e=o.subtract(t,n),i=o.norm(e),a=[e[0]/i*r,e[1]/i*r];return{distTravelled:i,nowAt:o.add(n,a)}}})();return this.updateObj(e,i.nowAt),i}getTradeRoutes(){return this.tradeRoutes}getGalacticDemands(e){return o.defaultZero(this.galacticDemands.get(e))}getGalacticSupplies(e){return o.defaultZero(this.galacticSupplies.get(e))}getGalacticProdCap(e){return o.defaultZero(this.galacticProdCap.get(e))}getDownstreamConsumers(e,t,n){console.assert(t!==n);const r=()=>new Map(f.allProducts().map(e=>[e,Array.from(this.consumers[e]).filter(e=>e!==t&&this.getNextTradeNode(t,e)===n)])),o=this.downstreamConsumers.getOrSet([t,n],()=>r()).get(e);return console.assert(void 0!==o),o}exists(e){return this.locatableCoors.has(e)}createInventory(e=1/0){return new c.Inventory(this.nextId(),e)}getNextTradeNode(e,t){console.assert(e!==t),console.assert(void 0!==this.tradeRoutePaths);const n=this.tradeRoutePaths.next(e,t);return console.assert(void 0!==n),n}calGalacticMarketStats(){this.galacticDemands.clear(),this.galacticProdCap.clear(),this.galacticSupplies.clear();for(const e of this.colonies)for(const t of f.allProducts()){const n=e.getDemand(t),r=o.defaultZero(this.galacticDemands.get(t));this.galacticDemands.set(t,r+n);const i=e.getSupply(t),a=o.defaultZero(this.galacticSupplies.get(t));this.galacticSupplies.set(t,a+i);const s=e.getProdCap(this,t),u=o.defaultZero(this.galacticProdCap.get(t));this.galacticProdCap.set(t,u+s)}}calTradeRoutes(){const e=(e,t)=>{const n=this.getCoor(e),r=this.getCoor(t);return o.distance(n,r)},t=new Set(this.colonies);this.tradeRoutes=o.kruskalMST(t,e=>{const n=new Set(t);return n.delete(e),n.values()},(t,n)=>e(t,n)),this.tradeRoutePaths=new o.FloydWarshall(this.tradeRoutes,(t,n)=>e(t,n)),this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addObj(e,t){this.locatableCoors.set(e,t),this.addToIdx(e,t)}updateObj(e,t){this.removeFromIdx(e),this.locatableCoors.set(e,t),this.addToIdx(e,t)}idxCoor([e,t]){return[Math.floor(e),Math.floor(t)]}removeFromIdx(e){const t=this.locatableCoors.get(e);console.assert(void 0!==t);const n=this.idxCoor(t),r=this.coorIndices.get(n);console.assert(void 0!==r,"existing object should be indexed");const o=r.delete(e);if(console.assert(o,"index does not have obj"),0===r.size){const e=this.coorIndices.delete(n);console.assert(e)}}removeObj(e){this.removeFromIdx(e);const t=this.locatableCoors.delete(e);console.assert(t)}addToIdx(e,t){const n=this.idxCoor(t),r=this.coorIndices.getOrSet(n,()=>new Set);console.assert(!r.has(e),"double-adding object to index"),r.add(e)}getIdx(e){const t=this.idxCoor(e),n=this.coorIndices.get(t);return n||new Set}randomCoor(e){return[Math.random()*e,Math.random()*e]}*searchTradeRoutes(e,n){const r=new o.SortedTrie(t.colonyCmp);for(const[t,a]of this.getTradeRoutes()){const s=this.getCoor(t.getHomePlanet());for(const u of a){const a=this.getCoor(u.getHomePlanet());if(!r.has([t,u]))switch(r.set([t,u],!0),o.testLineSegmentCircleIntersect(s,a,e,n)){case o.IntersectionKind.Intersection:case o.IntersectionKind.Tangent:yield{from:s,kind:i.MapDataKind.RouteSegment,to:a}}}}}getDemandedProducts(e){return u.Industry.getFlatDemandProducts(e.productType).union(e.getOpDemand().neededKinds)}calRouteFuelEff(){this.fleetFuelEff=this.fleetFuelEff.makeEmpty();for(const[e,t]of this.tradeRoutes)for(const n of t)this.fleetFuelEff.getOrSet([e,n],()=>{return(e.getPowerUsageEff(this)+n.getPowerUsageEff(this))/2})}nextId(){return++this.genId}colonizePlanetHelper(e,t=!0){const n=e.getHomePlanet();console.assert(void 0!==this.locatableCoors.get(n)),this.colonies.push(e),n.colonized(e);const r=[f.Product.Food,f.Product.Drink,f.Product.Apparel,f.Product.Medicine,f.Product.Accessory,f.Product.Furniture,f.Product.Gadget,f.Product.Vehicle,f.Product.Fuel];for(const o of r)this.consumers[o].add(e);t&&this.calTradeRoutes()}addIndustryHelper(e){const t=e.colony;{let n=this.colonyIndustries.get(t);void 0===n&&(n=new Set,this.colonyIndustries.set(t,n)),n.add(e)}t.getPlayerInventory().addDemandSrc(e);for(const n of this.getDemandedProducts(e))this.consumers[n].add(t);this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addTradeFleetHelper(e){console.assert(void 0!==this.locatableCoors.get(e));const[t,n]=e.getRoute();console.assert(void 0!==t),console.assert(void 0!==n),this.tradeFleets.getOrSet([t,n],()=>new Set).add(e)}}t.Galaxy=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),o=n(20);t.mergeK=function(e,t,...n){const i=n.filter(e=>e.length>0);switch(i.length){case 0:return[];case 1:return i[0].slice();case 2:const n=i[0],r=i[1];return 1===n.length?o.binaryInsert(r.slice(),n[0],e,t):1===r.length?o.binaryInsert(n.slice(),r[0],e,t):Array.from(function(e,t,n,r){console.assert(e.length>0&&t.length>0);let o=0,i=0;const a=[];for(;;){const s=e[o],u=t[i];if(r(n(s),n(u))<0?(a.push(s),++o):(a.push(u),++i),o===e.length)return i<t.length?a.concat(t.slice(i)):a;if(i===t.length)return o<e.length?a.concat(e.slice(o)):a}}(n,r,e,t))}const a=r.MinHeap.inPlaceWrap(([n,r],[o,i])=>t(e(n[r]),e(o[i])),i.map((e,t)=>[i[t],0])),s=[];for(;;){const[e,t]=a.pop();s.push(e[t]);const n=t+1;if(0===a.size())return n<e.length?s.concat(e.slice(n)):s;n<e.length&&a.add([e,n])}}},function(e,t,n){"use strict";function r(e,t){let n,r;return e>t?(n=t,r=e):(n=e,r=t),[n,r]}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){const[o,i]=r(t,n);return Math.min(i,Math.max(o,e))},t.defaultZero=function(e){return void 0===e?0:e},t.position=function(e,t,n){const[o,i]=r(t,n),a=e-o,s=i-o;return a<0?0:0===s?1:Math.min(1,a/s)}},function(e,t,n){"use strict";function r(e,t,n){const[r]=o(e,t,n);return r}function o(e,t,n){let r=0;for(;;){if(r===t.length)return r===n.length?[0,void 0]:[-1,r];if(r===n.length)return[1,r];const o=e(t[r],n[r]);if(0!==o)return[o,r];++r}}Object.defineProperty(t,"__esModule",{value:!0}),t.cmpList=r,t.listEqual=function(e,t,n){return 0===r(e,t,n)},t.listDiff=function(e,t,n){const[,r]=o(e,t,n);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);function*o(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,o]=n.pop();if(!r.has(e)){yield[e,o],r.add(e);const i=o+1;for(const r of t(e))n.push([r,i])}}}t.dfsPreOrder=function(e,t){return r.toIt(o(e,t))},t.dfsPreOrderHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);class o extends r.MyIterable{constructor(){super(...arguments),this.toId=new Map,this.parents=new Map,this.id=0,this.size=(()=>this.toId.size),this.union=((...e)=>{if(e.length>0){const t=e[0];for(let n=1;n<e.length;n++){const r=e[n];this.union2(t,r)}}return this}),this.isSameSet=((e,t)=>{if(console.assert(void 0!==e),console.assert(void 0!==t),e===t)return!0;const n=this.find(e);if(void 0===n)return!1;const r=this.find(t);if(void 0===r)return!1;const[o]=n,[i]=r;return o===i}),this.tear=((...e)=>{for(const t of e)this.toId.delete(t)&&(this.memoizedSets=void 0,this.add(t));return this.recycle(),this}),this.delete=(e=>{const t=this.toId.delete(e);return t&&(this.memoizedSets=void 0),this.recycle(),t}),this.clone=(()=>{const e=new o;return e.toId=new Map(this.toId),e.parents=new Map(this.parents),e.id=this.id,e}),this.deleteSets=((...e)=>{let t=!1;for(const n of e)for(const e of this.get(n)){const n=this.toId.get(e);this.parents.delete(n),this.toId.delete(e),t=!0}t&&(this.memoizedSets=void 0),this.recycle()}),this.has=(e=>void 0!==this.find(e)),this.iterate=(()=>(void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate()),this.memoizedSets.values())),this.aggregate=(()=>{const e=new Map;for(const[t,n]of this.toId){const[r]=this.findInner(n),o=e.get(r);void 0===o?e.set(r,new Set([t])):o.add(t)}return e}),this.findMut=(e=>{const t=this.toId.get(e);return void 0===t?this.add(e):this.findInner(t)}),this.union2=((e,t)=>{console.assert(void 0!==e),console.assert(void 0!==t),this.memoizedSets=void 0;const[n,r]=this.findMut(e),[o,i]=this.findMut(t);return n===o?this:(r<i?this.parents.set(n,[o,r]):r>i?this.parents.set(o,[n,i]):this.parents.set(n,[o,i+1]),this.recycle(),this)}),this.structureSize=(()=>this.parents.size),this.garbageRatio=(()=>0===this.size()?0:this.structureSize()/this.size()),this.recycle=(()=>{if(this.garbageRatio()<2)return;this.memoizedSets=void 0;const e=new o;for(const t of this){const n=t.values().next().value;console.assert(void 0!==n);for(const r of t)e.union(n,r)}this.toId=e.toId,this.parents=e.parents,this.id=e.id}),this.add=(e=>{console.assert(void 0===this.toId.get(e)),this.memoizedSets=void 0;const t=++this.id;this.toId.set(e,t);const n=[t,0];return this.parents.set(t,n),n}),this.find=(e=>{const t=this.toId.get(e);if(void 0!==t)return this.findInner(t)}),this.findInner=(e=>{const t=[];let n=e;for(;;){const[e,r]=this.parents.get(n);if(n===e){for(const n of t)this.parents.set(n,[e,r]);return[e,r]}t.push(n),n=e}})}get(e){return r.toIt(this.getHelper(e))}*getHelper(e){const t=this.find(e);if(void 0===t)return;const[n]=t;void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate());const r=this.memoizedSets.get(n);if(void 0!==r)for(const o of r)yield o}}t.UnionFind=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.fullOuterJoin=function(e,...t){return r.combine(...t.map(e=>e.keys())).reduce((n,r)=>{const o=e(...t.map(e=>e.get(r)).filter(e=>void 0!==e));return n.set(r,o)},new Map)},t.leftJoin=function(e,t,...n){const o=new Map;for(const i of t.keys()){const t=r.toIt(n).map(e=>e.get(i)).filter(e=>void 0!==e).collect();o.set(i,e(...t))}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(33),o=n(1);function*i(e){const t=r.dfsPreOrder(e,e=>e.next.values()),n=[];let o=0;for(const[r,i]of t){const e=o-i;for(let t=0;t<e;t++)n.pop(),o--;void 0!==r.keyChar?n.push(r.keyChar):console.assert(0===i),++o,void 0!==r.val&&(yield[n.slice(),r.val])}}t.Trie=class extends o.MyIterable{constructor(...e){super(),this.root={next:new Map},this.trieSize=0,this.size=(()=>this.trieSize),this.get=(e=>{const t=this.traverse(e);return void 0===t?void 0:t.val}),this.has=(e=>void 0!==this.get(e)),this.delete=(e=>{const t=[],n=this.traverse(e,(e,n)=>t.push([e,n]));if(void 0===n||void 0===n.val)return!1;--this.trieSize;let r=n;for(let o=t.length-1;o>=0&&0===r.next.size;o--){const[e,n]=t[o];console.assert(n.next.size>0),n.next.delete(e),r=n}return!0}),this.set=((e,t)=>{let n=this.root;return e.forEach(e=>{if(void 0===e)throw new Error("undefined not allowed as part of the key");let t=n.next.get(e);void 0===t&&(t={next:new Map},n.next.set(e,t)),t.keyChar=e,n=t}),n.val=t,++this.trieSize,this}),this.getOrSet=((e,t)=>{let n=this.root;if(e.some(e=>void 0===e))throw new Error("undefined is not allowed to be part of the key");for(const r of e){let e=n.next.get(r);void 0===e&&(e={next:new Map},n.next.set(r,e)),e.keyChar=r,n=e}return void 0===n.val&&(n.val=t(),++this.trieSize),n.val}),this.keys=(()=>o.toIt(i(this.root)).map(([e])=>e)),this.values=(()=>o.toIt(i(this.root)).map(([,e])=>e)),this.getFanout=(e=>{const t=this.traverse(e);return t?t.next.size:0}),this.iterate=(()=>i(this.root)),this.traverse=((e,t=(()=>{}))=>{let n=this.root;for(const r of e){const e=n.next.get(r);if(void 0===e)return;t(r,n),n=e}return n});for(const[t,n]of e)this.set(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(35);function o(...e){let t=0;for(const n of e)t+=n;return t}t.negate=function(e){const t=new Map;for(const[n,r]of e)t.set(n,-r);return t},t.sum=o,t.average=function(e,...t){return(e+o(...t))/(t.length+1)},t.sumBy=function(e,t){let n=0;for(const r of t)n+=e(r);return n},t.sumMaps=function(...e){return r.fullOuterJoin((...e)=>o(...e),...e)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SlowDown="SpeedCommandType_SlowDown",e.SpeedUp="SpeedCommandType_SpeedUp",e.Resume="SpeedCommandType_Resume",e.Pause="SpeedCommandType_Pause"}(r=t.SpeedCommandType||(t.SpeedCommandType={})),t.speedUp=(()=>({type:r.SpeedUp})),t.slowDown=(()=>({type:r.SlowDown})),t.resume=(()=>({type:r.Resume})),t.pause=(()=>({type:r.Pause}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(11),i=n(9),a=n(10);function s(e,t){return`${e} \u21c6 ${t}`}function u(e,t){const n=e.getReader(),r=n.getPlanet(t.from);console.assert(void 0!==r);const o=n.getPlanet(t.to);return console.assert(void 0!==o),r.id<o.id?`Route (${s(r.id,o.id)})`:`Route (${s(o.id,r.id)})`}t.default=class extends r.Component{constructor(e){super(e),this.view=document.createElement("div"),this.addFleetLowToHigh=(()=>{this.props.game.getWriter().addTradeFleet(this.lowColony,this.highColony)}),this.addFleetHighToLow=(()=>{this.props.game.getWriter().addTradeFleet(this.highColony,this.lowColony)});const t=this.props.game,n=this.props.route,r=t.getReader(),o=r.getPlanet(n.from);console.assert(void 0!==o),console.assert(o.isColonized());const i=r.getPlanet(n.to);console.assert(void 0!==i),console.assert(i.isColonized()),o.id<i.id?(this.lowPlanetId=o.id,this.highPlanetId=i.id,this.lowColony=o.getColony(),this.highColony=i.getColony()):(this.lowPlanetId=i.id,this.highPlanetId=o.id,this.lowColony=i.getColony(),this.highColony=o.getColony())}render(){const e=this.props.game,t=e.getReader(),n=this.props.route,c=t.getNumUsedTraders(this.lowColony,this.highColony),l=Math.round(100*t.getRouteFuelEff(this.lowColony,this.highColony)),f=0===t.getNumUnusedTraders();return r.createElement(a.default,null,r.createElement(i.default,{title:u(e,n)}),r.createElement(o.default,null,r.createElement("fieldset",null,r.createElement("legend",null,"General"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the number of traders who trade in this trade lane."},r.createElement("td",null,"#Traders"),r.createElement("td",null,c)),r.createElement("tr",{title:"Fuel efficiency determines how fast spaceships can travel due to extra fuel usage."},r.createElement("td",null,"Fuel Eff."),r.createElement("td",null,`${l}%`))))),r.createElement("fieldset",{title:"If you have a free trader, you can add the trader to this lane, transferring goods for you. If you don't have a free trader, you can either buy one from the top menu bar or can free one by retiring a trader from the trader screen."},r.createElement("legend",null,"Add Routes"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,`${s(this.lowPlanetId,this.highPlanetId)}`),r.createElement("td",null,r.createElement("button",{onClick:this.addFleetLowToHigh,disabled:f},"+"))),r.createElement("tr",null,r.createElement("td",null,`${s(this.highPlanetId,this.lowPlanetId)}`),r.createElement("td",null,r.createElement("button",{onClick:this.addFleetHighToLow,disabled:f},"+"))))))))}},t.routeString=u},function(e,t,n){n(41),e.exports=n(46)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(42).enable(),window.Promise=n(44)),n(45),Object.assign=n(14)},function(e,t,n){"use strict";var r=n(21),o=[ReferenceError,TypeError,RangeError],i=!1;function a(){i=!1,r._47=null,r._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},i&&a();i=!0;var t=0,n=0,u={};function c(t){(e.allRejections||s(u[t].error,e.whitelist||o))&&(u[t].displayId=n++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(u[t].displayId,u[t].error)))}r._47=function(t){var n;2===t._83&&u[t._56]&&(u[t._56].logged?(n=t._56,u[n].logged&&(e.onHandled?e.onHandled(u[n].displayId,u[n].error):u[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[n].displayId+".")))):clearTimeout(u[t._56].timeout),delete u[t._56])},r._71=function(e,n){0===e._75&&(e._56=t++,u[e._56]={displayId:null,error:n,timeout:setTimeout(c.bind(null,e._56),s(n,o)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0,a=1024;function s(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>a){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var u,c,l,f="undefined"!==typeof t?t:self,h=f.MutationObserver||f.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"===typeof h?(u=1,c=new h(s),l=document.createTextNode(""),c.observe(l,{characterData:!0}),r=function(){u=-u,l.data=u}):r=d(s),n.requestFlush=r,n.makeRequestCallFromTimer=d}).call(t,n(7))},function(e,t,n){"use strict";var r=n(21);e.exports=r;var o=l(!0),i=l(!1),a=l(null),s=l(void 0),u=l(0),c=l("");function l(e){var t=new r(r._44);return t._83=1,t._18=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return i;if(0===e)return u;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return l(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(0===t.length)return e([]);var o=t.length;function i(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){i(a,e)},n))}var u=s.then;if("function"===typeof u)return void new r(u.bind(s)).then(function(e){i(a,e)},n)}t[a]=s,0===--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];g.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=y,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,o){var i=new y(e,n),a=new XMLHttpRequest;a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new g(o,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var n,r,o=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(48),i=n(6),a=n(18),s=n(81);n(105);const u=n(106),c=n(5),l=n(107),f=n(135);s.Game.tryLoad().then(({game:e,isNewGame:t})=>{const n=a.createStore(f.default);t&&n.dispatch(c.addClosable(c.ClosablePanelType.Tutorial)),o.render(r.createElement(i.Provider,{store:n},r.createElement(l.default,{game:e,isNewGame:t})),document.getElementById("root")),u.default()})},function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(22),a=n(16),s="function"===typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,c=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,f=s?Symbol.for("react.strict_mode"):60108,h=s?Symbol.for("react.profiler"):60114,d=s?Symbol.for("react.provider"):60109,p=s?Symbol.for("react.context"):60110,m=s?Symbol.for("react.async_mode"):60111,y=s?Symbol.for("react.forward_ref"):60112;s&&Symbol.for("react.timeout");var v="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||_}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||_}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&g("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var S=E.prototype=new w;S.constructor=E,r(S,b.prototype),S.isPureReactComponent=!0;var P={current:null},x=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&!T.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:u,type:e,key:i,ref:a,props:o,_owner:P.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===u}var O=/\/+/g,I=[];function M(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function A(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case u:case c:i=!0}}if(i)return n(r,e,""===t?"."+R(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+R(o=e[a],a);i+=A(o,s,n,r)}else if(null===e||"undefined"===typeof e?s=null:s="function"===typeof(s=v&&e[v]||e["@@iterator"])?s:null,"function"===typeof s)for(e=s.call(e),a=0;!(o=e.next()).done;)i+=A(o=o.value,s=t+R(o,a++),n,r);else"object"===o&&g("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,r,n,a.thatReturnsArgument):null!=e&&(k(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n,e={$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function z(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(O,"$&/")+"/"),t=M(t,i,r,o),null==e||A(e,"",N,t),D(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return z(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=M(null,null,t,n),null==e||A(e,"",j,t),D(t)},count:function(e){return null==e?0:A(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return z(e,t,null,a.thatReturnsArgument),t},only:function(e){return k(e)||g("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:y,render:e}},Fragment:l,StrictMode:f,unstable_AsyncMode:m,unstable_Profiler:h,createElement:C,cloneElement:function(e,t,n){(null===e||void 0===e)&&g("267",e);var o=void 0,i=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=P.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)x.call(t,o)&&!T.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}if(1===(o=arguments.length-2))i.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:u,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:k,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:r}},U={default:F},L=U&&F||U;e.exports=L.default?L.default:L},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(49)},function(e,t,n){"use strict";var r=n(15),o=n(0),i=n(50),a=n(14),s=n(16),u=n(51),c=n(52),l=n(53),f=n(22);function h(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}o||h("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,i,a,s,u){(function(e,t,n,r,o,i,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,i,a,s,u){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var c=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var e=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,e}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var e=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,e}h("198")}};var p=null,m={};function y(){if(p)for(var e in m){var t=m[e],n=p.indexOf(e);if(-1<n||h("96",e),!g[n])for(var r in t.extractEvents||h("97",e),g[n]=t,n=t.eventTypes){var o=void 0,i=n[r],a=t,s=r;_.hasOwnProperty(s)&&h("99",s),_[s]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&v(u[o],a,s);o=!0}else i.registrationName?(v(i.registrationName,a,s),o=!0):o=!1;o||h("98",r,e)}}}function v(e,t,n){b[e]&&h("100",e),b[e]=t,w[e]=t.eventTypes[n].dependencies}var g=[],_={},b={},w={};function E(e){p&&h("101"),p=Array.prototype.slice.call(e),y()}function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];m.hasOwnProperty(t)&&m[t]===r||(m[t]&&h("102",t),m[t]=r,n=!0)}n&&y()}var P={plugins:g,eventNameDispatchConfigs:_,registrationNameModules:b,registrationNameDependencies:w,possibleRegistrationNames:null,injectEventPluginOrder:E,injectEventPluginsByName:S},x=null,T=null,C=null;function k(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=C(r),d.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function O(e,t){return null==t&&h("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function D(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)k(e,t,n[o],r[o]);else n&&k(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){return D(e,!0)}function R(e){return D(e,!1)}var j={injectEventPluginOrder:E,injectEventPluginsByName:S};function N(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!==typeof n&&h("231",t,typeof n),n)}function z(e,t){null!==e&&(M=O(M,e)),e=M,M=null,e&&(I(e,t?A:R),M&&h("95"),d.rethrowCaughtError())}function F(e,t,n,r){for(var o=null,i=0;i<g.length;i++){var a=g[i];a&&(a=a.extractEvents(e,t,n,r))&&(o=O(o,a))}z(o,!1)}var U={injection:j,getListener:N,runEventsInBatch:z,runExtractedEventsInBatch:F},L=Math.random().toString(36).slice(2),q="__reactInternalInstance$"+L,B="__reactEventHandlers$"+L;function K(e){if(e[q])return e[q];for(;!e[q];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[q]).tag||6===e.tag?e:null}function W(e){if(5===e.tag||6===e.tag)return e.stateNode;h("33")}function H(e){return e[B]||null}var V={precacheFiberNode:function(e,t){t[q]=e},getClosestInstanceFromNode:K,getInstanceFromNode:function(e){return!(e=e[q])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:W,getFiberCurrentPropsFromNode:H,updateFiberProps:function(e,t){e[B]=t}};function G(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function $(e,t,n){for(var r=[];e;)r.push(e),e=G(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Y(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function Q(e){e&&e.dispatchConfig.phasedRegistrationNames&&$(e._targetInst,Y,e)}function X(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;$(t=t?G(t):null,Y,e)}}function J(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,t),n._dispatchInstances=O(n._dispatchInstances,e))}function Z(e){e&&e.dispatchConfig.registrationName&&J(e._targetInst,null,e)}function ee(e){I(e,Q)}function te(e,t,n,r){if(n&&r)e:{for(var o=n,i=r,a=0,s=o;s;s=G(s))a++;s=0;for(var u=i;u;u=G(u))s++;for(;0<a-s;)o=G(o),a--;for(;0<s-a;)i=G(i),s--;for(;a--;){if(o===i||o===i.alternate)break e;o=G(o),i=G(i)}o=null}else o=null;for(i=o,o=[];n&&n!==i&&(null===(a=n.alternate)||a!==i);)o.push(n),n=G(n);for(n=[];r&&r!==i&&(null===(a=r.alternate)||a!==i);)n.push(r),r=G(r);for(r=0;r<o.length;r++)J(o[r],"bubbled",e);for(e=n.length;0<e--;)J(n[e],"captured",t)}var ne={accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){I(e,X)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){I(e,Z)}};function re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var oe={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionend:re("Transition","TransitionEnd")},ie={},ae={};function se(e){if(ie[e])return ie[e];if(!oe[e])return e;var t,n=oe[e];for(t in n)if(n.hasOwnProperty(t)&&t in ae)return ie[e]=n[t];return e}i.canUseDOM&&(ae=document.createElement("div").style,"AnimationEvent"in window||(delete oe.animationend.animation,delete oe.animationiteration.animation,delete oe.animationstart.animation),"TransitionEvent"in window||delete oe.transitionend.transition);var ue=se("animationend"),ce=se("animationiteration"),le=se("animationstart"),fe=se("transitionend"),he="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),de=null;function pe(){return!de&&i.canUseDOM&&(de="textContent"in document.documentElement?"textContent":"innerText"),de}var me={_root:null,_startText:null,_fallbackText:null};function ye(){if(me._fallbackText)return me._fallbackText;var e,t,n=me._startText,r=n.length,o=ve(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return me._fallbackText=o.slice(e,1<t?1-t:void 0),me._fallbackText}function ve(){return"value"in me._root?me._root.value:me._root[pe()]}var ge="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),_e={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function be(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function we(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Ee(e){e instanceof this||h("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Se(e){e.eventPool=[],e.getPooled=we,e.release=Ee}a(be.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ge.length;t++)this[ge[t]]=null}}),be.Interface=_e,be.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return a(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,Se(n),n},Se(be);var Pe=be.extend({data:null}),xe=be.extend({data:null}),Te=[9,13,27,32],Ce=i.canUseDOM&&"CompositionEvent"in window,ke=null;i.canUseDOM&&"documentMode"in document&&(ke=document.documentMode);var Oe=i.canUseDOM&&"TextEvent"in window&&!ke,Ie=i.canUseDOM&&(!Ce||ke&&8<ke&&11>=ke),Me=String.fromCharCode(32),De={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ae=!1;function Re(e,t){switch(e){case"keyup":return-1!==Te.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function je(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ne=!1;var ze={eventTypes:De,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(Ce)e:{switch(e){case"compositionstart":o=De.compositionStart;break e;case"compositionend":o=De.compositionEnd;break e;case"compositionupdate":o=De.compositionUpdate;break e}o=void 0}else Ne?Re(e,n)&&(o=De.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=De.compositionStart);return o?(Ie&&(Ne||o!==De.compositionStart?o===De.compositionEnd&&Ne&&(i=ye()):(me._root=r,me._startText=ve(),Ne=!0)),o=Pe.getPooled(o,t,n,r),i?o.data=i:null!==(i=je(n))&&(o.data=i),ee(o),i=o):i=null,(e=Oe?function(e,t){switch(e){case"compositionend":return je(t);case"keypress":return 32!==t.which?null:(Ae=!0,Me);case"textInput":return(e=t.data)===Me&&Ae?null:e;default:return null}}(e,n):function(e,t){if(Ne)return"compositionend"===e||!Ce&&Re(e,t)?(e=ye(),me._root=null,me._startText=null,me._fallbackText=null,Ne=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ie?null:t.data;default:return null}}(e,n))?((t=xe.getPooled(De.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===i?t:null===t?i:[i,t]}},Fe=null,Ue={injectFiberControlledHostComponent:function(e){Fe=e}},Le=null,qe=null;function Be(e){if(e=T(e)){Fe&&"function"===typeof Fe.restoreControlledState||h("194");var t=x(e.stateNode);Fe.restoreControlledState(e.stateNode,e.type,t)}}function Ke(e){Le?qe?qe.push(e):qe=[e]:Le=e}function We(){return null!==Le||null!==qe}function He(){if(Le){var e=Le,t=qe;if(qe=Le=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}var Ve={injection:Ue,enqueueStateRestore:Ke,needsStateRestore:We,restoreStateIfNeeded:He};function Ge(e,t){return e(t)}function $e(e,t,n){return e(t,n)}function Ye(){}var Qe=!1;function Xe(e,t){if(Qe)return e(t);Qe=!0;try{return Ge(e,t)}finally{Qe=!1,We()&&(Ye(),He())}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ze(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Je[e.type]:"textarea"===t}function et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function tt(e,t){return!(!i.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t)}function nt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function rt(e){e._valueTracker||(e._valueTracker=function(e){var t=nt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var it=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at="function"===typeof Symbol&&Symbol.for,st=at?Symbol.for("react.element"):60103,ut=at?Symbol.for("react.portal"):60106,ct=at?Symbol.for("react.fragment"):60107,lt=at?Symbol.for("react.strict_mode"):60108,ft=at?Symbol.for("react.profiler"):60114,ht=at?Symbol.for("react.provider"):60109,dt=at?Symbol.for("react.context"):60110,pt=at?Symbol.for("react.async_mode"):60111,mt=at?Symbol.for("react.forward_ref"):60112,yt=at?Symbol.for("react.timeout"):60113,vt="function"===typeof Symbol&&Symbol.iterator;function gt(e){return null===e||"undefined"===typeof e?null:"function"===typeof(e=vt&&e[vt]||e["@@iterator"])?e:null}function _t(e){var t=e.type;if("function"===typeof t)return t.displayName||t.name;if("string"===typeof t)return t;switch(t){case pt:return"AsyncMode";case dt:return"Context.Consumer";case ct:return"ReactFragment";case ut:return"ReactPortal";case ft:return"Profiler("+e.pendingProps.id+")";case ht:return"Context.Provider";case lt:return"StrictMode";case yt:return"Timeout"}if("object"===typeof t&&null!==t)switch(t.$$typeof){case mt:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function bt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,o=_t(e),i=null;n&&(i=_t(n)),n=r,o="\n    in "+(o||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":i?" (created by "+i+")":"");break e;default:o=""}t+=o,e=e.return}while(e);return t}var wt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Et={},St={};function Pt(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){xt[e]=new Pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Pt(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){xt[e]=new Pt(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){xt[e]=new Pt(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){xt[e]=new Pt(e,5,!1,e.toLowerCase(),null)});var Tt=/[\-:]([a-z])/g;function Ct(e){return e[1].toUpperCase()}function kt(e,t,n,r){var o=xt.hasOwnProperty(t)?xt[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!St.hasOwnProperty(e)||!Et.hasOwnProperty(e)&&(wt.test(e)?St[e]=!0:(Et[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Ot(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function It(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=jt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Mt(e,t){null!=(t=t.checked)&&kt(e,"checked",t,!1)}function Dt(e,t){Mt(e,t);var n=jt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?Rt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rt(e,t.type,jt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function At(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){t=""+e._wrapperState.initialValue;var r=e.value;n||t===r||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==n&&(e.name=n)}function Rt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function jt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tt,Ct);xt[t]=new Pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tt,Ct);xt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tt,Ct);xt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),xt.tabIndex=new Pt("tabIndex",1,!1,"tabindex",null);var Nt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function zt(e,t,n){return(e=be.getPooled(Nt.change,e,t,n)).type="change",Ke(n),ee(e),e}var Ft=null,Ut=null;function Lt(e){z(e,!1)}function qt(e){if(ot(W(e)))return e}function Bt(e,t){if("change"===e)return t}var Kt=!1;function Wt(){Ft&&(Ft.detachEvent("onpropertychange",Ht),Ut=Ft=null)}function Ht(e){"value"===e.propertyName&&qt(Ut)&&Xe(Lt,e=zt(Ut,e,et(e)))}function Vt(e,t,n){"focus"===e?(Wt(),Ut=n,(Ft=t).attachEvent("onpropertychange",Ht)):"blur"===e&&Wt()}function Gt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qt(Ut)}function $t(e,t){if("click"===e)return qt(t)}function Yt(e,t){if("input"===e||"change"===e)return qt(t)}i.canUseDOM&&(Kt=tt("input")&&(!document.documentMode||9<document.documentMode));var Qt={eventTypes:Nt,_isInputEventSupported:Kt,extractEvents:function(e,t,n,r){var o=t?W(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Bt:Ze(o)?Kt?i=Yt:(i=Gt,a=Vt):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=$t),i&&(i=i(e,t)))return zt(i,n,r);a&&a(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Rt(o,"number",o.value)}},Xt=be.extend({view:null,detail:null}),Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Jt[e])&&!!t[e]}function en(){return Zt}var tn=Xt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:en,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},on={eventTypes:rn,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!i&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?K(t):null):i=null,i===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;return"mouseout"===e||"mouseover"===e?(a=tn,s=rn.mouseLeave,u=rn.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=nn,s=rn.pointerLeave,u=rn.pointerEnter,c="pointer"),e=null==i?o:W(i),o=null==t?o:W(t),(s=a.getPooled(s,i,n,r)).type=c+"leave",s.target=e,s.relatedTarget=o,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,te(s,n,i,t),[s,n]}};function an(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){2!==an(e)&&h("188")}function un(e){var t=e.alternate;if(!t)return 3===(t=an(e))&&h("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var a=o.child;a;){if(a===n)return sn(o),e;if(a===r)return sn(o),t;a=a.sibling}h("188")}if(n.return!==r.return)n=o,r=i;else{a=!1;for(var s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}a||h("189")}}n.alternate!==r&&h("190")}return 3!==n.tag&&h("188"),n.stateNode.current===n?e:t}function cn(e){if(!(e=un(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ln=be.extend({animationName:null,elapsedTime:null,pseudoElement:null}),fn=be.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hn=Xt.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn=Xt.extend({key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:en,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),vn=tn.extend({dataTransfer:null}),gn=Xt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:en}),_n=be.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),bn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wn=[["abort","abort"],[ue,"animationEnd"],[ce,"animationIteration"],[le,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[fe,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],En={},Sn={};function Pn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},En[e]=t,Sn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Pn(e,!0)}),wn.forEach(function(e){Pn(e,!1)});var xn={eventTypes:En,isInteractiveTopLevelEventType:function(e){return void 0!==(e=Sn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=Sn[e];if(!o)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=yn;break;case"blur":case"focus":e=hn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=gn;break;case ue:case ce:case le:e=ln;break;case fe:e=_n;break;case"scroll":e=Xt;break;case"wheel":e=bn;break;case"copy":case"cut":case"paste":e=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=be}return ee(t=e.getPooled(o,t,n,r)),t}},Tn=xn.isInteractiveTopLevelEventType,Cn=[];function kn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=K(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],F(e.topLevelType,t,e.nativeEvent,et(e.nativeEvent))}var On=!0;function In(e){On=!!e}function Mn(e,t){if(!t)return null;var n=(Tn(e)?An:Rn).bind(null,e);t.addEventListener(e,n,!1)}function Dn(e,t){if(!t)return null;var n=(Tn(e)?An:Rn).bind(null,e);t.addEventListener(e,n,!0)}function An(e,t){$e(Rn,e,t)}function Rn(e,t){if(On){var n=et(t);if(null===(n=K(n))||"number"!==typeof n.tag||2===an(n)||(n=null),Cn.length){var r=Cn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Xe(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Cn.length&&Cn.push(e)}}}var jn={get _enabled(){return On},setEnabled:In,isEnabled:function(){return On},trapBubbledEvent:Mn,trapCapturedEvent:Dn,dispatchEvent:Rn},Nn={},zn=0,Fn="_reactListenersID"+(""+Math.random()).slice(2);function Un(e){return Object.prototype.hasOwnProperty.call(e,Fn)||(e[Fn]=zn++,Nn[e[Fn]]={}),Nn[e[Fn]]}function Ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Ln(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ln(r)}}function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn=i.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Wn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hn=null,Vn=null,Gn=null,$n=!1;function Yn(e,t){if($n||null==Hn||Hn!==u())return null;var n=Hn;return"selectionStart"in n&&Bn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Gn&&c(Gn,n)?null:(Gn=n,(e=be.getPooled(Wn.select,Vn,e,t)).type="select",e.target=Hn,ee(e),e)}var Qn={eventTypes:Wn,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Un(i),o=w.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?W(t):window,e){case"focus":(Ze(i)||"true"===i.contentEditable)&&(Hn=i,Vn=t,Gn=null);break;case"blur":Gn=Vn=Hn=null;break;case"mousedown":$n=!0;break;case"contextmenu":case"mouseup":return $n=!1,Yn(n,r);case"selectionchange":if(Kn)break;case"keydown":case"keyup":return Yn(n,r)}return null}};j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=V.getFiberCurrentPropsFromNode,T=V.getInstanceFromNode,C=V.getNodeFromInstance,j.injectEventPluginsByName({SimpleEventPlugin:xn,EnterLeaveEventPlugin:on,ChangeEventPlugin:Qt,SelectEventPlugin:Qn,BeforeInputEventPlugin:ze});var Xn="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,Jn=Date,Zn=setTimeout,er=clearTimeout,tr=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var nr=performance;tr=function(){return nr.now()}}else tr=function(){return Jn.now()};var rr=void 0,or=void 0;if(i.canUseDOM){var ir="function"===typeof Xn?Xn:function(){h("276")},ar=null,sr=null,ur=-1,cr=!1,lr=!1,fr=0,hr=33,dr=33,pr={didTimeout:!1,timeRemaining:function(){var e=fr-tr();return 0<e?e:0}},mr=function(e,t){var n=e.scheduledCallback,r=!1;try{n(t),r=!0}finally{or(e),r||(cr=!0,window.postMessage(yr,"*"))}},yr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===yr&&(cr=!1,null!==ar)){if(null!==ar){var t=tr();if(!(-1===ur||ur>t)){e=-1;for(var n=[],r=ar;null!==r;){var o=r.timeoutTime;-1!==o&&o<=t?n.push(r):-1!==o&&(-1===e||o<e)&&(e=o),r=r.next}if(0<n.length)for(pr.didTimeout=!0,t=0,r=n.length;t<r;t++)mr(n[t],pr);ur=e}}for(e=tr();0<fr-e&&null!==ar;)e=ar,pr.didTimeout=!1,mr(e,pr),e=tr();null===ar||lr||(lr=!0,ir(vr))}},!1);var vr=function(e){lr=!1;var t=e-fr+dr;t<dr&&hr<dr?(8>t&&(t=8),dr=t<hr?hr:t):hr=t,fr=e+dr,cr||(cr=!0,window.postMessage(yr,"*"))};rr=function(e,t){var n=-1;return null!=t&&"number"===typeof t.timeout&&(n=tr()+t.timeout),(-1===ur||-1!==n&&n<ur)&&(ur=n),e={scheduledCallback:e,timeoutTime:n,prev:null,next:null},null===ar?ar=e:null!==(t=e.prev=sr)&&(t.next=e),sr=e,lr||(lr=!0,ir(vr)),e},or=function(e){if(null!==e.prev||ar===e){var t=e.next,n=e.prev;e.next=null,e.prev=null,null!==t?null!==n?(n.next=t,t.prev=n):(t.prev=null,ar=t):null!==n?(n.next=null,sr=n):sr=ar=null}}}else{var gr=new Map;rr=function(e){var t={scheduledCallback:e,timeoutTime:0,next:null,prev:null},n=Zn(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return gr.set(e,n),t},or=function(e){var t=gr.get(e.scheduledCallback);gr.delete(e),er(t)}}function _r(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,function(e){null==e||"string"!==typeof e&&"number"!==typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function br(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function wr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Er(e,t){return null!=t.dangerouslySetInnerHTML&&h("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&h("92"),Array.isArray(t)&&(1>=t.length||h("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Pr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function xr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Tr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Cr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Cr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Or,Ir=void 0,Mr=(Or=function(e,t){if(e.namespaceURI!==Tr.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ir=Ir||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Or(e,t)})}:Or);function Dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rr=["Webkit","ms","Moz","O"];function jr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,i=t[n];o=null==i||"boolean"===typeof i||""===i?"":r||"number"!==typeof i||0===i||Ar.hasOwnProperty(o)&&Ar[o]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Ar).forEach(function(e){Rr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});var Nr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(e,t,n){t&&(Nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&h("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&h("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||h("61")),null!=t.style&&"object"!==typeof t.style&&h("62",n()))}function Fr(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=s.thatReturns("");function Lr(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.hasOwnProperty(o)||!n[o]){switch(o){case"scroll":Dn("scroll",e);break;case"focus":case"blur":Dn("focus",e),Dn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":tt(o,!0)&&Dn(o,e);break;case"invalid":case"submit":case"reset":break;default:-1===he.indexOf(o)&&Mn(o,e)}n[o]=!0}}}function qr(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Tr.html&&(r=Cr(e)),r===Tr.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"===typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Br(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Kr(e,t,n,r){var o=Fr(t,n);switch(t){case"iframe":case"object":Mn("load",e);var i=n;break;case"video":case"audio":for(i=0;i<he.length;i++)Mn(he[i],e);i=n;break;case"source":Mn("error",e),i=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),i=n;break;case"form":Mn("reset",e),Mn("submit",e),i=n;break;case"details":Mn("toggle",e),i=n;break;case"input":It(e,n),i=Ot(e,n),Mn("invalid",e),Lr(r,"onChange");break;case"option":i=_r(e,n);break;case"select":wr(e,n),i=a({},n,{value:void 0}),Mn("invalid",e),Lr(r,"onChange");break;case"textarea":Sr(e,n),i=Er(e,n),Mn("invalid",e),Lr(r,"onChange");break;default:i=n}zr(t,i,Ur);var u,c=i;for(u in c)if(c.hasOwnProperty(u)){var l=c[u];"style"===u?jr(e,l):"dangerouslySetInnerHTML"===u?null!=(l=l?l.__html:void 0)&&Mr(e,l):"children"===u?"string"===typeof l?("textarea"!==t||""!==l)&&Dr(e,l):"number"===typeof l&&Dr(e,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?null!=l&&Lr(r,u):null!=l&&kt(e,u,l,o))}switch(t){case"input":rt(e),At(e,n,!1);break;case"textarea":rt(e),xr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?br(e,!!n.multiple,t,!1):null!=n.defaultValue&&br(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=s)}}function Wr(e,t,n,r,o){var i=null;switch(t){case"input":n=Ot(e,n),r=Ot(e,r),i=[];break;case"option":n=_r(e,n),r=_r(e,r),i=[];break;case"select":n=a({},n,{value:void 0}),r=a({},r,{value:void 0}),i=[];break;case"textarea":n=Er(e,n),r=Er(e,r),i=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=s)}zr(t,r,Ur),t=e=void 0;var u=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var c=n[e];for(t in c)c.hasOwnProperty(t)&&(u||(u={}),u[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(b.hasOwnProperty(e)?i||(i=[]):(i=i||[]).push(e,null));for(e in r){var l=r[e];if(c=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&l!==c&&(null!=l||null!=c))if("style"===e)if(c){for(t in c)!c.hasOwnProperty(t)||l&&l.hasOwnProperty(t)||(u||(u={}),u[t]="");for(t in l)l.hasOwnProperty(t)&&c[t]!==l[t]&&(u||(u={}),u[t]=l[t])}else u||(i||(i=[]),i.push(e,u)),u=l;else"dangerouslySetInnerHTML"===e?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(i=i||[]).push(e,""+l)):"children"===e?c===l||"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(e,""+l):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(b.hasOwnProperty(e)?(null!=l&&Lr(o,e),i||c===l||(i=[])):(i=i||[]).push(e,l))}return u&&(i=i||[]).push("style",u),i}function Hr(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&Mt(e,o),Fr(n,r),r=Fr(n,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?jr(e,s):"dangerouslySetInnerHTML"===a?Mr(e,s):"children"===a?Dr(e,s):kt(e,a,s,r)}switch(n){case"input":Dt(e,o);break;case"textarea":Pr(e,o);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?br(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?br(e,!!o.multiple,o.defaultValue,!0):br(e,!!o.multiple,o.multiple?[]:"",!1))}}function Vr(e,t,n,r,o){switch(t){case"iframe":case"object":Mn("load",e);break;case"video":case"audio":for(r=0;r<he.length;r++)Mn(he[r],e);break;case"source":Mn("error",e);break;case"img":case"image":case"link":Mn("error",e),Mn("load",e);break;case"form":Mn("reset",e),Mn("submit",e);break;case"details":Mn("toggle",e);break;case"input":It(e,n),Mn("invalid",e),Lr(o,"onChange");break;case"select":wr(e,n),Mn("invalid",e),Lr(o,"onChange");break;case"textarea":Sr(e,n),Mn("invalid",e),Lr(o,"onChange")}for(var i in zr(t,n,Ur),r=null,n)if(n.hasOwnProperty(i)){var a=n[i];"children"===i?"string"===typeof a?e.textContent!==a&&(r=["children",a]):"number"===typeof a&&e.textContent!==""+a&&(r=["children",""+a]):b.hasOwnProperty(i)&&null!=a&&Lr(o,i)}switch(t){case"input":rt(e),At(e,n,!0);break;case"textarea":rt(e),xr(e);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(e.onclick=s)}return r}function Gr(e,t){return e.nodeValue!==t}var $r={createElement:qr,createTextNode:Br,setInitialProperties:Kr,diffProperties:Wr,updateProperties:Hr,diffHydratedProperties:Vr,diffHydratedText:Gr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Dt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=H(r);o||h("90"),ot(r),Dt(r,o)}}}break;case"textarea":Pr(e,n);break;case"select":null!=(t=n.value)&&br(e,!!n.multiple,t,!1)}}},Yr=null,Qr=null;function Xr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Jr(e,t){return"textarea"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"===typeof t.dangerouslySetInnerHTML.__html}var Zr=tr,eo=rr,to=or;function no(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function ro(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var oo=[],io=-1;function ao(e){return{current:e}}function so(e){0>io||(e.current=oo[io],oo[io]=null,io--)}function uo(e,t){oo[++io]=e.current,e.current=t}var co=ao(f),lo=ao(!1),fo=f;function ho(e){return mo(e)?fo:co.current}function po(e,t){var n=e.type.contextTypes;if(!n)return f;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mo(e){return 2===e.tag&&null!=e.type.childContextTypes}function yo(e){mo(e)&&(so(lo),so(co))}function vo(e){so(lo),so(co)}function go(e,t,n){co.current!==f&&h("168"),uo(co,t),uo(lo,n)}function _o(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!==typeof n.getChildContext)return t;for(var o in n=n.getChildContext())o in r||h("108",_t(e)||"Unknown",o);return a({},t,n)}function bo(e){if(!mo(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||f,fo=co.current,uo(co,t),uo(lo,lo.current),!0}function wo(e,t){var n=e.stateNode;if(n||h("169"),t){var r=_o(e,fo);n.__reactInternalMemoizedMergedChildContext=r,so(lo),so(co),uo(co,r)}else so(lo);uo(lo,t)}function Eo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function So(e,t,n){var r=e.alternate;return null===r?((r=new Eo(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Po(e,t,n){var r=e.type,o=e.key;if(e=e.props,"function"===typeof r)var i=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"===typeof r)i=5;else switch(r){case ct:return xo(e.children,t,n,o);case pt:i=11,t|=3;break;case lt:i=11,t|=2;break;case ft:return(r=new Eo(15,e,o,4|t)).type=ft,r.expirationTime=n,r;case yt:i=16,t|=2;break;default:e:{switch("object"===typeof r&&null!==r?r.$$typeof:null){case ht:i=13;break e;case dt:i=12;break e;case mt:i=14;break e;default:h("130",null==r?r:typeof r,"")}i=void 0}}return(t=new Eo(i,e,o,t)).type=r,t.expirationTime=n,t}function xo(e,t,n,r){return(e=new Eo(10,e,r,t)).expirationTime=n,e}function To(e,t,n){return(e=new Eo(6,e,null,t)).expirationTime=n,e}function Co(e,t,n){return(t=new Eo(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ko(e,t,n){return e={current:t=new Eo(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}var Oo=null,Io=null;function Mo(e){return function(t){try{return e(t)}catch(e){}}}function Do(e){"function"===typeof Oo&&Oo(e)}function Ao(e){"function"===typeof Io&&Io(e)}var Ro=!1;function jo(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function No(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function zo(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Fo(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Uo(e,t,n){var r=e.alternate;if(null===r){var o=e.updateQueue,i=null;null===o&&(o=e.updateQueue=jo(e.memoizedState))}else o=e.updateQueue,i=r.updateQueue,null===o?null===i?(o=e.updateQueue=jo(e.memoizedState),i=r.updateQueue=jo(r.memoizedState)):o=e.updateQueue=No(i):null===i&&(i=r.updateQueue=No(o));null===i||o===i?Fo(o,t,n):null===o.lastUpdate||null===i.lastUpdate?(Fo(o,t,n),Fo(i,t,n)):(Fo(o,t,n),i.lastUpdate=t)}function Lo(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=jo(e.memoizedState):qo(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function qo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=No(t)),t}function Bo(e,t,n,r,o,i){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(i,r,o):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(i,r,o):e)||void 0===o)break;return a({},r,o);case 2:Ro=!0}return r}function Ko(e,t,n,r,o){if(Ro=!1,!(0===t.expirationTime||t.expirationTime>o)){for(var i=(t=qo(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=i;null!==u;){var l=u.expirationTime;l>o?(null===a&&(a=u,i=c),(0===s||s>l)&&(s=l)):(c=Bo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f>o?(null===l&&(l=u,null===a&&(i=c)),(0===s||s>f)&&(s=f)):(c=Bo(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=l,t.expirationTime=s,e.memoizedState=c}}function Wo(e,t){"function"!==typeof e&&h("191",e),e.call(t)}function Ho(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,Wo(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,Wo(t,n)),e=e.nextEffect}function Vo(e,t){return{value:e,source:t,stack:bt(t)}}var Go=ao(null),$o=ao(null),Yo=ao(0);function Qo(e){var t=e.type._context;uo(Yo,t._changedBits),uo($o,t._currentValue),uo(Go,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function Xo(e){var t=Yo.current,n=$o.current;so(Go),so($o),so(Yo),(e=e.type._context)._currentValue=n,e._changedBits=t}var Jo={},Zo=ao(Jo),ei=ao(Jo),ti=ao(Jo);function ni(e){return e===Jo&&h("174"),e}function ri(e,t){uo(ti,t),uo(ei,e),uo(Zo,Jo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kr(null,"");break;default:t=kr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}so(Zo),uo(Zo,t)}function oi(e){so(Zo),so(ei),so(ti)}function ii(e){ei.current===e&&(so(Zo),so(ei))}function ai(e,t,n){var r=e.memoizedState;r=null===(t=t(n,r))||void 0===t?r:a({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}var si={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===an(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=_a(),o=zo(r=va(r,e));o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Uo(e,o,r),ga(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=_a(),o=zo(r=va(r,e));o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),Uo(e,o,r),ga(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=_a(),r=zo(n=va(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Uo(e,r,n),ga(e,n)}};function ui(e,t,n,r,o,i){var a=e.stateNode;return e=e.type,"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,o,i):!e.prototype||!e.prototype.isPureReactComponent||(!c(t,n)||!c(r,o))}function ci(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&si.enqueueReplaceState(t,t.state,null)}function li(e,t){var n=e.type,r=e.stateNode,o=e.pendingProps,i=ho(e);r.props=o,r.state=e.memoizedState,r.refs=f,r.context=po(e,i),null!==(i=e.updateQueue)&&(Ko(e,i,o,r,t),r.state=e.memoizedState),"function"===typeof(i=e.type.getDerivedStateFromProps)&&(ai(e,i,o),r.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(n=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&si.enqueueReplaceState(r,r.state,null),null!==(i=e.updateQueue)&&(Ko(e,i,o,r,t),r.state=e.memoizedState)),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var fi=Array.isArray;function hi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&h("110"),r=n.stateNode),r||h("147",e);var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs===f?r.refs={}:r.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!==typeof e&&h("148"),n._owner||h("254",e)}return e}function di(e,t){"textarea"!==e.type&&h("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function pi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=So(e,t,n)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=To(n,e.mode,r)).return=e,t):((t=o(t,n,r)).return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?((r=o(t,n.props,r)).ref=hi(e,t,n),r.return=e,r):((r=Po(n,e.mode,r)).ref=hi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Co(n,e.mode,r)).return=e,t):((t=o(t,n.children||[],r)).return=e,t)}function l(e,t,n,r,i){return null===t||10!==t.tag?((t=xo(n,e.mode,r,i)).return=e,t):((t=o(t,n,r)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=To(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case st:return(n=Po(t,e.mode,n)).ref=hi(e,null,t),n.return=e,n;case ut:return(t=Co(t,e.mode,n)).return=e,t}if(fi(t)||gt(t))return(t=xo(t,e.mode,n,null)).return=e,t;di(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case st:return n.key===o?n.type===ct?l(e,t,n.props.children,r,o):u(e,t,n,r):null;case ut:return n.key===o?c(e,t,n,r):null}if(fi(n)||gt(n))return null!==o?null:l(e,t,n,r,null);di(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case st:return e=e.get(null===r.key?n:r.key)||null,r.type===ct?l(t,e,r.props.children,o,r.key):u(t,e,r,o);case ut:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(fi(r)||gt(r))return l(t,e=e.get(n)||null,r,o,null);di(t,r)}return null}function m(o,a,s,u){for(var c=null,l=null,h=a,m=a=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var v=d(o,h,s[m],u);if(null===v){null===h&&(h=y);break}e&&h&&null===v.alternate&&t(o,h),a=i(v,a,m),null===l?c=v:l.sibling=v,l=v,h=y}if(m===s.length)return n(o,h),c;if(null===h){for(;m<s.length;m++)(h=f(o,s[m],u))&&(a=i(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(o,h);m<s.length;m++)(y=p(h,o,m,s[m],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),a=i(y,a,m),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach(function(e){return t(o,e)}),c}function y(o,a,s,u){var c=gt(s);"function"!==typeof c&&h("150"),null==(s=c.call(s))&&h("151");for(var l=c=null,m=a,y=a=0,v=null,g=s.next();null!==m&&!g.done;y++,g=s.next()){m.index>y?(v=m,m=null):v=m.sibling;var _=d(o,m,g.value,u);if(null===_){m||(m=v);break}e&&m&&null===_.alternate&&t(o,m),a=i(_,a,y),null===l?c=_:l.sibling=_,l=_,m=v}if(g.done)return n(o,m),c;if(null===m){for(;!g.done;y++,g=s.next())null!==(g=f(o,g.value,u))&&(a=i(g,a,y),null===l?c=g:l.sibling=g,l=g);return c}for(m=r(o,m);!g.done;y++,g=s.next())null!==(g=p(m,o,y,g.value,u))&&(e&&null!==g.alternate&&m.delete(null===g.key?y:g.key),a=i(g,a,y),null===l?c=g:l.sibling=g,l=g);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,r,i,s){var u="object"===typeof i&&null!==i&&i.type===ct&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case st:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(10===u.tag?i.type===ct:u.type===i.type){n(e,u.sibling),(r=o(u,i.type===ct?i.props.children:i.props,s)).ref=hi(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===ct?((r=xo(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Po(i,e.mode,s)).ref=hi(e,r,i),s.return=e,e=s)}return a(e);case ut:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Co(i,e.mode,s)).return=e,e=r}return a(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i,s)).return=e,e=r):(n(e,r),(r=To(i,e.mode,s)).return=e,e=r),a(e);if(fi(i))return m(e,r,i,s);if(gt(i))return y(e,r,i,s);if(c&&di(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 2:case 1:h("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var mi=pi(!0),yi=pi(!1),vi=null,gi=null,_i=!1;function bi(e,t){var n=new Eo(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function wi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ei(e){if(_i){var t=gi;if(t){var n=t;if(!wi(e,t)){if(!(t=no(n))||!wi(e,t))return e.effectTag|=2,_i=!1,void(vi=e);bi(vi,n)}vi=e,gi=ro(t)}else e.effectTag|=2,_i=!1,vi=e}}function Si(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;vi=e}function Pi(e){if(e!==vi)return!1;if(!_i)return Si(e),_i=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Jr(t,e.memoizedProps))for(t=gi;t;)bi(e,t),t=no(t);return Si(e),gi=vi?no(e.stateNode):null,!0}function xi(){gi=vi=null,_i=!1}function Ti(e,t,n){Ci(e,t,n,t.expirationTime)}function Ci(e,t,n,r){t.child=null===e?yi(t,null,n,r):mi(t,e.child,n,r)}function ki(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Oi(e,t,n,r,o){ki(e,t);var i=0!==(64&t.effectTag);if(!n&&!i)return r&&wo(t,!1),Di(e,t);n=t.stateNode,it.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(Ci(e,t,null,o),t.child=null),Ci(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&wo(t,!0),t.child}function Ii(e){var t=e.stateNode;t.pendingContext?go(0,t.pendingContext,t.pendingContext!==t.context):t.context&&go(0,t.context,!1),ri(e,t.containerInfo)}function Mi(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){switch(o.tag){case 12:var i=0|o.stateNode;if(o.type===t&&0!==(i&n)){for(i=o;null!==i;){var a=i.alternate;if(0===i.expirationTime||i.expirationTime>r)i.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}i=i.return}i=null}else i=o.child;break;case 13:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}}function Di(e,t){if(null!==e&&t.child!==e.child&&h("153"),null!==t.child){var n=So(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=So(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ai(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:Ii(t);break;case 2:bo(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 13:Qo(t)}return null}switch(t.tag){case 0:null!==e&&h("155");var r=t.type,o=t.pendingProps,i=ho(t);return r=r(o,i=po(t,i)),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(i=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"===typeof(i=i.getDerivedStateFromProps)&&ai(t,i,o),o=bo(t),r.updater=si,t.stateNode=r,r._reactInternalFiber=t,li(t,n),e=Oi(e,t,!0,o,n)):(t.tag=1,Ti(e,t,r),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,lo.current||t.memoizedProps!==n?(o=o(n,r=po(t,r=ho(t))),t.effectTag|=1,Ti(e,t,o),t.memoizedProps=n,e=t.child):e=Di(e,t),e;case 2:if(o=bo(t),null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;r=ho(t);var u=2===t.tag&&null!=t.type.contextTypes;a=new s(a,i=u?po(t,r):f),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=si,t.stateNode=a,a._reactInternalFiber=t,u&&((u=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,u.__reactInternalMemoizedMaskedChildContext=i),li(t,n),r=!0}else{s=t.type,r=t.stateNode,u=t.memoizedProps,i=t.pendingProps,r.props=u;var c=r.context;a=po(t,a=ho(t));var l=s.getDerivedStateFromProps;(s="function"===typeof l||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(u!==i||c!==a)&&ci(t,r,i,a),Ro=!1;var d=t.memoizedState;c=r.state=d;var p=t.updateQueue;null!==p&&(Ko(t,p,i,r,n),c=t.memoizedState),u!==i||d!==c||lo.current||Ro?("function"===typeof l&&(ai(t,l,i),c=t.memoizedState),(u=Ro||ui(t,u,i,d,c,a))?(s||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.effectTag|=4)):("function"===typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,r=u):("function"===typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,i=t.memoizedProps,u=t.pendingProps,r.props=i,c=r.context,a=po(t,a=ho(t)),(s="function"===typeof(l=s.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==u||c!==a)&&ci(t,r,u,a),Ro=!1,c=t.memoizedState,d=r.state=c,null!==(p=t.updateQueue)&&(Ko(t,p,u,r,n),d=t.memoizedState),i!==u||c!==d||lo.current||Ro?("function"===typeof l&&(ai(t,l,u),d=t.memoizedState),(l=Ro||ui(t,i,u,c,d,a))?(s||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(u,d,a),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(u,d,a)),"function"===typeof r.componentDidUpdate&&(t.effectTag|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=u,t.memoizedState=d),r.props=u,r.state=d,r.context=a,r=l):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Oi(e,t,r,o,n);case 3:return Ii(t),null!==(o=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,Ko(t,o,t.pendingProps,null,n),(o=t.memoizedState.element)===r?(xi(),e=Di(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(gi=ro(t.stateNode.containerInfo),vi=t,r=_i=!0),r?(t.effectTag|=2,t.child=yi(t,null,o,n)):(xi(),Ti(e,t,o)),e=t.child)):(xi(),e=Di(e,t)),e;case 5:return ni(ti.current),(o=ni(Zo.current))!==(r=kr(o,t.type))&&(uo(ei,t),uo(Zo,r)),null===e&&Ei(t),o=t.type,u=t.memoizedProps,r=t.pendingProps,i=null!==e?e.memoizedProps:null,lo.current||u!==r||((u=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),u&&1073741823===n)?(u=r.children,Jr(o,r)?u=null:i&&Jr(o,i)&&(t.effectTag|=16),ki(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(Ti(e,t,u),t.memoizedProps=r,e=t.child)):e=Di(e,t),e;case 6:return null===e&&Ei(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return ri(t,t.stateNode.containerInfo),o=t.pendingProps,lo.current||t.memoizedProps!==o?(null===e?t.child=mi(t,null,o,n):Ti(e,t,o),t.memoizedProps=o,e=t.child):e=Di(e,t),e;case 14:return o=t.type.render,n=t.pendingProps,r=t.ref,lo.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(Ti(e,t,o=o(n,r)),t.memoizedProps=n,e=t.child):e=Di(e,t),e;case 10:return n=t.pendingProps,lo.current||t.memoizedProps!==n?(Ti(e,t,n),t.memoizedProps=n,e=t.child):e=Di(e,t),e;case 11:return n=t.pendingProps.children,lo.current||null!==n&&t.memoizedProps!==n?(Ti(e,t,n),t.memoizedProps=n,e=t.child):e=Di(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=Di(e,t):(Ti(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return function(e,t,n){var r=t.type._context,o=t.pendingProps,i=t.memoizedProps,a=!0;if(lo.current)a=!1;else if(i===o)return t.stateNode=0,Qo(t),Di(e,t);var s=o.value;if(t.memoizedProps=o,null===i)s=1073741823;else if(i.value===o.value){if(i.children===o.children&&a)return t.stateNode=0,Qo(t),Di(e,t);s=0}else{var u=i.value;if(u===s&&(0!==u||1/u===1/s)||u!==u&&s!==s){if(i.children===o.children&&a)return t.stateNode=0,Qo(t),Di(e,t);s=0}else if(s="function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823,0===(s|=0)){if(i.children===o.children&&a)return t.stateNode=0,Qo(t),Di(e,t)}else Mi(t,r,s,n)}return t.stateNode=s,Qo(t),Ti(e,t,o.children),t.child}(e,t,n);case 12:e:if(r=t.type,i=t.pendingProps,u=t.memoizedProps,o=r._currentValue,a=r._changedBits,lo.current||0!==a||u!==i){if(t.memoizedProps=i,void 0!==(s=i.unstable_observedBits)&&null!==s||(s=1073741823),t.stateNode=s,0!==(a&s))Mi(t,r,a,n);else if(u===i){e=Di(e,t);break e}n=(n=i.children)(o),t.effectTag|=1,Ti(e,t,n),e=t.child}else e=Di(e,t);return e;default:h("156")}}function Ri(e){e.effectTag|=4}var ji=void 0,Ni=void 0,zi=void 0;function Fi(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return yo(t),null;case 3:oi(),vo();var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Pi(t),t.effectTag&=-3),ji(t),null;case 5:ii(t),r=ni(ti.current);var o=t.type;if(null!==e&&null!=t.stateNode){var i=e.memoizedProps,a=t.stateNode,s=ni(Zo.current);a=Wr(a,o,i,n,r),Ni(e,t,a,o,i,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&h("166"),null;if(e=ni(Zo.current),Pi(t))n=t.stateNode,o=t.type,i=t.memoizedProps,n[q]=t,n[B]=i,r=Vr(n,o,i,e,r),t.updateQueue=r,null!==r&&Ri(t);else{(e=qr(o,n,r,e))[q]=t,e[B]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}Kr(e,o,n,r),Xr(o,n)&&Ri(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)zi(e,t,e.memoizedProps,n);else{if("string"!==typeof n)return null===t.stateNode&&h("166"),null;r=ni(ti.current),ni(Zo.current),Pi(t)?(r=t.stateNode,n=t.memoizedProps,r[q]=t,Gr(r,n)&&Ri(t)):((r=Br(n,r))[q]=t,t.stateNode=r)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return oi(),ji(t),null;case 13:return Xo(t),null;case 12:return null;case 0:h("167");default:h("156")}}function Ui(e,t){var n=t.source;null===t.stack&&null!==n&&bt(n),null!==n&&_t(n),t=t.value,null!==e&&2===e.tag&&_t(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Li(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){ma(e,t)}else t.current=null}function qi(e){switch(Ao(e),e.tag){case 2:Li(e);var t=e.stateNode;if("function"===typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ma(e,t)}break;case 5:Li(e);break;case 4:Wi(e)}}function Bi(e){return 5===e.tag||3===e.tag||4===e.tag}function Ki(e){e:{for(var t=e.return;null!==t;){if(Bi(t)){var n=t;break e}t=t.return}h("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:h("161")}16&n.effectTag&&(Dr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Bi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)if(n)if(r){var i=t,a=o.stateNode,s=n;8===i.nodeType?i.parentNode.insertBefore(a,s):i.insertBefore(a,s)}else t.insertBefore(o.stateNode,n);else r?(i=t,a=o.stateNode,8===i.nodeType?i.parentNode.insertBefore(a,i):i.appendChild(a)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Wi(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&h("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,a=i;;)if(qi(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===i)break;for(;null===a.sibling;){if(null===a.return||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o?(i=r,a=t.stateNode,8===i.nodeType?i.parentNode.removeChild(a):i.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:qi(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function Hi(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&(n[B]=r,Hr(n,i,o,e,r))}break;case 6:null===t.stateNode&&h("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:h("163")}}function Vi(e,t,n){(n=zo(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ja(r),Ui(e,t)},n}function Gi(e,t,n){(n=zo(n)).tag=3;var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){null===la?la=new Set([this]):la.add(this);var n=t.value,r=t.stack;Ui(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function $i(e,t,n,r,o,i){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=Vo(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Lo(e,r=Vi(e,r,i),i);case 2:if(t=r,n=e.stateNode,0===(64&e.effectTag)&&null!==n&&"function"===typeof n.componentDidCatch&&(null===la||!la.has(n)))return e.effectTag|=1024,void Lo(e,r=Gi(e,t,i),i)}e=e.return}while(null!==e)}function Yi(e){switch(e.tag){case 2:yo(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return oi(),vo(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return ii(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return oi(),null;case 13:return Xo(e),null;default:return null}}ji=function(){},Ni=function(e,t,n){(t.updateQueue=n)&&Ri(t)},zi=function(e,t,n,r){n!==r&&Ri(t)};var Qi=Zr(),Xi=2,Ji=Qi,Zi=0,ea=0,ta=!1,na=null,ra=null,oa=0,ia=-1,aa=!1,sa=null,ua=!1,ca=!1,la=null;function fa(){if(null!==na)for(var e=na.return;null!==e;){var t=e;switch(t.tag){case 2:yo(t);break;case 3:oi(),vo();break;case 5:ii(t);break;case 4:oi();break;case 13:Xo(t)}e=e.return}ra=null,oa=0,ia=-1,aa=!1,na=null,ca=!1}function ha(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0===(512&e.effectTag)){t=Fi(t,e);var o=e;if(1073741823===oa||1073741823!==o.expirationTime){var i=0;switch(o.tag){case 3:case 2:var a=o.updateQueue;null!==a&&(i=a.expirationTime)}for(a=o.child;null!==a;)0!==a.expirationTime&&(0===i||i>a.expirationTime)&&(i=a.expirationTime),a=a.sibling;o.expirationTime=i}if(null!==t)return t;if(null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ca=!0;break}e=n}else{if(null!==(e=Yi(e)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function da(e){var t=Ai(e.alternate,e,oa);return null===t&&(t=ha(e)),it.current=null,t}function pa(e,t,n){ta&&h("243"),ta=!0,t===oa&&e===ra&&null!==na||(fa(),oa=t,ia=-1,na=So((ra=e).current,null,oa),e.pendingCommitExpirationTime=0);var r=!1;for(aa=!n||oa<=Xi;;){try{if(n)for(;null!==na&&!Xa();)na=da(na);else for(;null!==na;)na=da(na)}catch(t){if(null===na)r=!0,Ja(t);else{null===na&&h("271");var o=(n=na).return;if(null===o){r=!0,Ja(t);break}$i(e,o,n,t,0,oa),na=ha(n)}}break}if(ta=!1,r)return null;if(null===na){if(ca)return e.pendingCommitExpirationTime=t,e.current.alternate;aa&&h("262"),0<=ia&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Ba(e,t)},ia),function(e){null===Ca&&h("246"),Ca.remainingExpirationTime=e}(e.current.expirationTime)}return null}function ma(e,t){var n;e:{for(ta&&!ua&&h("263"),n=e.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof r.componentDidCatch&&(null===la||!la.has(r))){Uo(n,e=Gi(n,e=Vo(t,e),1),1),ga(n,1),n=void 0;break e}break;case 3:Uo(n,e=Vi(n,e=Vo(t,e),1),1),ga(n,1),n=void 0;break e}n=n.return}3===e.tag&&(Uo(e,n=Vi(e,n=Vo(t,e),1),1),ga(e,1)),n=void 0}return n}function ya(){var e=2+25*(1+((_a()-2+500)/25|0));return e<=Zi&&(e=Zi+1),Zi=e}function va(e,t){return e=0!==ea?ea:ta?ua?1:oa:1&t.mode?Na?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Na&&(0===Oa||e>Oa)&&(Oa=e),e}function ga(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!ta&&0!==oa&&t<oa&&fa();var r=n.current.expirationTime;ta&&!ua&&ra===n||Ba(n,r),Ua>Fa&&h("185")}e=e.return}}function _a(){return Ji=Zr()-Qi,Xi=2+(Ji/10|0)}function ba(e){var t=ea;ea=2+25*(1+((_a()-2+500)/25|0));try{return e()}finally{ea=t}}function wa(e,t,n,r,o){var i=ea;ea=1;try{return e(t,n,r,o)}finally{ea=i}}var Ea=null,Sa=null,Pa=0,xa=void 0,Ta=!1,Ca=null,ka=0,Oa=0,Ia=!1,Ma=!1,Da=null,Aa=null,Ra=!1,ja=!1,Na=!1,za=null,Fa=1e3,Ua=0,La=1;function qa(e){if(0!==Pa){if(e>Pa)return;null!==xa&&to(xa)}var t=Zr()-Qi;Pa=e,xa=eo(Wa,{timeout:10*(e-2)-t})}function Ba(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===Sa?(Ea=Sa=e,e.nextScheduledRoot=e):(Sa=Sa.nextScheduledRoot=e).nextScheduledRoot=Ea;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}Ta||(Ra?ja&&(Ca=e,ka=1,Ya(e,1,!1)):1===t?Ha():qa(t))}function Ka(){var e=0,t=null;if(null!==Sa)for(var n=Sa,r=Ea;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===Sa)&&h("244"),r===r.nextScheduledRoot){Ea=Sa=r.nextScheduledRoot=null;break}if(r===Ea)Ea=o=r.nextScheduledRoot,Sa.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===Sa){(Sa=n).nextScheduledRoot=Ea,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=r),r===Sa)break;n=r,r=r.nextScheduledRoot}}null!==(n=Ca)&&n===t&&1===e?Ua++:Ua=0,Ca=t,ka=e}function Wa(e){Va(0,!0,e)}function Ha(){Va(1,!1,null)}function Va(e,t,n){if(Aa=n,Ka(),t)for(;null!==Ca&&0!==ka&&(0===e||e>=ka)&&(!Ia||_a()>=ka);)_a(),Ya(Ca,ka,!Ia),Ka();else for(;null!==Ca&&0!==ka&&(0===e||e>=ka);)Ya(Ca,ka,!1),Ka();null!==Aa&&(Pa=0,xa=null),0!==ka&&qa(ka),Aa=null,Ia=!1,$a()}function Ga(e,t){Ta&&h("253"),Ca=e,ka=t,Ya(e,t,!1),Ha(),$a()}function $a(){if(Ua=0,null!==za){var e=za;za=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Ma||(Ma=!0,Da=e)}}}if(Ma)throw e=Da,Da=null,Ma=!1,e}function Ya(e,t,n){Ta&&h("245"),Ta=!0,n?null!==(n=e.finishedWork)?Qa(e,n,t):null!==(n=pa(e,t,!0))&&(Xa()?e.finishedWork=n:Qa(e,n,t)):null!==(n=e.finishedWork)?Qa(e,n,t):null!==(n=pa(e,t,!1))&&Qa(e,n,t),Ta=!1}function Qa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===za?za=[r]:za.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,ua=ta=!0,(n=t.stateNode).current===t&&h("177"),0===(r=n.pendingCommitExpirationTime)&&h("261"),n.pendingCommitExpirationTime=0,_a(),it.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var o=t.firstEffect}else o=t;else o=t.firstEffect;Yr=On;var i=u();if(Bn(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch(e){a=null;break e}var d=0,p=-1,m=-1,y=0,v=0,g=i,_=null;t:for(;;){for(var b;g!==a||0!==c&&3!==g.nodeType||(p=d+c),g!==f||0!==s&&3!==g.nodeType||(m=d+s),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)_=g,g=b;for(;;){if(g===i)break t;if(_===a&&++y===c&&(p=d),_===f&&++v===s&&(m=d),null!==(b=g.nextSibling))break;_=(g=_).parentNode}g=b}a=-1===p||-1===m?null:{start:p,end:m}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qr={focusedElem:i,selectionRange:a},In(!1),sa=o;null!==sa;){i=!1,a=void 0;try{for(;null!==sa;){if(256&sa.effectTag){var w=sa.alternate;switch((c=sa).tag){case 2:if(256&c.effectTag&&null!==w){var E=w.memoizedProps,S=w.memoizedState,P=c.stateNode;P.props=c.memoizedProps,P.state=c.memoizedState;var x=P.getSnapshotBeforeUpdate(E,S);P.__reactInternalSnapshotBeforeUpdate=x}break;case 3:case 5:case 6:case 4:break;default:h("163")}}sa=sa.nextEffect}}catch(e){i=!0,a=e}i&&(null===sa&&h("178"),ma(sa,a),null!==sa&&(sa=sa.nextEffect))}for(sa=o;null!==sa;){w=!1,E=void 0;try{for(;null!==sa;){var T=sa.effectTag;if(16&T&&Dr(sa.stateNode,""),128&T){var C=sa.alternate;if(null!==C){var k=C.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(14&T){case 2:Ki(sa),sa.effectTag&=-3;break;case 6:Ki(sa),sa.effectTag&=-3,Hi(sa.alternate,sa);break;case 4:Hi(sa.alternate,sa);break;case 8:Wi(S=sa),S.return=null,S.child=null,S.alternate&&(S.alternate.child=null,S.alternate.return=null)}sa=sa.nextEffect}}catch(e){w=!0,E=e}w&&(null===sa&&h("178"),ma(sa,E),null!==sa&&(sa=sa.nextEffect))}if(k=Qr,C=u(),T=k.focusedElem,w=k.selectionRange,C!==T&&l(document.documentElement,T)){null!==w&&Bn(T)&&(C=w.start,void 0===(k=w.end)&&(k=C),"selectionStart"in T?(T.selectionStart=C,T.selectionEnd=Math.min(k,T.value.length)):window.getSelection&&(C=window.getSelection(),E=T[pe()].length,k=Math.min(w.start,E),w=void 0===w.end?k:Math.min(w.end,E),!C.extend&&k>w&&(E=w,w=k,k=E),E=qn(T,k),S=qn(T,w),E&&S&&(1!==C.rangeCount||C.anchorNode!==E.node||C.anchorOffset!==E.offset||C.focusNode!==S.node||C.focusOffset!==S.offset)&&((P=document.createRange()).setStart(E.node,E.offset),C.removeAllRanges(),k>w?(C.addRange(P),C.extend(S.node,S.offset)):(P.setEnd(S.node,S.offset),C.addRange(P))))),C=[];for(k=T;k=k.parentNode;)1===k.nodeType&&C.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof T.focus&&T.focus(),T=0;T<C.length;T++)(k=C[T]).element.scrollLeft=k.left,k.element.scrollTop=k.top}for(Qr=null,In(Yr),Yr=null,n.current=t,sa=o;null!==sa;){o=!1,T=void 0;try{for(C=r;null!==sa;){var O=sa.effectTag;if(36&O){var I=sa.alternate;switch(w=C,(k=sa).tag){case 2:var M=k.stateNode;if(4&k.effectTag)if(null===I)M.props=k.memoizedProps,M.state=k.memoizedState,M.componentDidMount();else{var D=I.memoizedProps,A=I.memoizedState;M.props=k.memoizedProps,M.state=k.memoizedState,M.componentDidUpdate(D,A,M.__reactInternalSnapshotBeforeUpdate)}var R=k.updateQueue;null!==R&&(M.props=k.memoizedProps,M.state=k.memoizedState,Ho(k,R,M));break;case 3:var j=k.updateQueue;if(null!==j){if(E=null,null!==k.child)switch(k.child.tag){case 5:E=k.child.stateNode;break;case 2:E=k.child.stateNode}Ho(k,j,E)}break;case 5:var N=k.stateNode;null===I&&4&k.effectTag&&Xr(k.type,k.memoizedProps)&&N.focus();break;case 6:case 4:case 15:case 16:break;default:h("163")}}if(128&O){k=void 0;var z=sa.ref;if(null!==z){var F=sa.stateNode;switch(sa.tag){case 5:k=F;break;default:k=F}"function"===typeof z?z(k):z.current=k}}var U=sa.nextEffect;sa.nextEffect=null,sa=U}}catch(e){o=!0,T=e}o&&(null===sa&&h("178"),ma(sa,T),null!==sa&&(sa=sa.nextEffect))}ta=ua=!1,Do(t.stateNode),0===(t=n.current.expirationTime)&&(la=null),e.remainingExpirationTime=t}function Xa(){return!(null===Aa||Aa.timeRemaining()>La)&&(Ia=!0)}function Ja(e){null===Ca&&h("246"),Ca.remainingExpirationTime=0,Ma||(Ma=!0,Da=e)}function Za(e,t){var n=Ra;Ra=!0;try{return e(t)}finally{(Ra=n)||Ta||Ha()}}function es(e,t){if(Ra&&!ja){ja=!0;try{return e(t)}finally{ja=!1}}return e(t)}function ts(e,t){Ta&&h("187");var n=Ra;Ra=!0;try{return wa(e,t)}finally{Ra=n,Ha()}}function ns(e,t,n){if(Na)return e(t,n);Ra||Ta||0===Oa||(Va(Oa,!1,null),Oa=0);var r=Na,o=Ra;Ra=Na=!0;try{return e(t,n)}finally{Na=r,(Ra=o)||Ta||Ha()}}function rs(e){var t=Ra;Ra=!0;try{wa(e)}finally{(Ra=t)||Ta||Va(1,!1,null)}}function os(e,t,n,r,o){var i=t.current;if(n){var a;n=n._reactInternalFiber;e:{for(2===an(n)&&2===n.tag||h("170"),a=n;3!==a.tag;){if(mo(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a.return)||h("171")}a=a.stateNode.context}n=mo(n)?_o(n,a):a}else n=f;return null===t.context?t.context=n:t.pendingContext=n,t=o,(o=zo(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Uo(i,o,r),ga(i,r),r}function is(e){var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?h("188"):h("268",Object.keys(e))),null===(e=cn(t))?null:e.stateNode}function as(e,t,n,r){var o=t.current;return os(e,t,n,o=va(_a(),o),r)}function ss(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function us(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Oo=Mo(function(e){return t.onCommitFiberRoot(n,e)}),Io=Mo(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(a({},e,{findHostInstanceByFiber:function(e){return null===(e=cn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var cs=Za,ls=ns,fs=function(){Ta||0===Oa||(Va(Oa,!1,null),Oa=0)};function hs(e){this._expirationTime=ya(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function ds(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ps(e,t,n){this._internalRoot=ko(e,t,n)}function ms(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ys(e,t,n,r,o){ms(n)||h("200");var i=n._reactRootContainer;if(i){if("function"===typeof o){var a=o;o=function(){var e=ss(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ps(e,!1,t)}(n,r),"function"===typeof o){var s=o;o=function(){var e=ss(i._internalRoot);s.call(e)}}es(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return ss(i._internalRoot)}function vs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ms(t)||h("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ut,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ue.injectFiberControlledHostComponent($r),hs.prototype.render=function(e){this._defer||h("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new ds;return os(e,t,null,n,r._onCommit),r},hs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},hs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||h("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r&&h("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,Ga(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},hs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},ds.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ds.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!==typeof n&&h("191",n),n()}}},ps.prototype.render=function(e,t){var n=this._internalRoot,r=new ds;return null!==(t=void 0===t?null:t)&&r.then(t),as(e,n,null,r._onCommit),r},ps.prototype.unmount=function(e){var t=this._internalRoot,n=new ds;return null!==(e=void 0===e?null:e)&&n.then(e),as(null,t,null,n._onCommit),n},ps.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new ds;return null!==(n=void 0===n?null:n)&&o.then(n),as(t,r,e,o._onCommit),o},ps.prototype.createBatch=function(){var e=new hs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ge=cs,$e=ls,Ye=fs;var gs={createPortal:vs,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:is(e)},hydrate:function(e,t,n){return ys(null,e,t,!0,n)},render:function(e,t,n){return ys(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&h("38"),ys(e,t,n,!1,r)},unmountComponentAtNode:function(e){return ms(e)||h("40"),!!e._reactRootContainer&&(es(function(){ys(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return vs.apply(void 0,arguments)},unstable_batchedUpdates:Za,unstable_deferredUpdates:ba,unstable_interactiveUpdates:ns,flushSync:ts,unstable_flushControlled:rs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:U,EventPluginRegistry:P,EventPropagators:ne,ReactControlledComponent:Ve,ReactDOMComponentTree:V,ReactDOMEventListener:jn},unstable_createRoot:function(e,t){return new ps(e,!0,null!=t&&!0===t.hydrate)}};us({findFiberByHostInstance:K,bundleType:0,version:"16.4.1",rendererPackageName:"react-dom"});var _s={default:gs},bs=_s&&gs||_s;e.exports=bs.default?bs.default:bs},function(e,t,n){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(54);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";t.a=s;var r=n(0),o=(n.n(r),n(23)),i=n.n(o),a=n(24);n(17);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",o=function(e){function o(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.prototype.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return o.propTypes={store:a.a.isRequired,children:i.a.element.isRequired},o.childContextTypes=((e={})[t]=a.a.isRequired,e[n]=a.b,e),o}t.b=s()},function(e,t,n){"use strict";var r=n(16),o=n(15),i=n(58);e.exports=function(){function e(e,t,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r;r=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function u(c,l,f){if("string"!==typeof l){if(s){var h=a(l);h&&h!==s&&u(c,h,f)}var d=r(l);o&&(d=d.concat(o(l)));for(var p=0;p<d.length;++p){var m=d[p];if(!e[m]&&!t[m]&&(!f||!f[m])){var y=i(l,m);try{n(c,m,y)}catch(e){}}}return c}return c}},e.exports=r()},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=null,o={notify:function(){}};var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=o}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=r,e=r},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var o=!0;return t===e&&(t=e.slice()),t.push(n),function(){o&&e!==r&&(o=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}()},function(e,t,n){"use strict";var r=n(25),o=n(63),i=n(64),a=n(77),s=n(78),u=n(79),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function f(e,t){return e===t}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?r.a:t,h=e.mapStateToPropsFactories,d=void 0===h?a.a:h,p=e.mapDispatchToPropsFactories,m=void 0===p?i.a:p,y=e.mergePropsFactories,v=void 0===y?s.a:y,g=e.selectorFactory,_=void 0===g?u.a:g;return function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.pure,s=void 0===a||a,u=i.areStatesEqual,h=void 0===u?f:u,p=i.areOwnPropsEqual,y=void 0===p?o.a:p,g=i.areStatePropsEqual,b=void 0===g?o.a:g,w=i.areMergedPropsEqual,E=void 0===w?o.a:w,S=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=l(e,d,"mapStateToProps"),x=l(t,m,"mapDispatchToProps"),T=l(r,v,"mergeProps");return n(_,c({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:x,initMergeProps:T,pure:s,areStatesEqual:h,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:E},S))}}()},function(e,t,n){"use strict";t.a=function(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0};var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}},function(e,t,n){"use strict";var r=n(18),o=n(26);t.a=[function(e){return"function"===typeof e?Object(o.b)(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:Object(o.a)(function(e){return{dispatch:e}})},function(e){return e&&"object"===typeof e?Object(o.a)(function(t){return Object(r.bindActionCreators)(e,t)}):void 0}]},function(e,t,n){"use strict";(function(e,r){var o,i=n(67);o="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(i.a)(o);t.a=a}).call(t,n(7),n(66)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.a=function(e){var t,n=e.Symbol;"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";var r=n(69),o=n(74),i=n(76),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.a=function(e){if(!Object(i.a)(e)||Object(r.a)(e)!=a)return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){"use strict";var r=n(28),o=n(72),i=n(73),a="[object Null]",s="[object Undefined]",u=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?Object(o.a)(e):Object(i.a)(e)}},function(e,t,n){"use strict";var r=n(71),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(7))},function(e,t,n){"use strict";var r=n(28),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;t.a=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t,n){"use strict";var r=Object.prototype.toString;t.a=function(e){return r.call(e)}},function(e,t,n){"use strict";var r=n(75),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(26);t.a=[function(e){return"function"===typeof e?Object(r.b)(e,"mapStateToProps"):void 0},function(e){return e?void 0:Object(r.a)(function(){return{}})}]},function(e,t,n){"use strict";n(27);var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e,t,n){return r({},n,e,t)}t.a=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return i?r&&o(u,a)||(a=u):(i=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return o}}]},function(e,t,n){"use strict";t.a=function(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,a=t.initMergeProps,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,s),c=i(e,s),l=a(e,s);0;return(s.pure?o:r)(u,c,l,e,s)};n(80);function r(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function o(e,t,n,r,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,s=o.areStatePropsEqual,u=!1,c=void 0,l=void 0,f=void 0,h=void 0,d=void 0;function p(o,u){var p,m,y=!a(u,l),v=!i(o,c);return c=o,l=u,y&&v?(f=e(c,l),t.dependsOnOwnProps&&(h=t(r,l)),d=n(f,h,l)):y?(e.dependsOnOwnProps&&(f=e(c,l)),t.dependsOnOwnProps&&(h=t(r,l)),d=n(f,h,l)):v?(p=e(c,l),m=!s(p,f),f=p,m&&(d=n(f,h,l)),d):d}return function(o,i){return u?p(o,i):(f=e(c=o,l=i),h=t(r,l),d=n(f,h,l),u=!0,d)}}},function(e,t,n){"use strict";n(17)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(82),i=n(3),a=n(29);class s extends o.default{constructor(){super("gameDB"),this.version(1).stores({saveTable:",galaxySave,mapViewSave"})}save(e){return this.saveTable.put(e,0)}getSave(){return this.saveTable.get(0)}}class u{constructor(){this.db=new s,this.isJustReloadedLocal=!0,this.isDirty2=!1,this.isDirty=(()=>this.isDirty2),this.resetDirty=(()=>{this.isDirty2=!1})}static tryLoad(){return r(this,void 0,void 0,function*(){const e=yield(new s).getSave();return(new u).reload(e)})}getReader(){return this.galaxyReadProxy}getWriter(){return this.isDirty2=!0,this.galaxyWriteProxy}isJustReloaded(){const e=this.isJustReloadedLocal;return this.isJustReloadedLocal=!1,e}reload(e){this.isJustReloadedLocal=!0;let t=!0;if(e)try{this.galaxy=a.Galaxy.createFrom(e.galaxySave),t=!1}catch(e){this.galaxy=new a.Galaxy,this.galaxy.addPlanets(20,1)}else this.galaxy=new a.Galaxy,this.galaxy.addPlanets(20,1);return this.galaxyReadProxy=new c(this.galaxy),this.galaxyWriteProxy=new l(this.galaxy),{game:this,isNewGame:t}}serialize(){return{galaxySave:this.galaxy.serialize()}}save(){return r(this,void 0,void 0,function*(){const e=this.serialize();return this.db.save(e)})}}t.Game=u;class c{constructor(e){this.galaxy=e,this.exists=(e=>this.galaxy.exists(e)),this.getFleetSpeed=(e=>e.getSpeed(this.galaxy)),this.getCoor=(e=>this.galaxy.getCoor(e)),this.searchNearbyObjs=((e,t=0,n=0)=>this.galaxy.searchNearbyObjs(e,t,n)),this.getTradeRoutes=(()=>this.galaxy.getTradeRoutes()),this.getObjs=(()=>this.galaxy.getObjs()),this.getAngle=(e=>e.getAngle(this.galaxy)),this.getIndustries=(e=>this.galaxy.getIndustries(e)),this.prodCap=(e=>e.prodCap(this.galaxy)),this.usedEnergy=(e=>e.usedEnergy(this.galaxy)),this.getNumColonists=(()=>this.galaxy.getNumColonists()),this.growthRate=(e=>e.growthRate(this.galaxy)),this.getTotalPowerUsage=(e=>e.getTotalPowerUsage(this.galaxy)),this.getMoney=(()=>this.galaxy.getMoney()),this.canExpandPowerPlant=(e=>e.canExpandPowerPlant(this.galaxy)),this.getPowerUsageEff=(e=>e.getPowerUsageEff(this.galaxy)),this.getEnergyPrice=(e=>e.getEnergyPrice(this.galaxy)),this.getGalacticDemands=(e=>this.galaxy.getGalacticDemands(e)),this.getGalacticProdCap=(e=>this.galaxy.getGalacticProdCap(e)),this.getGalacticSupplies=(e=>this.galaxy.getGalacticSupplies(e)),this.getPlanet=(e=>this.galaxy.getObj(e,i.MapDataKind.Planet)),this.getNumUsedTraders=((e,t)=>this.galaxy.getNumUsedTraders(e,t)),this.getRouteFuelEff=((e,t)=>this.galaxy.getRouteFuelEff(e,t)),this.getNumUnusedTraders=(()=>this.galaxy.getNumUnusedTraders()),this.getYear=(()=>this.galaxy.getYear()),this.getDay=(()=>this.galaxy.getDay()),this.getScore=(()=>this.galaxy.getScore()),this.isRetired=(e=>e.isRetire()),this.getNumColonizedPlanets=(()=>this.galaxy.getNumColonizedPlanets()),this.calCenter=(()=>this.galaxy.calCenter())}}t.GalaxyReadProxy=c;class l{constructor(e){this.galaxy=e,this.colonizePlanet=((e,t)=>this.galaxy.colonizePlanet(e,t)),this.expandPowerPlant=(e=>{e.expandPowerPlanet(this.galaxy)}),this.withdraw=(e=>{this.galaxy.withdraw(e)}),this.shutdownIndustry=((e,t)=>{this.galaxy.shutdownIndustry(e,t)}),this.addIndustry=((e,t)=>this.galaxy.addIndustry(e,t)),this.addTradeFleet=((e,t)=>this.galaxy.addTradeFleet(e,t)),this.addTrader=(()=>this.galaxy.addTrader()),this.turn=(()=>this.galaxy.turn()),this.retire=(e=>{e.retire()})}}t.GalaxyWriteProxy=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,n){var r=Object.keys,o=Array.isArray,i="undefined"!==typeof self?self:"undefined"!==typeof window?window:e;function a(e,t){return"object"!==typeof t?e:(r(t).forEach(function(n){e[n]=t[n]}),e)}var s=Object.getPrototypeOf,u={}.hasOwnProperty;function c(e,t){return u.call(e,t)}function l(e,t){"function"===typeof t&&(t=t(s(e))),r(t).forEach(function(n){h(e,n,t[n])})}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,a(n&&c(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var m=[].slice;function y(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function g(e){if(!e)throw new Error("Assertion Failed")}function _(e){i.setImmediate?n(e):setTimeout(e,0)}function b(e,t){return e.reduce(function(e,n,r){var o=t(n,r);return o&&(e[o[0]]=o[1]),e},{})}function w(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function E(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function S(e,t){if(c(e,t))return e[t];if(!t)return e;if("string"!==typeof t){for(var n=[],r=0,o=t.length;r<o;++r){var i=S(e,t[r]);n.push(i)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:S(s,t.substr(a+1))}}function P(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!==typeof t&&"length"in t){g("string"!==typeof n&&"length"in n);for(var r=0,o=t.length;r<o;++r)P(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var a=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var u=e[a];u||(u=e[a]={}),P(u,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function x(e){var t={};for(var n in e)c(e,n)&&(t[n]=e[n]);return t}var T=[].concat;function C(e){return T.apply([],e)}var k="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(C([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return i[e]}).map(function(e){return i[e]});function O(e){if(!e||"object"!==typeof e)return e;var t;if(o(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(O(e[n]))}else if(k.indexOf(e.constructor)>=0)t=e;else for(var i in t=e.constructor?Object.create(e.constructor.prototype):{},e)c(e,i)&&(t[i]=O(e[i]));return t}function I(e,t,n,o){return n=n||{},o=o||"",r(e).forEach(function(r){if(c(t,r)){var i=e[r],a=t[r];"object"===typeof i&&"object"===typeof a&&i&&a&&""+i.constructor===""+a.constructor?I(i,a,n,o+r+"."):i!==a&&(n[o+r]=t[r])}else n[o+r]=void 0}),r(t).forEach(function(r){c(e,r)||(n[o+r]=t[r])}),n}var M="undefined"!==typeof Symbol&&Symbol.iterator,D=M?function(e){var t;return null!=e&&(t=e[M])&&t.apply(e)}:function(){return null},A={};function R(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===A&&"string"===typeof e)return[e];if(i=D(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"===typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var j="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function N(e,t){j=e,z=t}var z=function(){return!0},F=!new Error("").stack;function U(){if(F)try{throw U.arguments,new Error}catch(e){return e}return new Error}function L(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(z).map(function(e){return"\n"+e}).join("")):""}var q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],B=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(q),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function W(e,t){this._e=U(),this.name=e,this.message=t}function H(e,t,n,r){this._e=U(),this.failures=t,this.failedKeys=r,this.successCount=n}function V(e,t){this._e=U(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}(e,t)}d(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+L(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(H).from(W),d(V).from(W);var G=B.reduce(function(e,t){return e[t]=t+"Error",e},{}),$=W,Y=B.reduce(function(e,t){var n=t+"Error";function r(e,r){this._e=U(),this.name=n,e?"string"===typeof e?(this.message=e,this.inner=r||null):"object"===typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=K[t]||n,this.inner=null)}return d(r).from($),e[t]=r,e},{});Y.Syntax=SyntaxError,Y.Type=TypeError,Y.Range=RangeError;var Q=q.reduce(function(e,t){return e[t+"Error"]=Y[t],e},{});var X=B.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Y[t]),e},{});function J(){}function Z(e){return e}function ee(e,t){return null==e||e===Z?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===J?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0!==i?i:n}}function re(e,t){return e===J?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function oe(e,t){return e===J?t:function(n){var r=e.apply(this,arguments);a(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?te(o,this.onsuccess):o),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0===r?void 0===s?void 0:s:a(r,s)}}function ie(e,t){return e===J?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ae(e,t){return e===J?t:function(){var n=e.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}X.ModifyError=H,X.DexieError=W,X.BulkError=V;var se={},ue=100,ce=7,le=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=i.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),fe=le[0],he=le[1],de=le[2],pe=he&&he.then,me=fe&&fe.constructor,ye=le[3],ve=!!de,ge=!1,_e=de?function(){de.then(Le)}:i.setImmediate?n.bind(null,Le):i.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){Le(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Le,0)},be=function(e,t){Oe.push([e,t]),Ee&&(_e(),Ee=!1)},we=!0,Ee=!0,Se=[],Pe=[],xe=null,Te=Z,Ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ct,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{ct(e[0],e[1])}catch(e){}})}},ke=Ce,Oe=[],Ie=0,Me=[];function De(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=J,this._lib=!1;var t=this._PSD=ke;if(j&&(this._stackHolder=U(),this._prev=null,this._numPrev=0),"function"!==typeof e){if(e!==se)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&je(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&qe();n&&"function"===typeof n.then?e(t,function(e,t){n instanceof De?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Ne(t)),r&&Be()}},je.bind(null,t))}catch(e){je(t,e)}}(this,e)}var Ae={get:function(){var e=ke,t=Qe;function n(n,r){var o=this,i=!e.global&&(e!==ke||t!==Qe);i&&et();var a=new De(function(t,a){ze(o,new Re(at(n,e,i),at(r,e,i),t,a,e))});return j&&Ue(a,this),a}return n.prototype=se,n},set:function(e){h(this,"then",e&&e.prototype===se?Ae:{get:function(){return e},set:Ae.set})}};function Re(e,t,n,r,o){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=n,this.reject=r,this.psd=o}function je(e,t){if(Pe.push(t),null===e._state){var n=e._lib&&qe();t=Te(t),e._state=!1,e._value=t,j&&null!==t&&"object"===typeof t&&!t._promise&&E(function(){var n=function e(t,n){var r;return p(t,n)||(r=s(t))&&e(r,n)}(t,"stack");t._promise=e,h(t,"stack",{get:function(){return ge?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),function(e){Se.some(function(t){return t._value===e._value})||Se.push(e)}(e),Ne(e),n&&Be()}}function Ne(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ze(e,t[n]);var o=e._PSD;--o.ref||o.finalize(),0===Ie&&(++Ie,be(function(){0===--Ie&&Ke()},[]))}function ze(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ie,be(Fe,[n,e,t])}else e._listeners.push(t)}function Fe(e,t,n){try{xe=t;var r,o=t._value;t._state?r=e(o):(Pe.length&&(Pe=[]),r=e(o),-1===Pe.indexOf(o)&&function(e){var t=Se.length;for(;t;)if(Se[--t]._value===e._value)return void Se.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{xe=null,0===--Ie&&Ke(),--n.psd.ref||n.psd.finalize()}}function Ue(e,t){var n=t?t._numPrev+1:0;n<ue&&(e._prev=t,e._numPrev=n)}function Le(){qe()&&Be()}function qe(){var e=we;return we=!1,Ee=!1,e}function Be(){var e,t,n;do{for(;Oe.length>0;)for(e=Oe,Oe=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Oe.length>0);we=!0,Ee=!0}function Ke(){var e=Se;Se=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=Me.slice(0),n=t.length;n;)t[--n]()}function We(e){return new De(se,!1,e)}function He(e,t){var n=ke;return function(){var r=qe(),o=ke;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(o,!1),r&&Be()}}}l(De.prototype,{then:Ae,_then:function(e,t){ze(this,new Re(null,null,e,t,ke))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"===typeof t?this.then(null,function(e){return e instanceof t?n(e):We(e)}):this.then(null,function(e){return e&&e.name===t?n(e):We(e)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),We(t)})},stack:{get:function(){if(this._stack)return this._stack;try{ge=!0;var e=function e(t,n,r){if(n.length===r)return n;var o="";if(!1===t._state){var i,a,s=t._value;null!=s?(i=s.name||"Error",a=s.message||s,o=L(s,0)):(i=s,a=""),n.push(i+(a?": "+a:"")+o)}j&&((o=L(t._stackHolder,2))&&-1===n.indexOf(o)&&n.push(o),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ge=!1}}},timeout:function(e,t){var n=this;return e<1/0?new De(function(r,o){var i=setTimeout(function(){return o(new Y.Timeout(t))},e);n.then(r,o).finally(clearTimeout.bind(null,i))}):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&h(De.prototype,Symbol.toStringTag,"Promise"),Ce.env=ot(),l(De,{all:function(){var e=R.apply(null,arguments).map(tt);return new De(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(o,i){return De.resolve(o).then(function(n){e[i]=n,--r||t(e)},n)})})},resolve:function(e){if(e instanceof De)return e;if(e&&"function"===typeof e.then)return new De(function(t,n){e.then(t,n)});var t=new De(se,!0,e);return Ue(t,xe),t},reject:We,race:function(){var e=R.apply(null,arguments).map(tt);return new De(function(t,n){e.map(function(e){return De.resolve(e).then(t,n)})})},PSD:{get:function(){return ke},set:function(e){return ke=e}},newPSD:Je,usePSD:it,scheduler:{get:function(){return be},set:function(e){be=e}},rejectionMapper:{get:function(){return Te},set:function(e){Te=e}},follow:function(e,t){return new De(function(n,r){return Je(function(t,n){var r=ke;r.unhandleds=[],r.onunhandled=n,r.finalize=te(function(){var e=this;!function(e){Me.push(function t(){e();Me.splice(Me.indexOf(t),1)}),++Ie,be(function(){0===--Ie&&Ke()},[])}(function(){0===e.unhandleds.length?t():n(e.unhandleds[0])})},r.finalize),e()},t,n,r)})}});var Ve={awaits:0,echoes:0,id:0},Ge=0,$e=[],Ye=0,Qe=0,Xe=0;function Je(e,t,n,r){var o=ke,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Xe;var s=Ce.env;i.env=ve?{Promise:De,PromiseProp:{value:De,configurable:!0,writable:!0},all:De.all,race:De.race,resolve:De.resolve,reject:De.reject,nthen:st(s.nthen,i),gthen:st(s.gthen,i)}:{},t&&a(i,t),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=it(i,e,n,r);return 0===i.ref&&i.finalize(),u}function Ze(){return Ve.id||(Ve.id=++Ge),++Ve.awaits,Ve.echoes+=ce,Ve.id}function et(e){!Ve.awaits||e&&e!==Ve.id||(0===--Ve.awaits&&(Ve.id=0),Ve.echoes=Ve.awaits*ce)}function tt(e){return Ve.echoes&&e&&e.constructor===me?(Ze(),e.then(function(e){return et(),e},function(e){return et(),lt(e)})):e}function nt(){var e=$e[$e.length-1];$e.pop(),rt(e,!1)}function rt(e,t){var n,r=ke;if((t?!Ve.echoes||Ye++&&e===ke:!Ye||--Ye&&e===ke)||(n=t?function(e){++Qe,Ve.echoes&&0!==--Ve.echoes||(Ve.echoes=Ve.id=0),$e.push(ke),rt(e,!0)}.bind(null,e):nt,pe.call(fe,n)),e!==ke&&(ke=e,r===Ce&&(Ce.env=ot()),ve)){var o=Ce.env.Promise,a=e.env;he.then=a.nthen,o.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(i,"Promise",a.PromiseProp),o.all=a.all,o.race=a.race,o.resolve=a.resolve,o.reject=a.reject)}}function ot(){var e=i.Promise;return ve?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:he.then,gthen:e.prototype.then}:{}}function it(e,t,n,r,o){var i=ke;try{return rt(e,!0),t(n,r,o)}finally{rt(i,!1)}}function at(e,t,n){return"function"!==typeof e?e:function(){var r=ke;n&&Ze(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function st(e,t){return function(n,r){return e.call(this,at(n,t,!1),at(r,t,!1))}}var ut="unhandledrejection";function ct(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,o={promise:t,reason:e};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ut,!0,!0),a(r,o)):i.CustomEvent&&a(r=new CustomEvent(ut,{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var lt=De.reject;function ft(e){var t={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return t[n].subscribe.apply(null,i),e}if("string"===typeof n)return t[n]};n.addEventType=s;for(var i=1,a=arguments.length;i<a;++i)s(arguments[i]);return n;function s(e,i,a){if("object"!==typeof e){var u;i||(i=ie),a||(a=J);var c={subscribers:[],fire:a,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=i(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(i,a)}};return t[e]=n[e]=c,c}r(u=e).forEach(function(e){var t=u[e];if(o(t))s(e,u[e][0],u[e][1]);else{if("asap"!==t)throw new Y.InvalidArgument("Invalid event config");var n=s(e,Z,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){_(function(){e.apply(null,t)})})})}})}}var ht,dt=String.fromCharCode(65535),pt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return dt}}(),mt=-1/0,yt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vt="String expected.",gt=[],_t="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),bt=_t,wt=_t,Et=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function St(e,t){var n,s,u,f,d,p=St.dependencies,m=a({addons:St.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},t),_=m.addons,T=m.autoOpen,k=m.indexedDB,M=m.IDBKeyRange,D=this._dbSchema={},N=[],z=[],F={},q=null,B=null,K=!1,W=null,G=!1,$="readwrite",Q=this,X=new De(function(e){n=e}),te=new De(function(e,t){s=t}),ie=!0,se=!!Rt(k);function ue(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ce(e,t,n){var o=Q._createTransaction($,z,D);o.create(t),o._completion.catch(n);var i=o._reject.bind(o);Je(function(){ke.trans=o,0===e?(r(D).forEach(function(e){le(t,e,D[e].primKey,D[e].indexes)}),De.follow(function(){return Q.on.populate.fire(o)}).catch(i)):function(e,t,n){var o=[],i=N.filter(function(t){return t._cfg.version===e})[0];if(!i)throw new Y.Upgrade("Dexie specification of currently installed DB version is missing");D=Q._dbSchema=i._cfg.dbschema;var a=!1;return N.filter(function(t){return t._cfg.version>e}).forEach(function(e){o.push(function(){var r=D,o=e._cfg.dbschema;Ae(r,n),Ae(o,n),D=Q._dbSchema=o;var i=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var o=e[r],i=t[r];if(o){var a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)a.recreate=!0,n.change.push(a);else{var s=o.idxByName,u=i.idxByName;for(var c in s)u[c]||a.del.push(c);for(c in u){var l=s[c],f=u[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}(r,o);if(i.add.forEach(function(e){le(n,e[0],e[1].primKey,e[1].indexes)}),i.change.forEach(function(e){if(e.recreate)throw new Y.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach(function(e){fe(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),fe(t,e)}),e.del.forEach(function(e){t.deleteIndex(e)})}),e._cfg.contentUpgrade)return a=!0,De.follow(function(){e._cfg.contentUpgrade(t)})}),o.push(function(t){a&&bt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)})}),function e(){return o.length?De.resolve(o.shift()(t.idbtrans)).then(e):De.resolve()}().then(function(){!function(e,t){r(e).forEach(function(n){t.db.objectStoreNames.contains(n)||le(t,n,e[n].primKey,e[n].indexes)})}(D,n)})}(e,o,t).catch(i)})}function le(e,t,n,r){var o=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){fe(o,e)}),o}function fe(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function he(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=F[e]?F[e].hook:ft(null,{creating:[ne,J],reading:[ee,Z],updating:[oe,J],deleting:[re,J]})}function de(e,t,n){return(n?kt:Tt)(function(n){e.push(n),t&&t()})}function pe(e,t,n,r,o){return new De(function(i,a){var s=n.length,u=s-1;if(0===s)return i();if(r){var c,l=kt(a),f=xt(null);E(function(){for(var r=0;r<s;++r){c={onsuccess:null,onerror:null};var a=n[r];o.call(c,a[0],a[1],t);var h=e.delete(a[0]);h._hookCtx=c,h.onerror=l,h.onsuccess=r===u?xt(i):f}},function(e){throw c.onerror&&c.onerror(e),e})}else for(var h=0;h<s;++h){var d=e.delete(n[h]);d.onerror=Tt(a),h===u&&(d.onsuccess=He(function(){return i()}))}})}function ve(e,t,n,r){var o=this;this.db=Q,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=ft(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new De(function(e,t){o._resolve=e,o._reject=t}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),lt(e)})}function ge(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function _e(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var o=e._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function be(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function we(e,t){return e._cfg.version-t._cfg.version}function Ee(e,t,n){t.forEach(function(t){var r=n[t];e.forEach(function(e){t in e||(e===ve.prototype||e instanceof ve?h(e,t,{get:function(){return this.table(t)}}):e[t]=new he(t,r))})})}function Se(e,t,n,r,o,i){var a=He(i?function(e,t,r){return n(i(e),t,r)}:n,o);e.onerror||(e.onerror=Tt(o)),e.onsuccess=w(t?function(){var n=e.result;if(n){var i=function(){n.continue()};t(n,function(e){i=e},r,o)&&a(n.value,n,function(e){i=e}),i()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};a(t.value,t,function(e){n=e}),n()}else r()},o)}function Pe(e,t){return k.cmp(e,t)}function xe(e,t){return Pe(e,t)>0?e:t}function Te(e,t){return k.cmp(e,t)}function Ce(e,t){return k.cmp(t,e)}function Oe(e,t){return e<t?-1:e===t?0:1}function Ie(e,t){return e>t?-1:e===t?0:1}function Me(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function Ae(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],a=t.objectStore(o);u="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var c=a.indexNames[s],l=a.index(c).keyPath,f="string"===typeof l?l:"["+y(l).join("+")+"]";if(e[o]){var h=e[o].idxByName[f];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u=!1)}function Re(e){Q.on("blocked").fire(e),gt.filter(function(e){return e.name===Q.name&&e!==Q&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}this.version=function(e){if(q||K)throw new Y.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=N.filter(function(t){return t._cfg.version===e})[0];return t||(t=new ue(e),N.push(t),N.sort(we),ie=!1,t)},a(ue.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var t={};N.forEach(function(e){a(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),D=Q._dbSchema=n,[F,Q,ve.prototype].forEach(function(e){for(var t in e)e[t]instanceof he&&delete e[t]}),Ee([F,Q,ve.prototype,this._cfg.tables],r(n),n),z=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach(function(n){if(null!==e[n]){var r={},i=function(e){var t=[];return e.split(",").forEach(function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new Mt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),/\./.test(e)))}),t}(e[n]),a=i.shift();if(a.multi)throw new Y.Schema("Primary key cannot be multi-valued");a.keyPath&&P(r,a.keyPath,a.auto?0:a.keyPath),i.forEach(function(e){if(e.auto)throw new Y.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Y.Schema("Index must have a name and cannot be an empty string");P(r,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new Dt(n,a,i,r)}})}}),this._allTables=F,this._createTransaction=function(e,t,n,r){return new ve(e,t,n,r)},this._whenReady=function(e){return G||ke.letThrough?e():new De(function(e,t){if(!K){if(!T)return void t(new Y.DatabaseClosed);Q.open().catch(J)}X.then(e,t)}).then(e)},this.verno=0,this.open=function(){if(K||q)return X.then(function(){return B?lt(B):Q});j&&(te._stackHolder=U()),K=!0,B=null,G=!1;var t=n,o=null;return De.race([te,new De(function(t,n){if(!k)throw new Y.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=ie?k.open(e):k.open(e,Math.round(10*Q.verno));if(!i)throw new Y.MissingAPI("IndexedDB API not available");i.onerror=Tt(n),i.onblocked=He(Re),i.onupgradeneeded=He(function(t){if(o=i.transaction,ie&&!Q._allowEmptyDB){i.onerror=Ot,o.abort(),i.result.close();var r=k.deleteDatabase(e);r.onsuccess=r.onerror=He(function(){n(new Y.NoSuchDatabase("Database "+e+" doesnt exist"))})}else{o.onerror=Tt(n),ce((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,o,n)}},n),i.onsuccess=He(function(){if(o=null,q=i.result,gt.push(Q),ie)!function(){if(Q.verno=q.version/10,Q._dbSchema=D={},0===(z=y(q.objectStoreNames,0)).length)return;var e=q.transaction(At(z),"readonly");z.forEach(function(t){for(var n=e.objectStore(t),r=n.keyPath,o=r&&"string"===typeof r&&-1!==r.indexOf("."),i=new Mt(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!==typeof r,o),a=[],s=0;s<n.indexNames.length;++s){var u=n.index(n.indexNames[s]);r=u.keyPath,o=r&&"string"===typeof r&&-1!==r.indexOf(".");var c=new Mt(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!==typeof r,o);a.push(c)}D[t]=new Dt(t,i,a,{})}),Ee([F],r(D),D)}();else if(q.objectStoreNames.length>0)try{Ae(D,q.transaction(At(q.objectStoreNames),"readonly"))}catch(e){}q.onversionchange=He(function(e){Q._vcFired=!0,Q.on("versionchange").fire(e)}),se||"__dbnames"===e||ht.dbnames.put({name:e}).catch(J),t()},n)})]).then(function(){return W=[],De.resolve(St.vip(Q.on.ready.fire)).then(function e(){if(W.length>0){var t=W.reduce(ae,J);return W=[],De.resolve(St.vip(t)).then(e)}})}).finally(function(){W=null}).then(function(){return K=!1,Q}).catch(function(e){try{o&&o.abort()}catch(e){}return K=!1,Q.close(),lt(B=e)}).finally(function(){G=!0,t()})},this.close=function(){var e=gt.indexOf(Q);if(e>=0&&gt.splice(e,1),q){try{q.close()}catch(e){}q=null}T=!1,B=new Y.DatabaseClosed,K&&s(B),X=new De(function(e){n=e}),te=new De(function(e,t){s=t})},this.delete=function(){var t=arguments.length>0;return new De(function(n,r){if(t)throw new Y.InvalidArgument("Arguments not allowed in db.delete()");function o(){Q.close();var t=k.deleteDatabase(e);t.onsuccess=He(function(){se||ht.dbnames.delete(e).catch(J),n()}),t.onerror=Tt(r),t.onblocked=Re}K?X.then(o):o()})},this.backendDB=function(){return q},this.isOpen=function(){return null!==q},this.hasBeenClosed=function(){return B&&B instanceof Y.DatabaseClosed},this.hasFailed=function(){return null!==B},this.dynamicallyOpened=function(){return ie},this.name=e,l(this,{tables:{get:function(){return r(F).map(function(e){return F[e]})}}}),this.on=ft(this,"populate","blocked","versionchange",{ready:[ae,J]}),this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){St.vip(function(){G?(B||De.resolve().then(t),n&&e(t)):W?(W.push(t),n&&e(t)):(e(t),n||e(function e(){Q.on.ready.unsubscribe(t),Q.on.ready.unsubscribe(e)}))})}}),this.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new Y.InvalidArgument("Too few arguments");var o=new Array(r-1);for(;--r;)o[r-1]=arguments[r];n=o.pop();var i=C(o);return[e,i,n]}.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=ke.trans;r&&r.db===Q&&-1===e.indexOf("!")||(r=null);var o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var i=t.map(function(e){var t=e instanceof he?e.name:e;if("string"!==typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=$)throw new Y.InvalidArgument("Invalid transaction mode: "+e);e=$}if(r){if("readonly"===r.mode&&e===$){if(!o)throw new Y.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach(function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!o)throw new Y.SubTransaction("Table "+e+" not included in parent transaction.");r=null}}),o&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,function(t,n){n(e)}):lt(e)}return r?r._promise(e,a,"lock"):ke.trans?it(ke.transless,function(){return Q._whenReady(a)}):Q._whenReady(a);function a(){return De.resolve().then(function(){var t,o=ke.transless||ke,a=Q._createTransaction(e,i,D,r),s={trans:a,transless:o};r?a.idbtrans=r.idbtrans:a.create(),n.constructor===ye&&Ze();var u=De.follow(function(){if(t=n.call(a,a))if(t.constructor===me){var e=et.bind(null,null);t.then(e,e)}else"function"===typeof t.next&&"function"===typeof t.throw&&(t=It(t))},s);return(t&&"function"===typeof t.then?De.resolve(t).then(function(e){return a.active?e:lt(new Y.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):u.then(function(){return t})).then(function(e){return r&&a._resolve(),a._completion.then(function(){return e})}).catch(function(e){return a._reject(e),lt(e)})})}},this.table=function(e){if(!c(F,e))throw new Y.InvalidTable("Table "+e+" does not exist");return F[e]},l(he.prototype,{_trans:function(e,t,n){var r=this._tx||ke.trans;return r&&r.db===Q?r===ke.trans?r._promise(e,t,n):Je(function(){return r._promise(e,t,n)},{trans:r,transless:ke.transless||ke}):function e(t,n,r){if(G||ke.letThrough){var o=Q._createTransaction(t,n,D);try{o.create()}catch(e){return lt(e)}return o._promise(t,function(e,t){return Je(function(){return ke.trans=o,r(e,t,o)})}).then(function(e){return o._completion.then(function(){return e})})}if(!K){if(!T)return lt(new Y.DatabaseClosed);Q.open().catch(J)}return X.then(function(){return e(t,n,r)})}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,function(e,n,o){if(-1===o.storeNames.indexOf(r))throw new Y.NotFound("Table"+r+" not part of transaction");return t(e,n,o.idbtrans.objectStore(r),o)},n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",function(t,r,o){var i=o.get(e);i.onerror=Tt(r),i.onsuccess=He(function(){t(n.hook.reading.fire(i.result))},r)}).then(t)},where:function(e){if("string"===typeof e)return new ge(this,e);if(o(e))return new ge(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){return e.compound&&t.every(function(t){return e.keyPath.indexOf(t)>=0})&&e.keyPath.every(function(e){return t.indexOf(e)>=0})})[0];if(n&&pt!==dt)return this.where(n.name).equals(n.keyPath.map(function(t){return e[t]}));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var i=this.schema.idxByName,a=t.reduce(function(t,n){return[t[0]||i[n],t[0]||!i[n]?Me(t[1],function(t){return""+S(t,n)==""+e[n]}):t[1]]},[null,null]),s=a[0];return s?this.where(s.name).equals(e[s.keyPath]).filter(a[1]):n?this.filter(a[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new _e(new ge(this,o(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new _e(new ge(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&Pt(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(c(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(St.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===J?this._idbstore($,function(t,n,r,o){t(pe(r,o,e,!1,J))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,t){var n=this;return this._idbstore($,function(r,o,i){if(!i.keyPath&&!n.schema.primKey.auto&&!t)throw new Y.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&t)throw new Y.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var a,s,u=function(e){0===c.length?r(e):o(new V(n.name+".bulkPut(): "+c.length+" of "+l+" operations failed",c))},c=[],l=e.length,f=n;if(n.hook.creating.fire===J&&n.hook.updating.fire===J){s=de(c);for(var h=0,d=e.length;h<d;++h)(a=t?i.put(e[h],t[h]):i.put(e[h])).onerror=s;a.onerror=de(c,u),a.onsuccess=Ct(u)}else{var p=t||i.keyPath&&e.map(function(e){return S(e,i.keyPath)}),m=p&&b(p,function(t,n){return null!=t&&[t,e[n]]});(p?f.where(":id").anyOf(p.filter(function(e){return null!=e})).modify(function(){this.value=m[this.primKey],m[this.primKey]=null}).catch(H,function(e){c=e.failures}).then(function(){for(var n=[],r=t&&[],o=p.length-1;o>=0;--o){var i=p[o];(null==i||m[i])&&(n.push(e[o]),t&&r.push(i),null!=i&&(m[i]=null))}return n.reverse(),t&&r.reverse(),f.bulkAdd(n,r)}).then(function(e){var t=p[p.length-1];return null!=t?t:e}):f.bulkAdd(e)).then(u).catch(V,function(e){c=c.concat(e.failures),u()}).catch(o)}},"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore($,function(o,i,a,s){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new Y.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new Y.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new Y.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return o();function u(e){0===h.length?o(e):i(new V(n.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var c,l,f,h=[],d=e.length;if(r!==J){var p,m=a.keyPath;l=de(h,null,!0),f=xt(null),E(function(){for(var n=0,o=e.length;n<o;++n){p={onerror:null,onsuccess:null};var i=t&&t[n],u=e[n],h=t?i:m?S(u,m):void 0,d=r.call(p,h,u,s);null==h&&null!=d&&(m?P(u=O(u),m,d):i=d),(c=null!=i?a.add(u,i):a.add(u))._hookCtx=p,n<o-1&&(c.onerror=l,p.onsuccess&&(c.onsuccess=f))}},function(e){throw p.onerror&&p.onerror(e),e}),c.onerror=de(h,u,!0),c.onsuccess=xt(u)}else{l=de(h);for(var y=0,v=e.length;y<v;++y)(c=t?a.add(e[y],t[y]):a.add(e[y])).onerror=l;c.onerror=de(h,u),c.onsuccess=Ct(u)}})},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore($,function(r,o,i,a){var s={onsuccess:null,onerror:null};if(n!==J){var u=null!=t?t:i.keyPath?S(e,i.keyPath):void 0,c=n.call(s,u,e,a);null==u&&null!=c&&(i.keyPath?P(e,i.keyPath,c):t=c)}try{var l=null!=t?i.add(e,t):i.add(e);l._hookCtx=s,l.onerror=kt(o),l.onsuccess=xt(function(t){var n=i.keyPath;n&&P(e,n,t),r(t)})}catch(e){throw s.onerror&&s.onerror(e),e}})},put:function(e,t){var n=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==J||o!==J){var i=this.schema.primKey.keyPath,a=void 0!==t?t:i&&S(e,i);return null==a?this.add(e):(e=O(e),this._trans($,function(){return n.where(":id").equals(a).modify(function(){this.value=e}).then(function(r){return 0===r?n.add(e,t):a})},"locked"))}return this._idbstore($,function(n,r,o){var i=void 0!==t?o.put(e,t):o.put(e);i.onerror=Tt(r),i.onsuccess=He(function(t){var r=o.keyPath;r&&P(e,r,t.target.result),n(i.result)})})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore($,function(t,n,r){var o=r.delete(e);o.onerror=Tt(n),o.onsuccess=He(function(){t(o.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore($,function(e,t,n){var r=n.clear();r.onerror=Tt(t),r.onsuccess=He(function(){e(r.result)})})},update:function(e,t){if("object"!==typeof t||o(t))throw new Y.InvalidArgument("Modifications must be an object.");if("object"!==typeof e||o(e))return this.where(":id").equals(e).modify(t);r(t).forEach(function(n){P(e,n,t[n])});var n=S(e,this.schema.primKey.keyPath);return void 0===n?lt(new Y.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),l(ve.prototype,{_lock:function(){return g(!ke.global),++this._reculock,1!==this._reculock||ke.global||(ke.lockOwnerFor=this),this},_unlock:function(){if(g(!ke.global),0===--this._reculock)for(ke.global||(ke.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{it(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&ke.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(g(!this.idbtrans),!e&&!q)switch(B&&B.name){case"DatabaseClosedError":throw new Y.DatabaseClosed(B);case"MissingAPIError":throw new Y.MissingAPI(B.message,B);default:throw new Y.OpenFailed(B)}if(!this.active)throw new Y.TransactionInactive;return g(null===this._completion._state),(e=this.idbtrans=e||q.transaction(At(this.storeNames),this.mode)).onerror=He(function(n){Ot(n),t._reject(e.error)}),e.onabort=He(function(n){Ot(n),t.active&&t._reject(new Y.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=He(function(){t.active=!1,t._resolve()}),this},_promise:function(e,t,n){var r=this;if(e===$&&this.mode!==$)return lt(new Y.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new Y.TransactionInactive);if(this._locked())return new De(function(o,i){r._blockedFuncs.push([function(){r._promise(e,t,n).then(o,i)},ke])});if(n)return Je(function(){var e=new De(function(e,n){r._lock();var o=t(e,n,r);o&&o.then&&o.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var o=new De(function(e,n){var o=t(e,n,r);o&&o.then&&o.then(e,n)});return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=De.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return e});else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new De(function(n,o){e.then(function(e){return t._waitingQueue.push(He(n.bind(null,e)))},function(e){return t._waitingQueue.push(He(o.bind(null,e)))}).finally(function(){t._waitingFor===r&&(t._waitingFor=null)})})},abort:function(){this.active&&this._reject(new Y.Abort),this.active=!1},tables:{get:(f="Transaction.tables",d=function(){return F},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+L(U(),1)),d.apply(this,arguments)})},table:function(e){return new he(e,Q.table(e).schema,this)}}),l(ge.prototype,function(){function e(e,t,n){var r=e instanceof ge?new _e(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new _e(e,function(){return M.only("")}).limit(0)}function n(e,t,n,r,o,i){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var c=t[u];if(c!==r[u])return o(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):o(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;o(e[u],c)<0&&(s=u)}return a<r.length&&"next"===i?e+n.substr(e.length):a<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function r(t,r,o,i){var a,s,u,c,l,f,h,d=o.length;if(!o.every(function(e){return"string"===typeof e}))return e(t,vt);function p(e){a=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),s=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),u="next"===e?Oe:Ie;var t=o.map(function(e){return{lower:s(e),upper:a(e)}}).sort(function(e,t){return u(e.lower,t.lower)});c=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),f=e,h="next"===e?"":i}p("next");var m=new _e(t,function(){return M.bound(c[0],l[d-1]+i)});m._ondirectionchange=function(e){p(e)};var y=0;return m._addAlgorithm(function(e,t,o){var i=e.key;if("string"!==typeof i)return!1;var a=s(i);if(r(a,l,y))return!0;for(var p=null,m=y;m<d;++m){var v=n(i,a,c[m],l[m],u,f);null===v&&null===p?y=m+1:(null===p||u(p,v)>0)&&(p=v)}return t(null!==p?function(){e.continue(p+h)}:o),!1}),m}return{between:function(n,r,o,i){o=!1!==o,i=!0===i;try{return Pe(n,r)>0||0===Pe(n,r)&&(o||i)&&(!o||!i)?t(this):new _e(this,function(){return M.bound(n,r,!o,!i)})}catch(t){return e(this,yt)}},equals:function(e){return new _e(this,function(){return M.only(e)})},above:function(e){return new _e(this,function(){return M.lowerBound(e,!0)})},aboveOrEqual:function(e){return new _e(this,function(){return M.lowerBound(e)})},below:function(e){return new _e(this,function(){return M.upperBound(e,!0)})},belowOrEqual:function(e){return new _e(this,function(){return M.upperBound(e)})},startsWith:function(t){return"string"!==typeof t?e(this,vt):this.between(t,t+dt,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,function(e,t){return 0===e.indexOf(t[0])},[e],dt)},equalsIgnoreCase:function(e){return r(this,function(e,t){return e===t[0]},[e],"")},anyOfIgnoreCase:function(){var e=R.apply(A,arguments);return 0===e.length?t(this):r(this,function(e,t){return-1!==t.indexOf(e)},e,"")},startsWithAnyOfIgnoreCase:function(){var e=R.apply(A,arguments);return 0===e.length?t(this):r(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,dt)},anyOf:function(){var n=R.apply(A,arguments),r=Te;try{n.sort(r)}catch(t){return e(this,yt)}if(0===n.length)return t(this);var o=new _e(this,function(){return M.bound(n[0],n[n.length-1])});o._ondirectionchange=function(e){r="next"===e?Te:Ce,n.sort(r)};var i=0;return o._addAlgorithm(function(e,t,o){for(var a=e.key;r(a,n[i])>0;)if(++i===n.length)return t(o),!1;return 0===r(a,n[i])||(t(function(){e.continue(n[i])}),!1)}),o},notEqual:function(e){return this.inAnyRange([[mt,e],[e,pt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=R.apply(A,arguments);if(0===t.length)return new _e(this);try{t.sort(Te)}catch(t){return e(this,yt)}var n=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[mt,t]]},null);return n.push([t[t.length-1],pt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&Te(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Y.InvalidArgument);var o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers;var a,s=Te;function u(e,t){return s(e[0],t[0])}try{(a=n.reduce(function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(Pe(t[0],o[1])<0&&Pe(t[1],o[0])>0){o[0]=(i=o[0],a=t[0],Pe(i,a)<0?i:a),o[1]=xe(o[1],t[1]);break}}var i,a;return n===r&&e.push(t),e},[])).sort(u)}catch(t){return e(this,yt)}var c=0,l=i?function(e){return Te(e,a[c][1])>0}:function(e){return Te(e,a[c][1])>=0},f=o?function(e){return Ce(e,a[c][0])>0}:function(e){return Ce(e,a[c][0])>=0};var h=l,d=new _e(this,function(){return M.bound(a[0][0],a[a.length-1][1],!o,!i)});return d._ondirectionchange=function(e){"next"===e?(h=l,s=Te):(h=f,s=Ce),a.sort(u)},d._addAlgorithm(function(e,t,n){for(var r=e.key;h(r);)if(++c===a.length)return t(n),!1;return!!function(e){return!l(e)&&!f(e)}(r)||0!==Pe(r,a[c][1])&&0!==Pe(r,a[c][0])&&(t(function(){s===Te?e.continue(a[c][0]):e.continue(a[c][1])}),!1)}),d},startsWithAnyOf:function(){var n=R.apply(A,arguments);return n.every(function(e){return"string"===typeof e})?0===n.length?t(this):this.inAnyRange(n.map(function(e){return[e,e+dt]})):e(this,"startsWithAnyOf() only works with strings")}}}),l(_e.prototype,function(){function e(e,t){e.filter=Me(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Me(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new Y.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function o(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function i(e,t,n,r,i){var a=e.replayFilter?Me(e.filter,e.replayFilter()):e.filter;e.or?function(){var s={},u=0;function l(){2===++u&&n()}function f(e,n,o){if(!a||a(n,o,l,r)){var i=n.primaryKey,u=""+i;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(i)),c(s,u)||(s[u]=!0,t(e,n,o))}}e.or._iterate(f,l,r,i),Se(o(e,i),e.algorithm,f,l,r,!e.keysOnly&&e.valueMapper)}():Se(o(e,i),Me(e.algorithm,a),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,lt.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._idbstore($,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=Me(t.algorithm,e)},_iterate:function(e,t,n,r){return i(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read(function(n,r,o){i(t,e,n,r,o)})},count:function(e){var t=this._ctx;if(be(t,!0))return this._read(function(e,r,o){var i=n(t,o),a=t.range?i.count(t.range):i.count();a.onerror=Tt(r),a.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}},e);var r=0;return this._read(function(e,n,o){i(t,function(){return++r,!1},function(){e(r)},n,o)},e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],o=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,o),r=i(t,o);return n<r?-a:n>r?a:0}return this.toArray(function(e){return e.sort(s)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,r,o){if(u&&"next"===t.dir&&be(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,s=n(t,o),c=t.limit<1/0?s.getAll(t.range,t.limit):s.getAll(t.range);c.onerror=Tt(r),c.onsuccess=Ct(a===Z?e:function(t){try{e(t.map(a))}catch(e){r(e)}})}else{var l=[];i(t,function(e){l.push(e)},function(){e(l)},r,o)}},e)},offset:function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,be(n)?t(n,function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1))}}):t(n,function(){var t=e;return function(){return--t<0}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}},!0),this},until:function(t,n){return e(this._ctx,function(e,r,o){return!t(e.value)||(r(o),n)}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){var n,r;return e(this._ctx,function(e){return t(e.value)}),n=this._ctx,r=t,n.isMatch=Me(n.isMatch,r),this},and:function(e){return this.filter(e)},or:function(e){return new ge(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},primaryKeys:function(e){var t=this._ctx;if(u&&"next"===t.dir&&be(t,!0)&&t.limit>0)return this._read(function(e,r,o){var i=n(t,o),a=t.limit<1/0?i.getAllKeys(t.range,t.limit):i.getAllKeys(t.range);a.onerror=Tt(r),a.onsuccess=Ct(e)}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=c(r,t);return r[t]=!0,!n}),this},modify:function(e){var t=this,n=this._ctx.table.hook,o=n.updating.fire,i=n.deleting.fire;return this._write(function(n,s,u,l){var f;if("function"===typeof e)f=o===J&&i===J?e:function(t){var n=O(t);if(!1===e.call(this,t,this))return!1;if(c(this,"value")){var a=I(n,this.value),s=o.call(this,a,this.primKey,n,l);s&&(t=this.value,r(s).forEach(function(e){P(t,e,s[e])}))}else i.call(this,this.primKey,t,l)};else if(o===J){var h=r(e),d=h.length;f=function(t){for(var n=!1,r=0;r<d;++r){var o=h[r],i=e[o];S(t,o)!==i&&(P(t,o,i),n=!0)}return n}}else{var p=e;e=x(p),f=function(t){var n=!1,i=o.call(this,e,this.primKey,O(t),l);return i&&a(e,i),r(e).forEach(function(r){var o=e[r];S(t,r)!==o&&(P(t,r,o),n=!0)}),i&&(e=x(p)),n}}var m=0,y=0,v=!1,g=[],_=[],b=null;function w(e){return e&&(g.push(e),_.push(b)),s(new H("Error modifying one or more objects",g,y,_))}function T(){v&&y+g.length===m&&(g.length>0?w():n(y))}t.clone().raw()._iterate(function(e,t){b=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return g.push(e),_.push(n.primKey),T(),!0}if(!1!==f.call(n,e,n)){var o=!c(n,"value");++m,E(function(){var e=o?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=kt(r),e.onsuccess=xt(function(){++y,T()})},r)}else n.onsuccess&&n.onsuccess(n.value)},function(){v=!0,T()},w,u)})},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,o=r!==J;if(!o&&be(t)&&(t.isPrimKey&&!wt||!n))return this._write(function(e,t,r){var o=Tt(t),i=n?r.count(n):r.count();i.onerror=o,i.onsuccess=function(){var a=i.result;E(function(){var t=n?r.delete(n):r.clear();t.onerror=o,t.onsuccess=function(){return e(a)}},function(e){return t(e)})}});var i=o?2e3:1e4;return this._write(function(n,a,s,u){var c=0,l=e.clone({keysOnly:!t.isMatch&&!o}).distinct().limit(i).raw(),f=[],h=function(){return l.each(o?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then(function(){return o?f.sort(function(e,t){return Te(e[0],t[0])}):f.sort(Te),pe(s,u,f,o,r)}).then(function(){var e=f.length;return f=[],e<i?c+=e:h()})};n(h())})}}}),a(this,{Collection:_e,Table:he,Transaction:ve,Version:ue,WhereClause:ge}),Q.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Q.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Q.name+"'. Closing db now to resume the delete request."),Q.close()}),Q.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Q.name+"') was blocked"):console.warn("Upgrade '"+Q.name+"' blocked by other connection holding version "+e.oldVersion/10)}),_.forEach(function(e){e(Q)})}function Pt(e,t){return r(t).forEach(function(n){var r=function e(t){if("function"===typeof t)return new t;if(o(t))return[e(t[0])];if(t&&"object"===typeof t){var n={};return Pt(n,t),n}return t}(t[n]);e[n]=r}),e}function xt(e){return He(function(t){var n=t.target,r=n._hookCtx,o=r.value||n.result,i=r&&r.onsuccess;i&&i(o),e&&e(o)},e)}function Tt(e){return He(function(t){return Ot(t),e(t.target.error),!1})}function Ct(e){return He(function(t){e(t.target.result)})}function kt(e){return He(function(t){var n=t.target,r=n.error,o=n._hookCtx,i=o&&o.onerror;return i&&i(r),Ot(t),e(r),!1})}function Ot(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function It(e){var t=function(t){return e.next(t)},n=i(t),r=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t),a=i.value;return i.done?a:a&&"function"===typeof a.then?a.then(n,r):o(a)?De.all(a).then(n,r):n(a)}}return i(t)()}function Mt(e,t,n,r,o,i,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=o,this.compound=i,this.dotted=a;var s="string"===typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(o?"++":"")+s}function Dt(e,t,n,r){this.name=e,this.primKey=t||new Mt,this.indexes=n||[new Mt],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=b(n,function(e){return[e.name,e]})}function At(e){return 1===e.length?e[0]:e}function Rt(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}N(j,Et),l(St,X),l(St,{delete:function(e){var t=new St(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new St(e).open().then(function(e){return e.close(),!0}).catch(St.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(e){var t=Rt(St.dependencies.indexedDB);return t?new De(function(e,n){var r=t();r.onsuccess=function(t){e(y(t.target.result,0))},r.onerror=Tt(n)}).then(e):ht.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&a(this,e)}},applyStructure:Pt,ignoreTransaction:function(e){return ke.trans?it(ke.transless,e):e()},vip:function(e){return Je(function(){return ke.letThrough=!0,e()})},async:function(e){return function(){try{var t=It(e.apply(this,arguments));return t&&"function"===typeof t.then?t:De.resolve(t)}catch(e){return lt(e)}}},spawn:function(e,t,n){try{var r=It(e.apply(n,t||[]));return r&&"function"===typeof r.then?r:De.resolve(r)}catch(e){return lt(e)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(e,t){var n=De.resolve("function"===typeof e?St.ignoreTransaction(e):e).timeout(t||6e4);return ke.trans?ke.trans.waitFor(n):n},Promise:De,debug:{get:function(){return j},set:function(e){N(e,"dexie"===e?function(){return!0}:Et)}},derive:d,extend:a,props:l,override:v,Events:ft,getByKeyPath:S,setByKeyPath:P,delByKeyPath:function(e,t){"string"===typeof t?P(e,t,void 0):"length"in t&&[].map.call(t,function(t){P(e,t,void 0)})},shallowClone:x,deepClone:O,getObjectDiff:I,asap:_,maxKey:pt,minKey:mt,addons:[],connections:gt,MultiModifyError:Y.Modify,errnames:G,IndexSpec:Mt,TableSchema:Dt,dependencies:function(){try{return{indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),default:St,Dexie:St}),De.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Q[e.name])return e;var n=new Q[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(ht=new St("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==i.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(e){return ht.dbnames.put({name:e}).catch(J)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.default=St}.call(t,n(7),n(83).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(84),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(7))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},h.clearImmediate=d}function d(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(t,n(7),n(85))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),o=n(30),i=n(1);class a extends i.MyIterable{constructor(e,t){super(),this.toKey=e,this.cmp=t,this.data=[],this.pendList=[],this.add=((...e)=>(0!==e.length&&this.pendList.push(...e),this)),this.range=((e,t)=>{if(!this.isEmpty())return r.range(this.getData(),e,t,this.toKey,this.cmp)}),this.has=(e=>void 0!==this.search(e)),this.size=(()=>this.data.length+this.pendList.length),this.isEmpty=(()=>0===this.size()),this.clone=(()=>a.lightWrap(this.getData().slice(),this.toKey,this.cmp)),this.slice=((e,t)=>this.getData().slice(e,t)),this.right=(e=>a.lightWrap(function(e,t,n,o){if(0===e.length)return[];const i=r.lowerBound(e,t,n,o);return e.slice(i)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp)),this.left=(e=>a.lightWrap(function(e,t,n,o){if(0===e.length)return[];const i=r.upperBound(e,t,n,o);return e.slice(0,i+1)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp)),this.get=((e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return[];const[r,o]=n;return this.slice(r,o+1)}),this.countRange=((e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return 0;const[r,o]=n,i=o-r+1;return console.assert(i>=1),i}),this.getAt=(e=>this.getData()[e]),this.deleteAt=((e,t=1)=>(t>=1&&e>=0&&e<this.size()&&this.getData().splice(e,t),this)),this.delete=(e=>{const t=this.getData(),n=r.binarySearch(t,e,this.toKey,this.cmp);if(void 0===n)return this;const[o,i]=n,a=i-o+1;return console.assert(a>=1),t.splice(o,a),this}),this.search=(e=>r.binarySearch(this.getData(),e,this.toKey,this.cmp)),this.iterate=(()=>this.getData()),this.getData=(()=>{if(this.pendList.length>0){const e=a.sort(this.pendList,this.toKey,this.cmp);this.data=o.mergeK(this.toKey,this.cmp,e,this.data),this.pendList=[]}return this.data})}static wrap(e,t,n){const r=a.sort(Array.from(e),t,n);return a.lightWrap(r,t,n)}static lightWrap(e,t,n){const r=new a(t,n);return r.data=e,r}static sort(e,t,n){return e.sort((e,r)=>n(t(e),t(r)))}}t.SortedList=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.isSorted=function(e,t){return r.toIt(e).pin((e,n)=>t(e,n)<=0).every(e=>e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.uniq=function(e,t){return r.toIt(function*(e,t){if(0===e.length)return;let n=e[0];for(const r of e)0!==t(r,n)&&(yield n,n=r);yield n}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.bfsPreOrder=function*(e,t){return r.toIt(function*(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,o]=n.shift();yield[e,o],r.add(e);const i=o+1;for(const a of t(e))r.add(a),r.has(a)||n.push([a,i])}}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FloydWarshall=class{constructor(e,t){this.vertices=[...e.keys()],this.verticesIdx=new Map(Array.from(this.vertices).map((e,t)=>[e,t]));const n=e.size,r=new Array(n),o=this.nextMap=new Array(n);for(let i=0;i<n;i++)r[i]=new Array(n).fill(1/0),o[i]=new Array(n),r[i][i]=0;for(const[i,a]of e)for(const e of a){const n=this.verticesIdx.get(i),a=this.verticesIdx.get(e);r[n][a]=t(i,e),o[n][a]=a}for(let i=0;i<n;i++)for(let e=0;e<n;e++)for(let t=0;t<n;t++){const n=r[e][i]+r[i][t];r[e][t]>n&&(r[e][t]=n,o[e][t]=o[e][i])}}next(e,t){const n=this.verticesIdx.get(t),r=this.verticesIdx.get(e),o=this.nextMap[r][n];if(void 0!==o)return this.vertices[o]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34);t.kruskalMST=function(e,t,n){const o=new r.UnionFind,i=Array.from(e).reduce((e,n)=>{for(const r of t(n))e.push([n,r]);return e},new Array).sort(([e,t],[r,o])=>n(e,t)-n(r,o)),a=new Map(Array.from(e).map(e=>[e,[]]));for(const[r,s]of i)o.isSameSet(r,s)||(a.get(r).push(s),a.get(s).push(r),o.union(r,s));return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19);t.stableMarriage=function(e,t){const n=function(e,t){const n=new Map;for(const[o,i]of e){const e=r.MinHeap.inPlaceWrap((e,t)=>i(t)-i(e),Array.from(t.keys()).filter(e=>void 0!==i(e)));n.set(o,e)}return n}(e,t),o=new Map,i=Array.from(e.keys());for(;i.length>0;){const e=i.pop(),r=n.get(e);for(;!r.isEmpty();){const n=r.pop(),a=t.get(n),s=a(e);if(void 0===s)continue;const u=o.get(n);if(void 0===u){o.set(n,e);break}if(s>a(u)){o.set(n,e),i.push(u);break}}}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),o=n(1),i=n(36);class a extends o.MyIterable{constructor(e,...t){super(),this.cmp=e,this.size=(()=>this.data.size()),this.isEmpty=(()=>this.data.isEmpty()),this.get=(e=>this.data.get(a.sortKey(this.cmp,e))),this.has=(e=>this.data.has(a.sortKey(this.cmp,e))),this.delete=(e=>this.data.delete(a.sortKey(this.cmp,e))),this.set=((e,t)=>this.data.set(a.sortKey(this.cmp,e),t)),this.getOrSet=((e,t)=>this.data.getOrSet(a.sortKey(this.cmp,e),t)),this.keys=(()=>o.toIt(this.iterate()).map(([e])=>e)),this.values=(()=>o.toIt(this.iterate()).map(([,e])=>e)),this.makeEmpty=(()=>new a(this.cmp)),this.iterate=(()=>a.iterateHelper(this.cmp,this.data)),this.data=new i.Trie(...t.map(([t,n])=>[a.sortKey(e,t),n]))}static*iterateHelper(e,t){const n=Array.from(t).sort(([t],[n])=>r.cmpList(e,t,n));for(const r of n)yield r}}a.sortKey=((e,t)=>t.slice().sort(e)),t.SortedTrie=a},function(e,t,n){"use strict";function r([e,t],[n,r]){return[e-n,t-r]}function o([e,t]){return Math.sqrt(e*e+t*t)}function i(e,t){return o(r(e,t))}function a([e,t],n){return[n*e,n*t]}function s([e,t],[n,r]){return e*r-n*t}function u([e,t],[n,r],[o,i]){const a=Math.max(n,o),s=Math.min(n,o),u=Math.max(r,i),c=Math.min(r,i);return e<=a&&e>=s&&t<=u&&t>=c}var c;function l(e,t,n,o){const a=r(e,n),u=r(t,n),l=i(e,t),f=l*l,h=o*o,d=s(a,u),p=h*f-d*d;return p<0?c.None:p>0?c.Intersection:c.Tangent}Object.defineProperty(t,"__esModule",{value:!0}),t.equal=function([e,t],[n,r]){return e===n&&t===r},t.compare=function([e,t],[n,r]){return e<n?-1:e>n?1:t-r},t.subtract=r,t.add=function([e,t],[n,r]){return[e+n,t+r]},t.norm=o,t.distance=i,t.scalarMult=a,t.project=function(e,t=1){const n=o(e);return console.assert(0!==n,"caller make sure the given vector is not the origin"),a(e,t/n)},t.determinant=s,t.isPointInRect=u,function(e){e[e.None=0]="None",e[e.Tangent=1]="Tangent",e[e.Intersection=2]="Intersection"}(c=t.IntersectionKind||(t.IntersectionKind={})),t.testLineCircleIntersect=l,t.testLineSegmentCircleIntersect=function(e,t,n,r){return u(n,e,t)?l(e,t,n,r):c.None}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memo=function(e){const t=new Map;return n=>{if(!t.has(n)){const r=e(n);t.set(n,r)}return t.get(n)}},t.memoBy=function(e,t){const n=new Map;return r=>{if(!n.has(r)){const o=t(r);for(const[t,r]of e(o)){if(n.has(t))throw new Error("genRange keys overlap (all keys from keyBy must be mapped to disjoint sets");n.set(t,r)}if(!n.has(r))throw new Error("genRange doesn't cover the target")}return n.get(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(31);t.getAndSum=function(e,t,n){const o=r.defaultZero(e.get(t))+n;return e.set(t,o),o},t.updateMap=function(e,t,n){const r=n(e.get(t));return e.set(t,r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diamondSquare=function(e,t,n){console.assert(Number.isInteger(Math.log2(t-1)),"nside must be of the form (2^n)+1");const r=new Float32Array(t*t),o=t-1,i=([e,n])=>e>=0&&e<t&&n>=0&&n<t,a=([e,n])=>n*t+e,s=e=>r[a(e)],u=(e,t)=>{const n=a(e);console.assert(t>0),console.assert(0===r[n]),r[n]=t},c=(t,n,r)=>{const o=n.filter(i).map(s),a=o.reduce((e,t)=>e+t,0)/o.length+e()*r;console.assert(Number.isFinite(a)),u(t,a)},l=(e,t)=>{const n=e/2;for(let r=n;r<=o;r+=e)for(let i=n;i<=o;i+=e)c([i,r],[[i-n,r-n],[i+n,r-n],[i-n,r+n],[i+n,r+n]],t)},f=(e,t)=>{const n=e/2;let r=!0;for(let i=0;i<=o;i+=n){const a=r?n:0;r=!r;for(let r=a;r<=o;r+=e)c([r,i],[[r,i-n],[r,i+n],[r-n,i],[r+n,i]],t)}};{u([0,0],e()),u([0,t-1],e()),u([t-1,0],e()),u([t-1,t-1],e());let r=.1;for(let e=o;e>1;r=(e/=2)/t*n)l(e,r),f(e,r)}const h=Math.max(...r),d=Math.min(...r),p=h-d;console.assert(p>0);const m=r.map(e=>(e-d)/p);return console.assert(m.every(e=>e>=0&&e<=1)),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(37);t.randomGen=((e,t)=>{if(r.sum(...e.values())>1)throw new Error("probability needs to be positive and less than 1");const n=[],o=[];for(const[r,a]of e){if(a<=0)throw new Error("probability needs to be positive and less than 1");n.push(r),o.push(a)}const i=void 0===t?Math.random:t;return()=>{const e=i();let t=0;for(let r=0;r<o.length;r++)if(e<(t+=o[r]))return n[r]}}),t.randomGenStrict=((e,n,r)=>{if(n.has(e))throw new Error("remain should \u2209 probs");const o=t.randomGen(n,r);return()=>{const t=o();return void 0===t?e:t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.shuffleSlice=function(e){return r.toIt(function*(e){const t=Array.from(e);for(;t.length>0;){const e=t.length-1,n=Math.floor(Math.random()*e);yield t[n],n===e?t.pop():t[n]=t.pop()}}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.BiSet=class extends r.MyIterable{constructor(...e){super(),this.leftMap=new Map,this.rightMap=new Map,this.iterate=(()=>this.leftMap.entries());for(const[t,n]of e)this.add(t,n)}size(){return this.leftMap.size}add(e,t){this.leftMap.set(e,t),this.rightMap.set(t,e)}deleteLeft(e){const t=this.leftMap.get(e);return void 0!==t&&this.deleteHelper(e,t)}deleteRight(e){const t=this.rightMap.get(e);return void 0!==t&&this.deleteHelper(t,e)}getRight(e){return this.leftMap.get(e)}getLeft(e){return this.rightMap.get(e)}hasLeft(e){return this.leftMap.has(e)}hasRight(e){return this.rightMap.has(e)}lefts(){return r.toIt(this.leftMap.keys())}rights(){return r.toIt(this.rightMap.keys())}deleteHelper(e,t){const n=this.leftMap.delete(e),r=this.rightMap.delete(t);return console.assert(n),console.assert(r),!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8),i=n(3),a=n(13),s=n(2),u=200,c=.7,l=1.3,f=10,h=(()=>{const e=new Array(s.NUM_PRODUCTS).fill(0);return e[s.Product.Food]=10,e[s.Product.Drink]=10,e[s.Product.Apparel]=10,e[s.Product.Medicine]=10,e[s.Product.Accessory]=5,e[s.Product.Furniture]=5,e[s.Product.Gadget]=5,e[s.Product.Vehicle]=5,e})();class d{constructor(e,t,n,r,o,i=100,a=!1,u=0,c=0,l=0,f=0,h=0){this.id=e,this.homePlanet=t,this.population=n,this.playerInventory=r,this.marketInventory=o,this.maxPopulation=i,this.isLockPopulation=a,this.powerPlanetLevel=u,this.powerOutputEff=c,this.foodHappiness=l,this.luxuryHappiness=f,this.commonHappiness=h,this.derivedDemands=new Array(s.NUM_PRODUCTS).fill(0)}static estimatePrice(e,t,n,r){console.assert(n>0);const o=0===e?c:0===t?l:Math.min(l,e/t),i=r*Math.pow(o,n);return console.assert(Number.isFinite(i)),i}static elasticity(e){switch(e){case s.Product.Crop:case s.Product.Metal:case s.Product.Gem:case s.Product.Fuel:return 1;case s.Product.Food:return 1.5;case s.Product.Drink:case s.Product.Apparel:case s.Product.Medicine:return 1;case s.Product.Accessory:case s.Product.Furniture:case s.Product.Gadget:case s.Product.Vehicle:return.4;case s.Product.Fiber:case s.Product.Chemical:case s.Product.Circuit:case s.Product.Computer:case s.Product.Machine:case s.Product.Tool:return 1.5}}static basePrice(e){switch(e){case s.Product.Crop:case s.Product.Metal:case s.Product.Gem:case s.Product.Fuel:case s.Product.Fiber:case s.Product.Chemical:case s.Product.Circuit:case s.Product.Computer:return 1;case s.Product.Machine:case s.Product.Tool:return 2;case s.Product.Accessory:case s.Product.Furniture:case s.Product.Gadget:case s.Product.Vehicle:return 4;case s.Product.Food:case s.Product.Drink:case s.Product.Apparel:case s.Product.Medicine:return 1.5}}serialize(){return{commonHappiness:this.commonHappiness,foodHappiness:this.foodHappiness,homePlanetId:this.homePlanet.id,id:this.id,isLockPopulation:this.isLockPopulation,luxuryHappiness:this.luxuryHappiness,marketInventoryId:this.marketInventory.id,maxPopulation:this.maxPopulation,playerInventoryId:this.playerInventory.id,population:this.population,powerOutputEff:this.powerOutputEff,powerPlanetLevel:this.powerPlanetLevel}}getHomePlanet(){return this.homePlanet}getPlayerInventory(){return this.playerInventory}getMarketInventory(){return this.marketInventory}getPopulation(){return this.population}getMaxPop(){return Math.ceil(this.maxPopulation)}growthRate(e){if(this.foodHappiness<1)return this.foodHappiness-1;const t=1+this.commonHappiness,n=1===t?1+this.luxuryHappiness:1;return(1+this.getPowerUsageEff(e))*t*n*.1}getTraderPowerUsage(e){let t=0;const n=e.getTradeRoutes().get(this);if(void 0!==n)for(const r of n)t+=e.getNumUsedTraders(this,r);return t}getIndustrialPowerUsage(e){const t=e.getIndustries(this);return void 0===t?0:o.sum(...o.toIt(t).map(e=>e.getPowerUsage()))}getCivilianPowerUsage(){return Math.round(10*this.population)}getTotalPowerUsage(e){const t=this.getIndustrialPowerUsage(e),n=this.getTraderPowerUsage(e),r=this.getCivilianPowerUsage();return{industrialUsage:t,traderUsage:n,civUsage:r,totalUsage:t+n+r}}getPowerUsageEff(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return 0===t?n>0?0:1:Math.min(1,n/t)}getPowerOutputEff(){return this.powerOutputEff}getPowerOutput(){return Math.round(this.getMaxPowerPotential()*this.getPowerOutputEff())}getEnergyPrice(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return d.estimatePrice(t,n,1,d.basePrice(s.Product.Fuel))}getMaxPowerPotential(){return this.powerPlanetLevel*u+50}getFuelDemand(){return this.getMaxPowerPotential()}getPowerPlanetLevel(){return this.powerPlanetLevel}getCitizenDemand(e){switch(e){case s.Product.Fuel:return this.getFuelDemand();default:const t=h[e];return Math.round(t*this.getPopulation())}}isProducing(e,t){const n=e.getIndustries(this);return void 0!==n&&o.toIt(n).some(e=>e.productType===t)}hasDemand(e){return this.getDemand(e)>0}getDemand(e){return this.getCitizenDemand(e)+this.derivedDemands[e]}getSupply(e){return this.marketInventory.getQty(e)}recalculate(e){this.consume(),this.growth(e),this.derivedDemands.fill(0);const t=e.getIndustries(this);if(void 0!==t)for(const n of t){const t=n.prodCap(e);r.Seq(a.Industry.getDemandProducts(n.productType)).map(e=>({neededKinds:e,qty:t})).concat(n.getOpDemand()).forEach(e=>{for(const t of e.neededKinds)this.derivedDemands[t]+=e.qty})}}canExpandPowerPlant(e){const{totalUsage:t}=this.getTotalPowerUsage(e);return 2*t>this.getMaxPowerPotential()}expandPowerPlanet(e){console.assert(this.canExpandPowerPlant(e)),this.powerPlanetLevel+=1}getProdCap(e,t){const n=e.getIndustries(this);return void 0===n?0:o.sum(...o.toIt(n).filter(e=>e.productType===t).map(t=>t.prodCap(e)))}trade(e){const t=this.playerInventory;for(const n of s.allProducts()){const r=t.getQty(n),o=t.getDemand(e,n);if(r>o){const i=r-o;this.tryBuy(e,t,n,i,0)}else if(r<o){const i=o-r;this.trySell(e,t,n,i,1/0,!0)}}}lockPopulation(e){return void 0!==e&&(this.isLockPopulation=e),this.isLockPopulation}getPrice(e){const t=this.marketInventory.getQty(e);return this.realPrice(e,t)}realPrice(e,t){const n=this.getDemand(e),r=d.basePrice(e),o=d.elasticity(e),i=d.estimatePrice(n,t,o,r);console.assert(i>=0);const a=p[e];return console.assert(Number.isFinite(a)),Math.max(a,i)}tryBuy(e,t,n,r,o){console.assert(r>=0);const i=this.marketInventory,a=i.getQty(n);let s=0,u=0;for(;;){const e=a+s,t=this.realPrice(n,e);if(console.assert(t>0),r===s||t<o)break;++s,u+=t}return s>0&&(t.takeGoods(n,s),i.putGoods(n,s),e.deposit(u)),s}trySell(e,t,n,r,o,i=!1){console.assert(r>=0);const a=this.marketInventory,s=a.getQty(n),u=this.minStockQty(e,n);let c=0,l=0;for(;;){const e=s-l;console.assert(e>=0);const a=this.realPrice(n,e);if(r===l||a>o||0===e||!t.hasSpaceFor(l)||!i&&e<=u)break;++l,c+=a}l>0&&(a.takeGoods(n,l),t.putGoods(n,l),e.withdraw(c))}getDeficit(e,t){const n=this.marketInventory.getQty(t),r=this.minStockQty(e,t);return n<r?r-n:0}minStockQty(e,t){const n=this.getDemand(t);return this.isProducing(e,t)?n:f*n}growth(e){const t=this.growthRate(e)/i.YEAR_PER_TICK,n=Math.max(1,this.population*(1+t)),r=this.isLockPopulation?this.population:this.getMaxPop(),o=n-r;o>0?(this.population=r,e.addColonists(o)):this.population=Math.min(n,r)}consume(){const e=this.marketInventory,t=t=>{const n=e.getQty(t),r=Math.floor(this.getCitizenDemand(t));if(0===r)return 1;const o=n>=r?r:n;return e.takeGoods(t,o),o/r},n=s.allProducts().map(e=>t(e));this.commonHappiness=o.average(n[s.Product.Drink],n[s.Product.Apparel],n[s.Product.Medicine]),this.luxuryHappiness=o.average(n[s.Product.Accessory],n[s.Product.Furniture],n[s.Product.Gadget],n[s.Product.Vehicle]),this.foodHappiness=n[s.Product.Food];const r=n[s.Product.Fuel];this.powerOutputEff=r*r}}t.Colony=d;const p=s.allProducts().map(e=>{const t=d.basePrice(e),n=d.elasticity(e);return Math.pow(.4*t,n)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8),i=n(3),a=n(2),s=Math.PI/2,u=.3;t.Fleet=class{constructor(e,t,n=[],r=0,o=i.FleetState.Move,a=!1){this.id=e,this.cargo=t,this.route=n,this.routeAt=r,this.state=o,this.isRetiring=a,this.kind=i.MapDataKind.Fleet}serialize(){return{cargoId:this.cargo.id,id:this.id,isRetiring:this.isRetiring,route:this.route.map(e=>e.id),routeAt:this.routeAt,state:this.state}}getCargo(){return this.cargo}getRoute(){return this.route}getRouteAt(){return this.routeAt}getSpeed(e){const t=this.getStop();console.assert(void 0!==t);const n=this.getNextStop();console.assert(void 0!==n);const r=1+e.getRouteFuelEff(t,n);return u*(r*r)}operate(e){switch(this.state){case i.FleetState.Hold:break;case i.FleetState.Docked:this.handleDocked(e),this.setMoveNextStop();break;case i.FleetState.Move:this.handleMove(e)}}setRoute(...e){console.assert(e.length>0),this.route=e,this.state=i.FleetState.Hold}resetRoute(){this.routeAt=0}start(){this.route.length>0?this.state=i.FleetState.Move:console.assert(this.state===i.FleetState.Hold)}retire(){this.isRetiring=!0}isRetire(){return this.isRetiring}getAngle(e){if(this.route.length>1){const t=e.getCoor(this),n=e.getCoor(this.getStop());let r,i;o.equal(t,n)?(r=n,i=e.getCoor(this.nextStop())):(r=t,i=n);const[a,u]=o.subtract(r,i);return Math.atan(u/a)+(r[0]>=i[0]?-s:s)}return 0}partitionCargo(e,t){const n=this.cargo.getEmptySpace();console.assert(n>=a.allProducts().length);const r=o.sum(...e),i=new Map;if(0===r)return i;for(const o of t){const t=e[o];if(0===t)continue;const a=Math.max(1,Math.floor(t/r*n));console.assert(Number.isFinite(a)),i.set(o,a)}return i}getNextStop(){const e=this.nextStopIdx();return this.route[e]}handleDocked(e){const t=this.getStop(),n=this.getNextStop(),i=a.allProducts().reduce((r,i)=>{const a=o.sum(...e.getDownstreamConsumers(i,t,n).map(t=>t.getDeficit(e,i)));return r[i]+=a,r},new Array(a.NUM_PRODUCTS).fill(0)),s=new Array(a.NUM_PRODUCTS).fill(0);for(const[r,o]of this.cargo.getAllQty()){if(0===o)continue;const n=t.tryBuy(e,this.cargo,r,o,0);s[r]+=n}if(this.isRetiring||!e.hasTradeRoute(t,n))return void e.removeFleet(this);const u=a.allProducts().sort((e,t)=>i[e]-i[t]);{const n=this.partitionCargo(i,u);for(const[r,o]of n){if(0===this.cargo.getEmptySpace())break;if(s[r]>0)continue;const n=o-this.cargo.getQty(r)-s[r];if(n<=0)continue;const i=Math.min(n,this.cargo.getEmptySpace());0!==i&&(console.assert(i>0),t.trySell(e,this.cargo,r,i,1/0))}}const c=this.cargo.getEmptySpace()/3;for(const o of r.Seq(u).reverse()){if(0===this.cargo.getEmptySpace())break;if(s[o]>0)continue;const n=this.cargo.getQty(o);if(i[o]-n-s[o]<=0)continue;const r=Math.min(c,this.cargo.getEmptySpace());t.trySell(e,this.cargo,o,r,1/0)}}getStop(){return this.route[this.routeAt]}nextStop(){return this.route[this.nextStopIdx()]}nextStopIdx(){return(this.routeAt+1)%this.route.length}setMoveNextStop(){this.routeAt=this.nextStopIdx(),this.state=i.FleetState.Move}handleMove(e){const t=this.route[this.routeAt],n=e.getCoor(t),{nowAt:r}=e.move(this,n,this.getSpeed(e));o.equal(r,n)&&(this.state=i.FleetState.Docked)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8),i=n(13),a=n(2);t.Inventory=class{constructor(e,t=1/0,n=new Array(a.NUM_PRODUCTS).fill(0)){this.id=e,this.maxStorage=t,this.inventory=n,this.demandSrcs=[],this.usedSpace=o.sum(...this.inventory),console.assert(this.usedSpace<=t)}serialize(){return{id:this.id,inventory:this.inventory,maxStorage:this.maxStorage}}getEmptySpace(){const e=this.maxStorage-this.usedSpace;return console.assert(e>=0),e}getMaxSpace(){return this.maxStorage}getQty(e){const t=this.inventory[e];return console.assert(t>=0),t}putGoods(e,t){console.assert(t>=0),console.assert(Number.isInteger(t));const n=this.inventory[e],r=Math.min(this.maxStorage-this.usedSpace,t),o=n+r;return this.inventory[e]=o,this.usedSpace+=r,o}takeGoods(e,t){console.assert(t>=0),console.assert(Number.isInteger(t));const n=this.inventory[e]-t;if(n<0)throw new Error("bug: responsibility of maintaining non-negative quantity goes to the caller");return this.inventory[e]=n,this.usedSpace-=t,n}hasSpaceFor(e){return console.assert(e>=0),this.maxStorage>=this.usedSpace+e}addDemandSrc(e){this.demandSrcs.push(e)}getDemand(e,t){const n=new Array(a.NUM_PRODUCTS).fill(0);for(const o of this.demandSrcs){const a=o.prodCap(e),s=r.Seq(i.Industry.getDemandProducts(o.productType)).map(e=>({neededKinds:e,qty:a})).concat(o.getOpDemand());for(const e of s){if(!e.neededKinds.has(t))continue;let r=e.qty;for(const t of e.neededKinds){const e=this.getQty(t);if(e>r){n[t]+=r;break}r-=e,n[t]+=e}console.assert(r>=0),n[t]+=r}}return n[t]}*getAllQty(){const e=this.inventory.map((e,t)=>[t,e]);for(const t of e)console.assert(t[1]>=0),yield t}consume(e,t){console.assert(t>=0);const n=Array.from(e).sort((e,t)=>this.getQty(t)-this.getQty(e));let r=t;for(const o of n){const e=this.getQty(o);if(!(r>e)){this.takeGoods(o,r),r=0;break}this.takeGoods(o,e),r-=e}return t-r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.Planet=class{constructor(e,t,n){this.id=e,this.resource=t,this.colony=n,this.kind=r.MapDataKind.Planet}serialize(){return{id:this.id,resource:this.resource}}colonized(e){this.colony=e}getColony(){return this.colony}isColonized(){return void 0!==this.colony}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const t=e.installing;t&&(t.onstatechange=(()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}t.default=function(){if("serviceWorker"in navigator){if(new URL("/space-industrialist",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="/space-industrialist/service-worker.js";r?(e=e,fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):o(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")}),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):o(e)})}var e},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(5),a=n(108),s=n(112),u=n(113),c=n(115),l=n(116),f=n(39),h=n(133),d=n(134);t.default=o.connect(e=>({currentViewData:e.closableAction,isPaused:e.speedCommand.isPaused,updatePeriod:e.speedCommand.period}))(class extends r.Component{constructor(e){super(e),this.state={game:e.game},this.setupGameLoop()}render(){const e=this.state.game;return r.createElement(r.Fragment,null,r.createElement(c.default,{gameWrapper:{game:e}}),r.createElement(u.default,{gameWrapper:{game:e}}),this.getCurrentView())}setupGameLoop(){void 0!==this.gameLoopId&&window.clearInterval(this.gameLoopId);let e,t=this.props.updatePeriod;const n=()=>{this.props.isPaused||this.props.game.getWriter().turn();const r=this.props.game;r.isDirty()&&(this.setState({game:r}),r.resetDirty()),this.props.updatePeriod!==t&&(window.clearInterval(e),t=this.props.updatePeriod,e=window.setInterval(n,t))};e=window.setInterval(n,t)}getCurrentView(){const e=this.state.game,t=this.props.currentViewData;if(null!==t)switch(t.panelType){case i.ClosablePanelType.ImportExport:return r.createElement(s.default,{game:e});case i.ClosablePanelType.Fleet:{const n=t.args;return r.createElement(a.default,{key:n.id,gameWrapper:{game:e},fleet:n})}case i.ClosablePanelType.Planet:{const n=t.args;return r.createElement(l.default,{key:n.id,game:e,planet:n})}case i.ClosablePanelType.Route:{const n=t.args;return r.createElement(f.default,{key:n.from.toString()+" "+n.to.toString(),game:e,route:n})}case i.ClosablePanelType.Selector:{const n=t.args;return r.createElement(h.default,{game:e,objs:n})}case i.ClosablePanelType.Tutorial:return r.createElement(d.default,null);default:throw new Error("not handled")}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(11),i=n(9),a=n(10),s=n(109),u=n(110);var c;!function(e){e[e.Cargo=0]="Cargo",e[e.Route=1]="Route"}(c||(c={}));t.default=class extends r.Component{constructor(){super(...arguments),this.state={currentView:c.Route},this.switchRoutePanel=(()=>{this.setState({currentView:c.Route})}),this.switchCargoPanel=(()=>{this.setState({currentView:c.Cargo})})}render(){const e=this.props.fleet;return r.createElement(a.default,null,r.createElement(i.default,{title:`Trader ${e.id}`}),r.createElement(o.default,null,r.createElement("nav",{className:"tabs"},r.createElement("div",{onClick:this.switchRoutePanel},"Route"),r.createElement("div",{onClick:this.switchCargoPanel},"Cargo")),this.getCurrentView()))}getCurrentView(){const e=this.props.gameWrapper,t=this.props.fleet;switch(this.state.currentView){case c.Route:return r.createElement(u.default,{gameWrapper:e,fleet:t});case c.Cargo:return r.createElement(s.default,{fleet:t})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(0),i=n(2);t.default=class extends o.Component{render(){const e=this.props.fleet,t=r.Seq(e.getCargo().getAllQty()).filter(([e])=>e>0).map(([e,t])=>o.createElement("tr",{key:e},o.createElement("td",null,i.Product[e]),o.createElement("td",null,t)));return o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Product Type"),o.createElement("th",null,"Qty"))),o.createElement("tbody",null,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(5),a=n(111);class s extends r.PureComponent{constructor(){super(...arguments),this.retireFleet=(()=>{const e=this.props.gameWrapper.game.getWriter(),t=this.props.fleet;e.retire(t),this.props.closePanel()})}render(){const e=this.props.gameWrapper.game,t=e.getReader(),n=this.props.fleet,o=t.getFleetSpeed(n).toFixed(2);return r.createElement("div",null,r.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},r.createElement("legend",null,"General"),r.createElement("div",{title:"The speed indicates how far the trader is going to move per day."},"Speed: ",o),r.createElement("button",{disabled:t.isRetired(n),onClick:this.retireFleet,title:"The trader will return to the trader pool and to be reassigned."},"Retire trader")),r.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},r.createElement("legend",null,"Route"),r.createElement(a.default,{fleet:n,game:e})))}}t.Route=s,t.default=o.connect(void 0,e=>({closePanel:()=>e(i.close())}))(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({fleet:e,game:t})=>{const n=t.getReader(),o=e.getRoute(),i=e.getRouteAt(),a=e.getRoute().map(e=>{const t=e.getHomePlanet(),[a,s]=n.getCoor(t),u=`Planet ${t.id} - (${a.toFixed(2)},${s.toFixed(2)})`,c=o[i]===e?r.createElement("i",{className:"material-icons"},"check"):void 0;return r.createElement("tr",{key:u},r.createElement("td",null,u),r.createElement("td",null,c))});return r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Place"),r.createElement("th",null,"Dest"))),r.createElement("tbody",null,a))})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),i=n(6),a=n(5),s=n(9),u=n(10);function c(e){const t=JSON.stringify(e.serialize()),n=JSON.stringify({json:t,len:t.length});return LZString.compressToBase64(n)}t.default=i.connect(null,e=>({showTutorial:()=>e(a.addClosable(a.ClosablePanelType.Tutorial))}))(class extends o.Component{constructor(e){super(e),this.textareaClick=(e=>{e.stopPropagation()}),this.copySave=(()=>{this.textarea.select(),document.execCommand("Copy")}),this.clearSave=(()=>{this.setState(()=>({saveData:""}))}),this.refreshSave=(()=>{this.setState(()=>({saveData:c(this.props.game)}))}),this.importSave=(()=>r(this,void 0,void 0,function*(){const e=function(e){const t=LZString.decompressFromBase64(e),n=JSON.parse(t);if(n&&Number.isSafeInteger(n.len)&&"string"===typeof n.json&&n.len===n.json.length)return JSON.parse(n.json);throw new Error("not a valid save")}(this.state.saveData),t=this.props.game;t.reload(e),yield t.save()})),this.restartGame=(()=>r(this,void 0,void 0,function*(){const e=this.props.game;confirm("Are you sure?")&&(e.reload(),yield e.save(),this.props.showTutorial())})),this.updateState=(e=>{this.setState({saveData:e.target.value})}),this.state={saveData:c(this.props.game)}}render(){return o.createElement(u.default,null,o.createElement(s.default,{title:"Import/Export Save"}),o.createElement("textarea",{spellCheck:!1,cols:45,rows:30,value:this.state.saveData,onChange:this.updateState,onClick:this.textareaClick,ref:e=>this.textarea=e}),o.createElement("div",null,o.createElement("button",{onClick:this.clearSave},"Clear"),o.createElement("button",{onClick:this.importSave},"Import"),o.createElement("button",{onClick:this.copySave},"Copy"),o.createElement("button",{onClick:this.refreshSave},"Refresh"),o.createElement("button",{onClick:this.restartGame},"Restart Game")))}componentDidMount(){this.textarea.spellcheck=!1}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(114),o=n(4),i=n(8),a=n(0),s=n(6),u=n(3),c=n(29),l=n(2),f=n(5),h=50,d=300,p=.3;t.default=s.connect(void 0,e=>({addFleetPanel:t=>e(f.addClosable(f.ClosablePanelType.Fleet,t)),addPlanetPanel:t=>e(f.addClosable(f.ClosablePanelType.Planet,t)),addRoutePanel:t=>e(f.addClosable(f.ClosablePanelType.Route,t)),addSelector:t=>e(f.addClosable(f.ClosablePanelType.Selector,t))}))(class extends a.PureComponent{constructor(e){super(e),this.gridSize=h,this.draw=(()=>{const e=this.props.gameWrapper.game;void 0!==this.updateAnimation&&(this.updateAnimation(),this.cachedGrid=this.drawGrid(e));const t=document.body.clientWidth,n=document.body.clientHeight,r=this.canvas.getContext("2d");r.clearRect(0,0,t,n),r.drawImage(this.drawGrid(e),0,0),r.drawImage(this.drawObjects(e),0,0),requestAnimationFrame(this.draw)}),this.cachedGrid=document.createElement("canvas");const t=this.props.gameWrapper.game;this.topLeft=t.getReader().calCenter()}serialize(){return{gridSize:this.gridSize,topLeft:this.topLeft}}componentDidMount(){const e=this.props.gameWrapper.game,t=new r.Manager(this.canvas),n=new r.Tap({event:"doubletap",taps:2}),o=new r.Tap({event:"singletap"}),i=(new r.Pan).set({direction:r.DIRECTION_ALL});t.add([new r.Pinch,n,o,i]),n.recognizeWith(o),o.requireFailure(n),t.on("singletap",t=>this.click(e,t)),t.on("doubletap",t=>this.dblclick(e,t)),t.on("pinch",t=>this.wheel(e,t)),t.on("pan",t=>this.pan(e,t)),this.canvas.addEventListener("wheel",t=>this.wheel(e,t));const a=()=>{const t=document.body.clientWidth,n=document.body.clientHeight;this.canvas.width=t,this.canvas.height=n,this.cachedGrid.width=t,this.cachedGrid.height=n,this.cachedGrid=this.drawGrid(e)};window.addEventListener("resize",a),a(),this.draw()}render(){return a.createElement("canvas",{id:"map",ref:e=>this.canvas=e})}getCanvasContext(e){e||(e=document.createElement("canvas"));const t=e.getContext("2d");if(!t)throw new Error("cannot create context");return[e,t]}drawObjects(e){const t=e.getReader(),[n,r]=this.getCanvasContext();n.width=document.body.clientWidth,n.height=document.body.clientHeight;const i=o.Seq(t.getObjs()).groupBy(([e])=>e.kind);return(()=>{const e=i.get(u.MapDataKind.Planet);if(!e)throw new Error("game generation should generate at least 1 planet");const t=Array.from(e.values()),n=o.Seq(t).groupBy(([e])=>e.resource);r.save(),r.fillStyle="yellow",r.strokeStyle="yellow";const a=p*this.gridSize,s=(e,t)=>{const o=n.get(t);if(!o)return void console.assert(!1,"all planets should be distributed about evenly in terms of raw material types");const i=o.values();r.fillStyle=e;for(const[,n]of i){const[e,t]=this.toVpCoor(n);r.beginPath(),this.drawCircle(r,e,t,a),r.fill()}};s("green",l.Product.Crop),s("brown",l.Product.Metal),s("darkcyan",l.Product.Gem),s("orange",l.Product.Fuel),r.restore(),r.fillStyle="yellow",r.textAlign="center",r.textBaseline="middle";const c=Math.ceil(p*this.gridSize);r.font=`${c}px sans-serif`;for(const[o,i]of t){const[e,t]=this.toVpCoor(i);r.beginPath(),r.fillText(`${o.id}`,e,t)}r.restore(),r.strokeStyle="purple",r.lineWidth=2;for(const[o,i]of t)if(void 0!==o.getColony()){r.beginPath();const[e,t]=this.toVpCoor(i);this.drawCircle(r,e,t,a),r.stroke()}r.restore()})(),(()=>{const e=i.get(u.MapDataKind.Fleet);if(!e)return;const n=e.values();r.save(),r.fillStyle="yellow",r.strokeStyle="yellow";for(const[o,i]of n){const[e,n]=this.toVpCoor(i),a=o,s=t.getAngle(a);r.save(),r.beginPath(),r.translate(e,n),r.rotate(s),r.scale(.5,.5),this.drawTriangle(r),r.fill(),r.restore()}r.restore()})(),n}drawCircle(e,t,n,r){e.arc(t,n,r,0,2*Math.PI)}drawTradeRoutes(e,t,n){const r=e.getReader(),o=r.getTradeRoutes();n.save(),n.lineWidth=1,n.strokeStyle="cyan";const a=new i.SortedTrie(c.colonyCmp);for(const[i,s]of o)for(const e of s){const t=[i,e];if(a.has(t))continue;a.set(t,!0);const[o,s]=this.toVpCoor(r.getCoor(i)),[u,c]=this.toVpCoor(r.getCoor(e));n.beginPath(),n.moveTo(o,s),n.lineTo(u,c),n.stroke()}return n.restore(),t}drawGrid(e){const t=this.cachedGrid,n=t.getContext("2d");if(!n)throw new Error("cannot create context");n.clearRect(0,0,t.width,t.height),n.save(),n.lineWidth=1,n.strokeStyle="#494949";const r=this.gridSize,o=(this.topLeft[0]*r%r+r)%r;for(let a=0;a<=t.width;a+=r){const e=Math.ceil(a+o);n.beginPath(),n.moveTo(e+.5,.5),n.lineTo(e+.5,t.height+.5),n.stroke()}const i=(this.topLeft[1]*r%r+r)%r;for(let a=0;a<=t.height;a+=r){const e=Math.ceil(a+i);n.beginPath(),n.moveTo(.5,e+.5),n.lineTo(t.width+.5,e+.5),n.stroke()}return n.restore(),this.drawTradeRoutes(e,t,n),t}panTo(e,t,n){this.updateAnimation=void 0;const r=this.toGameCoor(t),o=this.toGameCoor(n),a=i.subtract(r,o);let s=i.norm(a);this.updateAnimation=(()=>{const e=.02*s;let t;if(0===e)return;e<.01/this.gridSize?(this.updateAnimation=void 0,t=s):(t=e,s-=e);const n=i.project(a,t);this.topLeft=i.add(this.topLeft,n)})}drawTriangle(e){e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath()}pan(e,t){this.panTo(e,this.getVpCenter(),i.add(this.getVpCenter(),[t.deltaX,t.deltaY]))}click(e,t){const n=e.getReader(),r=t.target.getBoundingClientRect(),o=[t.center.x-r.left,t.center.y-r.top],i=this.toGameCoor(o),a=n.searchNearbyObjs(i,p).toArray();switch(a.length){case 0:break;case 1:{const e=a[0];switch(e.kind){case u.MapDataKind.Fleet:this.props.addFleetPanel(e);break;case u.MapDataKind.Planet:this.props.addPlanetPanel(e);break;case u.MapDataKind.RouteSegment:this.props.addRoutePanel(e)}break}default:this.props.addSelector(a)}}dblclick(e,t){const n=t.target.getBoundingClientRect(),r=[t.center.x-n.left,t.center.y-n.top];this.panTo(e,this.getVpCenter(),r)}wheel(e,t){this.updateAnimation=void 0;const n=t.deltaY<0,r=this.getCenter();let o=10;this.updateAnimation=(()=>{this.gridSize=n?Math.min(d,this.gridSize+o):Math.max(h,this.gridSize-o),this.topLeft=this.centerVp(this.toVpCoor(r)),void 0!==this.updateAnimation&&(o/=1.1)<1&&(this.updateAnimation=void 0)})}centerVp(e){const t=this.toGameCoor(e),n=i.subtract(this.getCenter(),t);return i.add(this.topLeft,n)}toVpCoor([e,t]){const[n,r]=this.topLeft;return[(e+n)*this.gridSize,(t+r)*this.gridSize]}toGameCoor([e,t]){const[n,r]=this.topLeft;return[e/this.gridSize-n,t/this.gridSize-r]}getVpCenter(){const e=this.canvas;return[e.width/2,e.height/2]}getCenter(){return this.toGameCoor(this.getVpCenter())}})},function(e,t,n){var r;!function(o,i,a,s){"use strict";var u,c=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),f="function",h=Math.round,d=Math.abs,p=Date.now;function m(e,t,n){return setTimeout(E(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}u="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var _=g(function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&e[r[o]]===s)&&(e[r[o]]=t[r[o]]),o++;return e},"extend","Use `assign`."),b=g(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function w(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&u(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return typeof e==f?e.apply(t&&t[0]||s,t):e}function P(e,t){return e===s?t:e}function x(e,t,n){v(O(t),function(t){e.addEventListener(t,n,!1)})}function T(e,t,n){v(O(t),function(t){e.removeEventListener(t,n,!1)})}function C(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function O(e){return e.trim().split(/\s+/g)}function I(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function M(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];I(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function A(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<c.length;){if((r=(n=c[i])?n+o:t)in e)return r;i++}return s}var R=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var N="ontouchstart"in o,z=A(o,"PointerEvent")!==s,F=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=25,L=1,q=2,B=4,K=8,W=1,H=2,V=4,G=8,$=16,Y=H|V,Q=G|$,X=Y|Q,J=["x","y"],Z=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=t&L&&r-o===0,a=t&(B|K)&&r-o===0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=ne(t));o>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,u=a?a.center:i.center,c=t.center=re(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=se(u,c),t.distance=ae(u,c),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};t.eventType!==L&&i.eventType!==B||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=ie(t.deltaX,t.deltaY);var l=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=d(l.x)>d(l.y)?l.x:l.y,t.scale=a?(f=a.pointers,h=r,ae(h[0],h[1],Z)/ae(f[0],f[1],Z)):1,t.rotation=a?function(e,t){return se(t[1],t[0],Z)+se(e[1],e[0],Z)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=K&&(u>U||a.velocity===s)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,f=oe(u,c,l);r=f.x,o=f.y,n=d(f.x)>d(f.y)?f.x:f.y,i=ie(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var f,h;var m=e.element;C(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:h(e.pointers[n].clientX),clientY:h(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:h(e[0].clientX),y:h(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:h(n/t),y:h(r/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ie(e,t){return e===t?W:d(e)>=d(t)?e<0?H:V:t<0?G:$}function ae(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function se(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(j(this.element),this.evWin,this.domHandler)}};var ue={mousedown:L,mousemove:q,mouseup:B},ce="mousedown",le="mousemove mouseup";function fe(){this.evEl=ce,this.evWin=le,this.pressed=!1,ee.apply(this,arguments)}w(fe,ee,{handler:function(e){var t=ue[e.type];t&L&&0===e.button&&(this.pressed=!0),t&q&&1!==e.which&&(t=B),this.pressed&&(t&B&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var he={pointerdown:L,pointermove:q,pointerup:B,pointercancel:K,pointerout:K},de={2:"touch",3:"pen",4:"mouse",5:"kinect"},pe="pointerdown",me="pointermove pointerup pointercancel";function ye(){this.evEl=pe,this.evWin=me,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(pe="MSPointerDown",me="MSPointerMove MSPointerUp MSPointerCancel"),w(ye,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=he[r],i=de[e.pointerType]||e.pointerType,a="touch"==i,s=I(t,e.pointerId,"pointerId");o&L&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):o&(B|K)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var ve={touchstart:L,touchmove:q,touchend:B,touchcancel:K},ge="touchstart",_e="touchstart touchmove touchend touchcancel";function be(){this.evTarget=ge,this.evWin=_e,this.started=!1,ee.apply(this,arguments)}w(be,ee,{handler:function(e){var t=ve[e.type];if(t===L&&(this.started=!0),this.started){var n=function(e,t){var n=M(e.touches),r=M(e.changedTouches);t&(B|K)&&(n=D(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(B|K)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var we={touchstart:L,touchmove:q,touchend:B,touchcancel:K},Ee="touchstart touchmove touchend touchcancel";function Se(){this.evTarget=Ee,this.targetIds={},ee.apply(this,arguments)}w(Se,ee,{handler:function(e){var t=we[e.type],n=function(e,t){var n=M(e.touches),r=this.targetIds;if(t&(L|q)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=M(e.changedTouches),s=[],u=this.target;if(i=n.filter(function(e){return C(e.target,u)}),t===L)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;o=0;for(;o<a.length;)r[a[o].identifier]&&s.push(a[o]),t&(B|K)&&delete r[a[o].identifier],o++;if(!s.length)return;return[D(i.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Pe=2500,xe=25;function Te(){ee.apply(this,arguments);var e=E(this.handler,this);this.touch=new Se(this.manager,e),this.mouse=new fe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Pe)}}w(Te,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&L?(this.primaryTouch=t.changedPointers[0].identifier,Ce.call(this,t)):e&(B|K)&&Ce.call(this,t)}).call(this,t,n);else if(o&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=xe&&a<=xe)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ke=A(l.style,"touchAction"),Oe=ke!==s,Ie="auto",Me="manipulation",De="none",Ae="pan-x",Re="pan-y",je=function(){if(!Oe)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||o.CSS.supports("touch-action",n)}),e}();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),Oe&&this.manager.element.style&&je[e]&&(this.manager.element.style[ke]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(k(e,De))return De;var t=k(e,Ae),n=k(e,Re);if(t&&n)return De;if(t||n)return t?Ae:Re;if(k(e,Me))return Me;return Ie}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=k(r,De)&&!je[De],i=k(r,Re)&&!je[Re],a=k(r,Ae)&&!je[Ae];if(o){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!i)return o||i&&n&Y||a&&n&Q?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ze=1,Fe=2,Ue=4,Le=8,qe=Le,Be=16;function Ke(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=ze,this.simultaneous={},this.requireFail=[]}function We(e){return e&Be?"cancel":e&Le?"end":e&Ue?"move":e&Fe?"start":""}function He(e){return e==$?"down":e==G?"up":e==H?"left":e==V?"right":""}function Ve(e,t){var n=t.manager;return n?n.get(e):e}function Ge(){Ke.apply(this,arguments)}function $e(){Ge.apply(this,arguments),this.pX=null,this.pY=null}function Ye(){Ge.apply(this,arguments)}function Qe(){Ke.apply(this,arguments),this._timer=null,this._input=null}function Xe(){Ge.apply(this,arguments)}function Je(){Ge.apply(this,arguments)}function Ze(){Ke.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=P(t.recognizers,et.defaults.preset),new tt(e,t)}Ke.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=Ve(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===I(t,e=Ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=Ve(e,this);var t=I(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<Le&&r(t.options.event+We(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=Le&&r(t.options.event+We(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ze)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(qe|Be|32)&&(this.state=ze),this.state=this.process(t),this.state&(Fe|Ue|Le|Be)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Ge,Ke,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Ue),o=this.attrTest(e);return r&&(n&K||!o)?t|Be:r||o?n&B?t|Le:t&Fe?t|Ue:Fe:32}}),w($e,Ge,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&Y&&t.push(Re),e&Q&&t.push(Ae),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(t.direction&Y?(o=0===i?W:i<0?H:V,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?W:a<0?G:$,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return Ge.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=He(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(Ye,Ge,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Qe,Ke,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ie]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(B|K)&&!o)this.reset();else if(e.eventType&L)this.reset(),this._timer=m(function(){this.state=qe,this.tryEmit()},t.time,this);else if(e.eventType&B)return qe;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===qe&&(e&&e.eventType&B?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),w(Xe,Ge,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[De]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),w(Je,Ge,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|Q,pointers:1},getTouchAction:function(){return $e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Y|Q)?t=e.overallVelocity:n&Y?t=e.overallVelocityX:n&Q&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&d(t)>this.options.velocity&&e.eventType&B},emit:function(e){var t=He(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Ze,Ke,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),e.eventType&L&&0===this.count)return this.failTimeout();if(r&&o&&n){if(e.eventType!=B)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=qe,this.tryEmit()},t.interval,this),Fe):qe}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==qe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Xe,{enable:!1}],[Ye,{enable:!1},["rotate"]],[Je,{direction:Y}],[$e,{direction:Y},["swipe"]],[Ze],[Ze,{event:"doubletap",taps:2},["tap"]],[Qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){var n;this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(z?ye:F?Se:N?Te:fe))(n,te),this.touchAction=new Ne(this,this.options.touchAction),nt(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,function(o,i){n=A(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&o.state&qe)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&n.state&(Fe|Ue|Le)&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof Ke)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=I(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(O(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(O(e),function(e){t?n[e]&&n[e].splice(I(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:L,INPUT_MOVE:q,INPUT_END:B,INPUT_CANCEL:K,STATE_POSSIBLE:ze,STATE_BEGAN:Fe,STATE_CHANGED:Ue,STATE_ENDED:Le,STATE_RECOGNIZED:qe,STATE_CANCELLED:Be,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:H,DIRECTION_RIGHT:V,DIRECTION_UP:G,DIRECTION_DOWN:$,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:Q,DIRECTION_ALL:X,Manager:tt,Input:ee,TouchAction:Ne,TouchInput:Se,MouseInput:fe,PointerEventInput:ye,TouchMouseInput:Te,SingleTouchInput:be,Recognizer:Ke,AttrRecognizer:Ge,Tap:Ze,Pan:$e,Swipe:Je,Pinch:Ye,Rotate:Xe,Press:Qe,on:x,off:T,each:v,merge:b,extend:_,assign:u,inherit:w,bindFn:E,prefixed:A}),("undefined"!==typeof o?o:"undefined"!==typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(3),a=n(5),s=n(38);t.default=o.connect(e=>({isPaused:e.speedCommand.isPaused}),e=>({createImportExport:()=>e(a.addClosable(a.ClosablePanelType.ImportExport)),createTutorial:()=>e(a.addClosable(a.ClosablePanelType.Tutorial)),pause:()=>e(s.pause()),resume:()=>e(s.resume()),slowDown:()=>e(s.slowDown()),speedUp:()=>e(s.speedUp())}))(class extends r.PureComponent{constructor(){super(...arguments),this.addTrader=(e=>{if(e.ctrlKey||confirm(`Are you sure? This action costs $${i.TRADER_COST}. (press ctrl while clicking the button suppresses this message)`)){const e=this.props.gameWrapper.game.getWriter();e.addTrader(),e.withdraw(i.TRADER_COST)}}),this.pauseResumeGame=(()=>{this.props.isPaused?this.props.resume():this.props.pause()}),this.save=(()=>{this.props.gameWrapper.game.save()})}render(){const e=this.props.gameWrapper.game.getReader(),t=e.getMoney(),n=e.getNumColonists(),o=e.getNumUnusedTraders(),i=e.getDay(),a=e.getYear(),[s,u]=this.props.isPaused?["Resume","play_arrow"]:["Pause","pause"];return r.createElement("div",{id:"menu"},r.createElement("div",{id:"stats"},r.createElement("div",{title:"The score is an indicator of how well your industrial empire performs. It is the average profit up to now, less your starting capital ((profit - starting cash)/time)."},"Score: ",e.getScore()),r.createElement("div",{title:"This is the cash reserve of your industrial empire. A negative cash reserve means loans with a 10% annual interest rate, compounded daily."},"Cash: $",t.toFixed(2)),r.createElement("div",{title:"Colonists are gained through population growth from planets that encourage colonist (checkbox). One colonist is needed to colonize a new planet."},"Colonist: ",n.toFixed(2)),r.createElement("div",{title:"Invest $10000 in a new trader. Traders transport goods between planets on the trade network."},"Trader: ",o.toFixed(2),r.createElement("button",{onClick:this.addTrader},r.createElement("i",{className:"material-icons"},"add"))),r.createElement("div",null,"Day ",i,", Year ",a)),r.createElement("div",null,r.createElement("button",{title:"Import/Export save",onClick:this.props.createImportExport},r.createElement("i",{className:"material-icons"},"import_export")),r.createElement("button",{title:"Save game",onClick:this.save},r.createElement("i",{className:"material-icons"},"save")),r.createElement("button",{title:"Slow down game speed",onClick:this.props.slowDown},r.createElement("i",{className:"material-icons"},"fast_rewind")),r.createElement("button",{onClick:this.pauseResumeGame,title:s},r.createElement("i",{className:"material-icons"},u)),r.createElement("button",{title:"Increase game speed",onClick:this.props.speedUp},r.createElement("i",{className:"material-icons"},"fast_forward")),r.createElement("button",{title:"Open tutorial",onClick:this.props.createTutorial},r.createElement("i",{className:"material-icons"},"help_outline"))))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(11),i=n(9),a=n(10),s=n(117),u=n(121),c=n(132);var l;!function(e){e[e.Industry=0]="Industry",e[e.Info=1]="Info",e[e.Market=2]="Market"}(l||(l={}));t.default=class extends r.Component{constructor(){super(...arguments),this.view=document.createElement("div"),this.state={currentViewType:l.Info},this.switchToInfo=(()=>this.setState({currentViewType:l.Info})),this.switchToMarket=(()=>this.setState({currentViewType:l.Market})),this.switchToIndustry=(()=>this.setState({currentViewType:l.Industry}))}render(){const e=this.props.planet,t=e.isColonized();return r.createElement(a.default,null,r.createElement(i.default,{title:`Planet ${e.id}`}),t?r.createElement("nav",{className:"tabs"},r.createElement("div",{onClick:this.switchToInfo},"Planet"),r.createElement("div",{onClick:this.switchToMarket},"Market"),r.createElement("div",{onClick:this.switchToIndustry},"Industry")):void 0,r.createElement(o.default,null,this.getCurrentView()))}getCurrentView(){const e=this.props.game,t=this.props.planet;if(t.isColonized()){const n=t.getColony();switch(this.state.currentViewType){case l.Market:return console.assert(void 0!==n),r.createElement(c.default,{game:e,colony:n});case l.Info:return r.createElement(u.default,{game:e,planet:t});case l.Industry:return console.assert(void 0!==n),r.createElement(s.default,{gameWrapper:{game:e},colony:n});default:throw new Error("not handled")}}return r.createElement(u.default,{game:e,planet:t})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),o=n(8),i=n(0),a=n(13),s=n(2),u=n(118),c=n(119),l=n(120),f=r.Map(s.allProducts().map(e=>{const t=s.RAW_MATERIALS_SET.has(e),n=r.Seq(s.DEMAND_PRODUCTS[e]).reduce((e,t)=>e.union(t),r.Set()).map(e=>s.Product[e]).join(", ");return[e,`Is ${t?"RAW material":`SECONDARY product; consumes ${n}`}`]})),h=r.Map(s.RAW_MATERIALS.map(e=>{const t=s.allProducts().filter(t=>t===e||s.SECONDARY_PRODUCTS.has(t)||a.Industry.getFlatDemandProducts(t).has(e)).sort();return[e,r.Set(t)]}));t.default=class extends i.Component{render(){const e=this.props.gameWrapper.game,t=this.props.colony,n=e.getReader().getIndustries(t)||new Set,a=r.Seq(n).map(e=>e.productType).toSet(),d=t.getHomePlanet().resource,p=(2===n.size?a:h.get(d)).sortBy(e=>s.Product[e]).map(r=>{const a=o.toIt(n).filter(e=>e.productType===r).inject();return i.createElement("tr",{key:r},i.createElement("td",{title:f.get(r)},s.Product[r],void 0!==a?i.createElement(c.default,{colony:t,game:e,industry:a}):void 0),i.createElement("td",null,void 0!==a?i.createElement(l.default,{game:e,industry:a}):i.createElement(u.default,{colony:t,game:e,product:r})))});return i.createElement("table",null,i.createElement("tbody",null,p))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3);t.default=(({colony:e,game:t,product:n})=>{return r.createElement("button",{onClick:r=>{if(r.ctrlKey||confirm(`Are you sure? This action costs $${o.INDUSTRY_COST}, and will take up a building slot (max 2 per planet). (press ctrl while clicking the button suppresses this message)`)){const r=t.getWriter();r.addIndustry(n,e),r.withdraw(o.INDUSTRY_COST)}}},"+ Build")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3);t.default=class extends r.Component{constructor(){super(...arguments),this.updateIndustry=(e=>{const t=e.shiftKey||e.ctrlKey||confirm(`Are you sure? This action costs $${o.INDUSTRY_COST} reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)`),n=this.props.industry,r=this.props.game.getWriter();if(t)if(e.shiftKey)for(let i=0;i<10;i++)n.upgrade(),r.withdraw(o.INDUSTRY_COST);else n.upgrade(),r.withdraw(o.INDUSTRY_COST)}),this.downScaleIndustry=(e=>{const t=e.shiftKey||e.ctrlKey||confirm(`Are you sure? This action costs $${o.INDUSTRY_DEMOLISH_COST} reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)`),n=this.props.industry,r=this.props.game.getWriter();if(t)if(e.shiftKey)for(let i=0;i<10;i++)n.downSize(),r.withdraw(o.INDUSTRY_DEMOLISH_COST);else n.downSize(),r.withdraw(o.INDUSTRY_DEMOLISH_COST)}),this.demolishIndustry=(e=>{const t=this.props.industry,n=this.props.game.getWriter(),r=this.props.colony,i=t.getScale()*o.INDUSTRY_DEMOLISH_COST;(e.ctrlKey||confirm(`Are you sure? This action costs $${i} reduces operational efficiency. (press ctrl while clicking the button suppresses this message)`))&&(n.shutdownIndustry(r,t),n.withdraw(i))})}render(){return r.createElement("div",null,r.createElement("button",{onClick:this.updateIndustry,title:"expand industry (increase scale by 1)"},"+"),r.createElement("button",{onClick:this.downScaleIndustry,title:"down size (decrease scale by 1)"},"-"),r.createElement("button",{onClick:this.demolishIndustry,title:"shut down (free up the industry slot)"},"X"))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(12);t.default=(({game:e,industry:t})=>{const n=e.getReader(),a=t.getScale(),s=n.prodCap(t),u=100*t.getOperationalEff(),c=n.usedEnergy(t),l=t.getCostPerUnit();return r.createElement("div",null,r.createElement("div",{title:"Production scale is the size of your industrial complex. It determines production capacity and input consumption."},"Production Scale: ",a),r.createElement("div",{title:"Production capacity is the number of goods that the industrial complex can produce when running 100% efficiency and has enough input goods."},"Production Capacity: ",s),r.createElement("div",{title:`Operational efficiency determines prod cap and the fixed cost per unit. Industrial complexes that produce raw materials [${i.RAW_MATERIALS}] need [${o.Product[o.Product.Tool]}] to increase eff, while secondary products [${i.SECONDARY_MATERIALS}] need [${o.Product[o.Product.Machine]}] to increase eff.`},"Operational Eff.: ",u.toFixed(2)),r.createElement("div",{title:"The amount of energy used by this industrial complex. The real cost is Energy Usage times Unit Price (found this in planet panel)."},"Energy Usage: ",c.toFixed(2)),r.createElement("div",{title:"Fixed cost the amount of money that is used to produce a unit of product; input materials & energy cost aren't included."},"Fixed Cost Per Unit: ",l))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3),i=n(122),a=n(123),s=n(130),u=n(131);t.default=class extends r.Component{constructor(){super(...arguments),this.colonize=(()=>{const e=this.props.game.getWriter();let t=1;0===this.props.game.getReader().getNumColonizedPlanets()&&(t=10),e.colonizePlanet(this.props.planet,t)}),this.expandPowerPlant=(e=>{const t=this.props.game.getWriter(),n=this.props.planet;console.assert(n.isColonized());const r=n.getColony();(e.ctrlKey||confirm(`Are you sure to invest in power planet at planet ${n.id}? This action costs $${o.POWER_PLANT_COST}. (press ctrl while clicking the button suppresses this message)`))&&(t.expandPowerPlant(r),t.withdraw(o.POWER_PLANT_COST))})}render(){const e=this.props.game,t=this.props.planet,n=e.getReader(),o=t.resource,[c,l]=n.getCoor(t),f=t.getColony();return r.createElement("table",null,r.createElement("tbody",null,r.createElement(u.default,{resource:o}),r.createElement(s.default,{x:c,y:l}),void 0!==f?r.createElement(a.default,{colony:f,game:e,expandPowerPlant:this.expandPowerPlant}):r.createElement(i.default,{colonize:this.colonize,game:e})))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({colonize:e,game:t})=>{const n=t.getReader().getNumColonists()<1;return r.createElement("tr",{title:"Spend 1 free colonist to colonize this planet. You can encourage growth from colonized planets."},r.createElement("td",{colSpan:2},r.createElement("button",{onClick:e,disabled:n},"Colonize")))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(124),i=n(125),a=n(126),s=n(127),u=n(128),c=n(129);t.default=(({colony:e,expandPowerPlant:t,game:n})=>{const l=n.getReader(),{industrialUsage:f,traderUsage:h,civUsage:d,totalUsage:p}=l.getTotalPowerUsage(e),m=e.getPopulation(),y=e.getMaxPop(),v=l.growthRate(e),g=e.getPowerPlanetLevel(),_=e.getFuelDemand(),b=e.getPowerOutput(),w=l.getEnergyPrice(e),E=e.getPowerOutput(),S=100*l.getPowerUsageEff(e);return r.createElement(r.Fragment,null,r.createElement(s.default,{num:m,max:y}),r.createElement(a.default,{growthRate:v}),r.createElement(o.default,{colony:e}),r.createElement("tr",null,r.createElement("td",{colSpan:2,title:"Citizens and industrial complexes need power to be run efficiently. Ideally, you want to keep power surplus, so that the local colony and your industrial complexes can run at optimal efficiency."},r.createElement("span",null,"Usage: ",p,"/",E," (Eff.: ",S.toFixed(2),"%)"),r.createElement(i.default,{onClick:t}),r.createElement(c.default,{powerPlanetLevel:g,fuelDemand:_,powerOutput:b,energyPrice:w}),r.createElement(u.default,{industrialUsage:f,traderUsage:h,civUsage:d}))))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({colony:e})=>{let t;return r.createElement("tr",{title:"This option locks the current population, and any growth on this planet will be transferred to the colonist pool. Since industrial production is not affected by population, encouraging colonists a great way to lock down power usage."},r.createElement("td",null,"Encourage Colonists?"),r.createElement("td",null,r.createElement("input",{checked:!e.lockPopulation(),type:"checkbox",ref:e=>t=e,onChange:()=>e.lockPopulation(!t.checked)})))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3);t.default=(({onClick:e})=>r.createElement("button",{title:`Invest $${o.POWER_PLANT_COST} to build a new power plant, if you have the money. Just a reminder, you don't own any power plants; however, these power plants buy fuel from you.`,onClick:e},"+"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(12);t.default=(({growthRate:e})=>r.createElement("tr",{title:`Growth occurs when population consumes enough food; similarly starvation occurs when citizens lack food. Bonus growth is determined by 2 major factors: 1) citizens' satisfaction of basic [${o.BASIC_GOODS}] and luxuary goods [${o.LUXURY_GOODS}], and 2) sufficient power supply.`},r.createElement("td",null,"Annual Growth"),r.createElement("td",null,e>0?"+":"",Math.round(100*e),"%")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(12);t.default=(({num:e,max:t})=>r.createElement("tr",{title:`A planet's population determines domestic consumption of basic goods [${o.BASIC_GOODS}] and luxury goods [${o.LUXURY_GOODS}], which is one of the 2 ways that allow you to trade goods for money (the other way being supply fuel to power plants).`},r.createElement("td",null,"Population"),r.createElement("td",null,e.toFixed(2),"/",t)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({industrialUsage:e,traderUsage:t,civUsage:n})=>r.createElement("fieldset",{title:"The consumer panel shows details about *POTENTIAL* energy consumption on this planet. If the planet has a shortage, energy will be distributed evenly with best effort."},r.createElement("legend",null,"Consumer"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the maximum energy that your industrial complexes need."},r.createElement("td",null,"Industry"),r.createElement("td",null,e)),r.createElement("tr",{title:"This is the maximum energy that your traders need."},r.createElement("td",null,"Trader"),r.createElement("td",null,t)),r.createElement("tr",{title:"This is the maximum energy that the local population needs."},r.createElement("td",null,"Civilian"),r.createElement("td",null,n))))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({powerPlanetLevel:e,fuelDemand:t,powerOutput:n,energyPrice:o})=>r.createElement("fieldset",{title:"The producer panel shows details about power plants of this planet."},r.createElement("legend",null,"Producer"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{title:"This is the size of the power plant. Each level proportionally affects power output and fuel consumption -- the higher the level, the more power to be output and more fuel to be consumed."},r.createElement("td",null,"Power planet level"),r.createElement("td",null,e)),r.createElement("tr",{title:"Fuel demand is the quantity needed to run the power plants at 100% efficiency. This quantity is the same as what you see in the market for fuel demand."},r.createElement("td",null,"Fuel demand"),r.createElement("td",null,t)),r.createElement("tr",{title:"This is the actual power output of the power plants."},r.createElement("td",null,"Output"),r.createElement("td",null,n)),r.createElement("tr",{title:"This is how much 1 unit of energy is worth, subject to demand/supply. Both industries and civilians use power, so in the early game you might want to separate industrial planets and consumer planets."},r.createElement("td",null,"Unit price"),r.createElement("td",null,o.toFixed(2)))))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.default=(({x:e,y:t})=>r.createElement("tr",{title:"This is the coordinates of the planet."},r.createElement("td",null,"Coor"),r.createElement("td",null,"(",e.toFixed(2),",",t.toFixed(2),")")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2);t.default=(({resource:e})=>r.createElement("tr",{title:"This is the type of resource that this planet can produce locally."},r.createElement("td",null,"Resource"),r.createElement("td",null,o.Product[e])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(12);t.default=class extends r.Component{render(){const e=this.props.game.getReader(),t=this.props.colony,n=o.allProducts().map(n=>({demand:t.getDemand(n),globalDemands:e.getGalacticDemands(n),globalProdCap:e.getGalacticProdCap(n),globalSupply:e.getGalacticSupplies(n),price:t.getPrice(n),product:n,qty:t.getSupply(n)})).map(e=>r.createElement("tr",{key:e.product},r.createElement("td",null,e.product),r.createElement("td",null,o.Product[e.product]),r.createElement("td",null,e.price.toFixed(2)),r.createElement("td",null,e.qty),r.createElement("td",null,e.globalDemands),r.createElement("td",null,e.globalProdCap)));return r.createElement("table",{title:`The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap.\n\nThe galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap.\n\nSince you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [${i.BASIC_GOODS}, ${i.LUXURY_GOODS}] and by power plants [${o.Product[o.Product.Fuel]}] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned.\n\nFinally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods.`},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Id"),r.createElement("th",null,"Goods"),r.createElement("th",null,"Price"),r.createElement("th",null,"Qty"),r.createElement("th",null,"Galactic Demand"),r.createElement("th",null,"Galactic ProdCap"))),r.createElement("tbody",null,n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(6),i=n(3),a=n(5),s=n(11),u=n(39),c=n(9),l=n(10);t.default=o.connect(null,e=>({addClosable:(t,n)=>e(a.addClosable(t,n))}))(class extends r.PureComponent{constructor(e){super(e),this.view=document.createElement("div"),console.assert(e.objs.length>0)}render(){const e=this.props.game,t=this.props.objs.map(t=>{let n,o,s;switch(t.kind){case i.MapDataKind.Fleet:{const e=t;n=`Trader ${e.id}`,o="yellow",s=(()=>this.props.addClosable(a.ClosablePanelType.Fleet,e))}break;case i.MapDataKind.Planet:{const e=t;n=`Planet ${e.id}`,o="green",s=(()=>this.props.addClosable(a.ClosablePanelType.Planet,e))}break;case i.MapDataKind.RouteSegment:{const r=t;n=`${u.routeString(e,r)}`,o="darkcyan",s=(()=>this.props.addClosable(a.ClosablePanelType.Route,r))}break;default:throw new Error("unhandled")}return r.createElement("div",{className:"selectLabel",key:n,style:{color:o},onClick:s},n)});return r.createElement(l.default,null,r.createElement(c.default,{title:"Which One?"}),r.createElement(s.default,null,t))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(2),i=n(11),a=n(12),s=n(9),u=n(10);t.default=(()=>r.createElement(u.default,null,r.createElement(s.default,{title:"Tutorial"}),r.createElement(i.default,null,r.createElement("h2",null,"Getting Started"),r.createElement("p",null,"Hello. ",r.createElement("b",null,"The game is paused whenever the game is loaded.")," Follow this section and then unpause the game with the unpause button, which is located on the top-left side of the window."),r.createElement("p",null,"First, try to control the viewport by panning and pinching, or click-and-drag and zooming if you are playing on a PC."),r.createElement("p",null,"Your first step is to colonize a food-producing (green) planet as your starting planet. Choose carefully because the first colony has a starting population of 10, and subsequent colonies will have a starting population of 1. After you're done, mouse over to the user interface, like labels,buttons, tables, and read the tooltips about game concepts. Feel free to click on any colored items on the map, as they are interactive."),r.createElement("h2",null,"Goal of The Game"),"You are the boss of a galactic corporation. Like all corporations, your only goal is to maximize profit through selling products to consumers. As the boss, you can decide the company's funding in several ways.",r.createElement("ul",null,r.createElement("li",null,"Fund colonial ventures, control population growth"),r.createElement("li",null,"Buy, expand, or destroy industrial buildings"),r.createElement("li",null,"Hire traders and set up their routes"),r.createElement("li",null,"Fund power plants, which are public buildings that are owned by local governments.")),r.createElement("h2",null,"Economy"),r.createElement("p",null,"The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap."),r.createElement("p",null,"The galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap."),r.createElement("p",null,"Since you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [",a.BASIC_GOODS,", ",a.LUXURY_GOODS,"] and by power plants [",o.Product[o.Product.Fuel],"] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned."),r.createElement("p",null,"Finally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods [",a.LUXURY_GOODS,"]."),r.createElement("h2",null,"Logistics"),"The galactic trade network is created by traders, which is a collection of trade routes that connect every colonized planets with minimum distance (i.e. minimum spanning tree). While you don't control traders, you can assign them to a route (a path that connects 2 plannets) of the network. If a plannet has excess goods that other planets need, traders will transport goods to those planets.",r.createElement("h2",null,"Planet Specialization"),"Planets can't be both consumers and producers, because both populations and factories use energy and therefore drive up energy price. It is possible to fund new power plants, but very costly. Thus, controlling opulation growth (see a checkbox under the planet panel) is necessary to turn planets into either dedicated ",r.createElement("b",null,"consumers")," (high population, low production, pay a lot for consumable goods due to demand) or dedicated ",r.createElement("b",null,"producers")," (low population, high production, produce goods at cheap price).")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18),o=n(136),i=n(137);t.default=r.combineReducers({closableAction:o.closableAction,speedCommand:i.speedCommand})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5);t.closableAction=function(e=null,t){switch(t.type){case r.ClosableActionType.Switch:{const e=t;return{args:e.args,panelType:e.panelType}}case r.ClosableActionType.Close:return null;default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(38),o=20;t.speedCommand=function(e={isPaused:!0,period:50},t){switch(t.type){case r.SpeedCommandType.Pause:return Object.assign({},e,{isPaused:!0});case r.SpeedCommandType.Resume:return Object.assign({},e,{isPaused:!1});case r.SpeedCommandType.SlowDown:return Object.assign({},e,{period:(n=e.period,Math.min(100,n+o))});case r.SpeedCommandType.SpeedUp:return Object.assign({},e,{period:function(e){return Math.max(o,e-o)}(e.period)});default:return e}var n}}]);
//# sourceMappingURL=main.3efbd726.js.map