!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t,n){"use strict";e.exports=n(21)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(4)),r(n(28)),r(n(11)),r(n(6)),r(n(12)),r(n(29)),r(n(10)),r(n(30)),r(n(31)),r(n(32)),r(n(13)),r(n(33)),r(n(34)),r(n(35)),r(n(2)),r(n(36)),r(n(15)),r(n(37)),r(n(16)),r(n(38)),r(n(39)),r(n(40)),r(n(17)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(14)),r(n(7))},function(e,t,n){"use strict";function*r(e,t){let n=0;for(const r of e)yield t(r,n),++n}function i(e,t,n){let r=n,i=0;for(const n of e)r=t(r,n,i),++i;return r}function*o(e,t){let n=0;for(const r of e){if(n>=t)break;yield r,++n}}function a(e,t){let n=0;for(const r of e){if(!t(r,n))return!1;++n}return!0}function u(e,t){let n=0;for(const r of e){if(t(r,n))return!0;++n}return!1}function s(e,t){let n=0;for(const r of e){if(!t(r,n))return;++n}}function*l(e,t){let n=0;for(const r of e)t(r,n)&&(yield r),++n}function*c(e,t){let n,r=!0;for(const i of e)r?(r=!1,n=i):(yield t(n,i),n=i)}function f(e){let t=0;for(const n of e)++t;return t}function h(e){return d(e).take(1).collect()[0]}function d(e){return{collect:()=>Array.from(e),count:()=>f(e),every:t=>a(e,t),filter:t=>d(l(e,t)),forEach:t=>s(e,t),inject:()=>h(e),map:t=>d(r(e,t)),pin:t=>d(c(e,t)),reduce:(t,n)=>i(e,t,n),some:t=>u(e,t),take:t=>d(o(e,t)),*[Symbol.iterator](){for(const t of e)yield t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.toIt=d;class p{constructor(){this.collect=()=>Array.from(this),this.count=()=>f(this),this.inject=()=>h(this),this.map=e=>d(r(this,e)),this.pin=e=>d(c(this,e)),this.reduce=(e,t)=>i(this,e,t),this.some=e=>u(this,e),this.every=e=>a(this,e),this.filter=e=>d(l(this,e)),this.forEach=e=>s(this,e),this.take=e=>d(o(this,e))}*[Symbol.iterator](){for(const e of this.iterate())yield e}get isEmpty(){return 0===this.size}}t.MyIterable=p,t.genBy=function(e){return d(function*(){for(let t=0;;t++)yield e(t)}())},t.repeat=function(e){return d(function*(){for(;;)yield e}())},t.combine=function(...e){return d(function*(e){for(const t of e)for(const e of t)yield e}(e))}},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,o,a,u){"use strict";var s,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),f=Math.round,h=Math.abs,d=Date.now;function p(e,t,n){return setTimeout(_(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}s="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=g((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=g((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&s(r,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function E(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function x(e,t){return void 0===e?t:e}function k(e,t,n){v(I(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){v(I(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function A(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];A(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function M(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}}var z=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var D="ontouchstart"in i,R=void 0!==M(i,"PointerEvent"),N=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],U=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){E(e.options.enable,[e])&&n.handler(t)},this.init()}function L(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,a=12&t&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=q(t));i>1&&!n.firstMultiple?n.firstMultiple=q(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,s=t.center=K(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Q(u,s),t.distance=V(u,s),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=W(t.deltaX,t.deltaY);var l=H(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,t.scale=a?(c=a.pointers,f=r,V(f[0],f[1],U)/V(c[0],c[1],U)):1,t.rotation=a?function(e,t){return Q(t[1],t[0],U)+Q(e[1],e[0],U)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(u>25||void 0===a.velocity)){var s=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,c=H(u,s,l);r=c.x,i=c.y,n=h(c.x)>h(c.y)?c.x:c.y,o=W(s,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var c,f;var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:K(t),deltaX:e.deltaX,deltaY:e.deltaY}}function K(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function H(e,t,n){return{x:t/e||0,y:n/e||0}}function W(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function V(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function Q(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(j(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function $(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}w($,B,{handler:function(e){var t=G[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Z="pointermove pointerup pointercancel";function ee(){this.evEl=J,this.evWin=Z,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),w(ee,B,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Y[r],o=X[e.pointerType]||e.pointerType,a="touch"==o,u=A(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?u<0&&(t.push(e),u=t.length-1):12&i&&(n=!0),u<0||(t[u]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(u,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function re(e,t){var n=P(e.touches),r=P(e.changedTouches);return 12&t&&(n=O(n.concat(r),"identifier",!0)),[n,r]}w(ne,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ie={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function ae(e,t){var n=P(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(e.changedTouches),u=[],s=this.target;if(o=n.filter((function(e){return T(e.target,s)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&u.push(a[i]),12&t&&delete r[a[i].identifier],i++;return u.length?[O(o.concat(u),"identifier",!0),u]:void 0}w(oe,B,{handler:function(e){var t=ie[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function ue(){B.apply(this,arguments);var e=_(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new $(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function se(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,le.call(this,t)):12&e&&le.call(this,t)}function le(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ce(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}w(ue,B,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)se.call(this,t,n);else if(i&&ce.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fe=M(c.style,"touchAction"),he=void 0!==fe,de=function(){if(!he)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function pe(e,t){this.manager=e,this.set(t)}pe.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&de[e]&&(this.manager.element.style[fe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,(function(t){E(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(C(e,"none"))return"none";var t=C(e,"pan-x"),n=C(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(C(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,"none")&&!de.none,o=C(r,"pan-y")&&!de["pan-y"],a=C(r,"pan-x")&&!de["pan-x"];if(i){var u=1===e.pointers.length,s=e.distance<2,l=e.deltaTime<250;if(u&&s&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function me(e){this.options=s({},this.defaults,e||{}),this.id=z++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ve(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ge(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager;return n?n.get(e):e}function be(){me.apply(this,arguments)}function we(){be.apply(this,arguments),this.pX=null,this.pY=null}function _e(){be.apply(this,arguments)}function Ee(){me.apply(this,arguments),this._timer=null,this._input=null}function xe(){be.apply(this,arguments)}function ke(){be.apply(this,arguments)}function Se(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Te(e,t){return(t=t||{}).recognizers=x(t.recognizers,Te.defaults.preset),new Ce(e,t)}me.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===A(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=A(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ve(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ve(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=s({},e);if(!E(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(be,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),w(we,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ge(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(_e,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Ee,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(xe,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(ke,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ge(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Se,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||V(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Te.VERSION="2.0.7",Te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[xe,{enable:!1}],[_e,{enable:!1},["rotate"]],[ke,{direction:6}],[we,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[Ee]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ce(e,t){var n;this.options=s({},Te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(R?ee:N?oe:D?ue:$))(n,L),this.touchAction=new pe(this,this.options.touchAction),Ie(this,!0),v(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ie(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,(function(i,o){n=M(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ce.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=A(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return v(I(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return v(I(e),(function(e){t?n[e]&&n[e].splice(A(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Te,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ce,Input:B,TouchAction:pe,TouchInput:oe,MouseInput:$,PointerEventInput:ee,TouchMouseInput:ue,SingleTouchInput:ne,Recognizer:me,AttrRecognizer:be,Tap:Se,Pan:we,Swipe:ke,Pinch:_e,Rotate:xe,Press:Ee,on:k,off:S,each:v,merge:b,extend:y,assign:s,inherit:w,bindFn:_,prefixed:M}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Te,void 0===(r=function(){return Te}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(e){super(),this.cmp=e,this.arr=[],this.pop=()=>{const e=a(this.arr,this.arr.length,this.cmp),t=this.arr.pop();return console.assert(e===t),e},this.reverseSort=()=>{const e=this.arr;this.arr=[];for(let t=e.length;t>0;t--)a(e,t,this.cmp);return e},this.sortInPlace=()=>{const e=this.reverseSort();let t=0,n=e.length-1;for(;t<n;)o(e,t,n),++t,--n;return e},this.sort=()=>{const e=this.sortHelper();return r.toIt(e)},this.add=e=>{const t=this.arr.length;this.arr.push(e),function(e,t,n){console.assert(t===e.length-1);let r=t;for(;r>0;){const t=(i=r,Math.floor((i+1)/2)-1);n(e[r],e[t])<0&&o(e,r,t),r=t}var i}(this.arr,t,this.cmp)},this.iterate=()=>this.sortHelper(),this.sortHelper=()=>function*(e,t){const n=e;let r=a(n,n.length,t);for(;void 0!==r;)yield n.pop(),r=a(n,n.length,t)}(this.arr.slice(),this.cmp)}static heapify(e,...t){return i.inPlaceWrap(e,t)}static inPlaceWrap(e,t){return i.unsafeWrap(function(e,t){for(let n=Math.floor((e.length-1)/2);n>=0;n--)u(e,n,e.length,t);return e}(t,e),e)}static unsafeWrap(e,t){const n=new i(t);return n.arr=e,n}get size(){return this.arr.length}get top(){return this.isEmpty?void 0:this.arr[0]}}function o(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function a(e,t,n){const r=t-1;if(0===t)return;if(1===t)return e[r];const i=e[0];return o(e,0,r),u(e,0,r,n),i}function u(e,t,n,r){const i=e[t];let a=t;for(;;){let t=2*a+1;if(t>=n)break;const u=e[t],s=t+1;if(s<n&&r(e[s],u)<0&&(t=s),r(i,e[t])<0)break;o(e,a,t),a=t}}t.MinHeap=i},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(;i<=o;){const a=Math.floor((i+o)/2),u=r(n(e[a]),t);if(u<0)i=a+1;else{if(!(u>0))return[!0,a,i,o];o=a-1}}return[!1,i,i,o]}function i(e,t,n,i,o,a){let u=o,s=a;for(;;){const o=u-1,[a,l,c]=r(e,t,n,i,s,o);if(!a)return u;console.assert(l<=o),u=l,s=c}}function o(e,t,n,i,o,a){let u=o,s=a;for(;;){const o=u+1,[a,l,,c]=r(e,t,n,i,o,s);if(!a)return u;console.assert(l>=o),u=l,s=c}}function a(e,t,n,o){{const[a,u,s]=r(e,t,n,o,0,e.length-1);return a?i(e,t,n,o,u,s):u}}function u(e,t,n,i){{const[a,u,,s]=r(e,t,n,i,0,e.length-1);return a?o(e,t,n,i,u,s):u}}function s(e,t,n,a){{const[u,s,l,c]=r(e,t,n,a,0,e.length-1);if(!u)return;return[i(e,t,n,a,s,l),o(e,t,n,a,s,c)]}}Object.defineProperty(t,"__esModule",{value:!0}),t.lowerBound=a,t.upperBound=u,t.binarySearch=s,t.binarySearchExist=function(e,t,n,i){const[o]=r(e,t,n,i,0,e.length-1);return o},t.binaryInsert=function(e,t,n,r){const i=a(e,n(t),n,r),o=e.splice(i,0,t);return console.assert(0===o.length),e},t.binaryDelete=function(e,t,n,r){const i=s(e,t,n,r);if(void 0!==i){const[t,n]=i,r=n-t+1;e.splice(t,r)}return e},t.range=function(e,t,n,r,i){if(0===e.length)return;let o,l;const c=i(t,n);if(c<0)o=t,l=n;else{if(!(c>0))return s(e,t,r,i);o=n,l=t}const f=a(e,o,r,i),h=u(e,l,r,i);return console.assert(f<=h),[f,h]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePair=function(e,t){return[e,t]}},function(e,t,n){var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},u={},s="",l="",c="",f=2,h=3,d=2,p=[],m=0,v=0;for(o=0;o<e.length;o+=1)if(s=e.charAt(o),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=h++,u[s]=!0),l=c+s,Object.prototype.hasOwnProperty.call(a,l))c=l;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,v==t-1?(v=0,p.push(n(m)),m=0):v++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1;0==--f&&(f=Math.pow(2,d),d++),a[l]=h++,c=String(s)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,v==t-1?(v=0,p.push(n(m)),m=0):v++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete u[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)m=m<<1|1&i,v==t-1?(v=0,p.push(n(m)),m=0):v++,i>>=1;for(;;){if(m<<=1,v==t-1){p.push(n(m));break}v++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,a,u,s,l,c,f=[],h=4,d=4,p=3,m="",v=[],g={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;for(a=0,s=Math.pow(2,2),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;c=e(a);break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;c=e(a);break;case 2:return""}for(f[3]=c,o=c,v.push(c);;){if(g.index>t)return"";for(a=0,s=Math.pow(2,p),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;switch(c=a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;f[d++]=e(a),c=d-1,h--;break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=r(g.index++)),a|=(u>0?1:0)*l,l<<=1;f[d++]=e(a),c=d-1,h--;break;case 2:return v.join("")}if(0==h&&(h=Math.pow(2,p),p++),f[c])m=f[c];else{if(c!==d)return null;m=o+o.charAt(0)}v.push(m),f[d++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,s=a(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){u=r(n);for(var f=0;f<u.length;f++)o.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(6);t.mergeK=function(e,t,...n){const o=n.filter(e=>e.length>0);switch(o.length){case 0:return[];case 1:return o[0].slice();case 2:const n=o[0],r=o[1];return 1===n.length?i.binaryInsert(r.slice(),n[0],e,t):1===r.length?i.binaryInsert(n.slice(),r[0],e,t):Array.from(function(e,t,n,r){console.assert(e.length>0&&t.length>0);let i=0,o=0;const a=[];for(;;){const u=e[i],s=t[o];if(r(n(u),n(s))<0?(a.push(u),++i):(a.push(s),++o),i===e.length)return o<t.length?a.concat(t.slice(o)):a;if(o===t.length)return i<e.length?a.concat(e.slice(i)):a}}(n,r,e,t))}const a=r.MinHeap.inPlaceWrap(([n,r],[i,o])=>t(e(n[r]),e(i[o])),o.map((e,t)=>[o[t],0])),u=[];for(;;){const[e,t]=a.pop();u.push(e[t]);const n=t+1;if(0===a.size)return n<e.length?u.concat(e.slice(n)):u;n<e.length&&a.add([e,n])}}},function(e,t,n){"use strict";function r(e,t){let n,r;return e>t?(n=t,r=e):(n=e,r=t),[n,r]}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=function(e,t,n){const[i,o]=r(t,n);return Math.min(o,Math.max(i,e))},t.defaultZero=function(e){return void 0===e?0:e},t.position=function(e,t,n){const[i,o]=r(t,n),a=e-i,u=o-i;return a<0?0:0===u?1:Math.min(1,a/u)}},function(e,t,n){"use strict";function r(e,t,n){const[r]=i(e,t,n);return r}function i(e,t,n){let r=0;for(;;){if(r===t.length)return r===n.length?[0,void 0]:[-1,r];if(r===n.length)return[1,r];const i=e(t[r],n[r]);if(0!==i)return[i,r];++r}}Object.defineProperty(t,"__esModule",{value:!0}),t.cmpList=r,t.listEqual=function(e,t,n){return 0===r(e,t,n)},t.listDiff=function(e,t,n){const[,r]=i(e,t,n);return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);function*i(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,i]=n.pop();if(!r.has(e)){yield[e,i],r.add(e);const o=i+1;for(const r of t(e))n.push([r,o])}}}t.dfsPreOrder=function(e,t){return r.toIt(i(e,t))},t.dfsPreOrderHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(){super(...arguments),this.toId=new Map,this.parents=new Map,this.id=0,this.union=(...e)=>{if(e.length>0){const t=e[0];for(let n=1;n<e.length;n++){const r=e[n];this.union2(t,r)}}return this},this.isSameSet=(e,t)=>{if(console.assert(void 0!==e),console.assert(void 0!==t),e===t)return!0;const n=this.find(e);if(void 0===n)return!1;const r=this.find(t);if(void 0===r)return!1;const[i]=n,[o]=r;return i===o},this.tear=(...e)=>{for(const t of e)this.toId.delete(t)&&(this.memoizedSets=void 0,this.add(t));return this.recycle(),this},this.delete=e=>{const t=this.toId.delete(e);return t&&(this.memoizedSets=void 0),this.recycle(),t},this.clone=()=>{const e=new i;return e.toId=new Map(this.toId),e.parents=new Map(this.parents),e.id=this.id,e},this.deleteSets=(...e)=>{let t=!1;for(const n of e)for(const e of this.get(n)){const n=this.toId.get(e);this.parents.delete(n),this.toId.delete(e),t=!0}t&&(this.memoizedSets=void 0),this.recycle()},this.has=e=>void 0!==this.find(e),this.iterate=()=>(void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate()),this.memoizedSets.values()),this.aggregate=()=>{const e=new Map;for(const[t,n]of this.toId){const[r]=this.findInner(n),i=e.get(r);void 0===i?e.set(r,new Set([t])):i.add(t)}return e},this.findMut=e=>{const t=this.toId.get(e);return void 0===t?this.add(e):this.findInner(t)},this.union2=(e,t)=>{console.assert(void 0!==e),console.assert(void 0!==t),this.memoizedSets=void 0;const[n,r]=this.findMut(e),[i,o]=this.findMut(t);return n===i||(r<o?this.parents.set(n,[i,r]):r>o?this.parents.set(i,[n,o]):this.parents.set(n,[i,o+1]),this.recycle()),this},this.recycle=()=>{if(this.garbageRatio<2)return;this.memoizedSets=void 0;const e=new i;for(const t of this){const n=t.values().next().value;console.assert(void 0!==n);for(const r of t)e.union(n,r)}this.toId=e.toId,this.parents=e.parents,this.id=e.id},this.add=e=>{console.assert(void 0===this.toId.get(e)),this.memoizedSets=void 0;const t=++this.id;this.toId.set(e,t);const n=[t,0];return this.parents.set(t,n),n},this.find=e=>{const t=this.toId.get(e);if(void 0!==t)return this.findInner(t)},this.findInner=e=>{const t=[];let n=e;for(;;){const[e,r]=this.parents.get(n);if(n===e){for(const n of t)this.parents.set(n,[e,r]);return[e,r]}t.push(n),n=e}}}get size(){return this.toId.size}get(e){return r.toIt(this.getHelper(e))}*getHelper(e){const t=this.find(e);if(void 0===t)return;const[n]=t;void 0===this.memoizedSets&&(this.memoizedSets=this.aggregate());const r=this.memoizedSets.get(n);if(void 0!==r)for(const e of r)yield e}get structureSize(){return this.parents.size}get garbageRatio(){return 0===this.size?0:this.structureSize/this.size}}t.UnionFind=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.fullOuterJoin=function(e,...t){return r.combine(...t.map(e=>e.keys())).reduce((n,r)=>{const i=e(...t.map(e=>e.get(r)).filter(e=>void 0!==e));return n.set(r,i)},new Map)},t.leftJoin=function(e,t,...n){const i=new Map;for(const o of t.keys()){const t=r.toIt(n).map(e=>e.get(o)).filter(e=>void 0!==e).collect();i.set(o,e(...t))}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i=n(2),o=n(7);function*a(e){const t=r.dfsPreOrder(e,e=>e.next.values()),n=[];let i=0;for(const[e,r]of t){const t=i-r;for(let e=0;e<t;e++)n.pop(),i--;void 0!==e.keyChar?n.push(e.keyChar):console.assert(0===r),++i,void 0!==e.val&&(yield o.makePair(n.slice(),e.val))}}class u extends i.MyIterable{constructor(...e){super(),this.root={next:new Map},this.trieSize=0,this.get=e=>{const t=this.traverse(e);return void 0===t?void 0:t.val},this.has=e=>void 0!==this.get(e),this.delete=e=>{const t=[],n=this.traverse(e,(e,n)=>t.push([e,n]));if(void 0===n||void 0===n.val)return!1;--this.trieSize;let r=n;for(let e=t.length-1;e>=0&&0===r.next.size;e--){const[n,i]=t[e];console.assert(i.next.size>0),i.next.delete(n),r=i}return!0},this.set=(e,t)=>{let n=this.root;return e.forEach(e=>{if(void 0===e)throw new Error("undefined not allowed as part of the key");let t=n.next.get(e);void 0===t&&(t={next:new Map},n.next.set(e,t)),t.keyChar=e,n=t}),n.val=t,++this.trieSize,this},this.getOrSet=(e,t)=>{let n=this.root;if(e.some(e=>void 0===e))throw new Error("undefined is not allowed to be part of the key");for(const t of e){let e=n.next.get(t);void 0===e&&(e={next:new Map},n.next.set(t,e)),e.keyChar=t,n=e}return void 0===n.val&&(n.val=t(),++this.trieSize),n.val},this.keys=()=>i.toIt(a(this.root)).map(([e])=>e),this.values=()=>i.toIt(a(this.root)).map(([,e])=>e),this.getFanout=e=>{const t=this.traverse(e);return t?t.next.size:0},this.iterate=()=>a(this.root),this.traverse=(e,t=(()=>{}))=>{let n=this.root;for(const r of e){const e=n.next.get(r);if(void 0===e)return;t(r,n),n=e}return n};for(const[t,n]of e)this.set(t,n)}get size(){return this.trieSize}get isEmpty(){return 0===this.size}}t.Trie=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(15);function i(...e){let t=0;for(const n of e)t+=n;return t}t.negate=function(e){const t=new Map;for(const[n,r]of e)t.set(n,-r);return t},t.sum=i,t.average=function(e,...t){return(e+i(...t))/(t.length+1)},t.sumBy=function(e,t){let n=0;for(const r of t)n+=e(r);return n},t.sumMaps=function(...e){return r.fullOuterJoin((...e)=>i(...e),...e)}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(22)},function(e,t,n){"use strict";(function(e,n){var r=Object.keys,i=Array.isArray,o="undefined"!=typeof self?self:"undefined"!=typeof window?window:e;function a(e,t){return"object"!=typeof t||r(t).forEach((function(n){e[n]=t[n]})),e}var u=Object.getPrototypeOf,s={}.hasOwnProperty;function l(e,t){return s.call(e,t)}function c(e,t){"function"==typeof t&&(t=t(u(e))),r(t).forEach((function(n){h(e,n,t[n])}))}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,a(n&&l(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:c.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor;var m=[].slice;function v(e,t,n){return m.call(e,t,n)}function g(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function b(e){o.setImmediate?n(e):setTimeout(e,0)}function w(e,t){return e.reduce((function(e,n,r){var i=t(n,r);return i&&(e[i[0]]=i[1]),e}),{})}function _(e,t){return function(){try{e.apply(this,arguments)}catch(e){t(e)}}}function E(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}function x(e,t){if(l(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=x(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:x(u,t.substr(a+1))}}function k(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)k(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),u=t.substr(o+1);if(""===u)void 0===n?delete e[a]:e[a]=n;else{var s=e[a];s||(s=e[a]={}),k(s,u,n)}}else void 0===n?delete e[t]:e[t]=n}}function S(e){var t={};for(var n in e)l(e,n)&&(t[n]=e[n]);return t}var T=[].concat;function C(e){return T.apply([],e)}var I="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(C([8,16,32,64].map((function(e){return["Int","Uint","Float"].map((function(t){return t+e+"Array"}))})))).filter((function(e){return o[e]})).map((function(e){return o[e]}));function A(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){t=[];for(var n=0,r=e.length;n<r;++n)t.push(A(e[n]))}else if(I.indexOf(e.constructor)>=0)t=e;else for(var o in t=e.constructor?Object.create(e.constructor.prototype):{},e)l(e,o)&&(t[o]=A(e[o]));return t}function P(e,t,n,i){return n=n||{},i=i||"",r(e).forEach((function(r){if(l(t,r)){var o=e[r],a=t[r];"object"==typeof o&&"object"==typeof a&&o&&a&&""+o.constructor==""+a.constructor?P(o,a,n,i+r+"."):o!==a&&(n[i+r]=t[r])}else n[i+r]=void 0})),r(t).forEach((function(r){l(e,r)||(n[i+r]=t[r])})),n}var O="undefined"!=typeof Symbol&&Symbol.iterator,M=O?function(e){var t;return null!=e&&(t=e[O])&&t.apply(e)}:function(){return null},z={};function j(e){var t,n,r,o;if(1===arguments.length){if(i(e))return e.slice();if(this===z&&"string"==typeof e)return[e];if(o=M(e)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var D="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(e,t){D=e,N=t}var N=function(){return!0},F=!new Error("").stack;function U(){if(F)try{throw U.arguments,new Error}catch(e){return e}return new Error}function B(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(N).map((function(e){return"\n"+e})).join("")):""}var L=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],q=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(L),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function H(e,t){this._e=U(),this.name=e,this.message=t}function W(e,t,n,r){this._e=U(),this.failures=t,this.failedKeys=r,this.successCount=n}function V(e,t){this._e=U(),this.name="BulkError",this.failures=t,this.message=function(e,t){return e+". Errors: "+t.map((function(e){return e.toString()})).filter((function(e,t,n){return n.indexOf(e)===t})).join("\n")}(e,t)}d(H).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+B(this._e,2))}},toString:function(){return this.name+": "+this.message}}),d(W).from(H),d(V).from(H);var Q=q.reduce((function(e,t){return e[t]=t+"Error",e}),{}),G=H,$=q.reduce((function(e,t){var n=t+"Error";function r(e,r){this._e=U(),this.name=n,e?"string"==typeof e?(this.message=e,this.inner=r||null):"object"==typeof e&&(this.message=e.name+" "+e.message,this.inner=e):(this.message=K[t]||n,this.inner=null)}return d(r).from(G),e[t]=r,e}),{});$.Syntax=SyntaxError,$.Type=TypeError,$.Range=RangeError;var Y=L.reduce((function(e,t){return e[t+"Error"]=$[t],e}),{});var X=q.reduce((function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=$[t]),e}),{});function J(){}function Z(e){return e}function ee(e,t){return null==e||e===Z?t:function(n){return t(e(n))}}function te(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ne(e,t){return e===J?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?te(r,this.onsuccess):r),i&&(this.onerror=this.onerror?te(i,this.onerror):i),void 0!==o?o:n}}function re(e,t){return e===J?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?te(n,this.onsuccess):n),r&&(this.onerror=this.onerror?te(r,this.onerror):r)}}function ie(e,t){return e===J?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var u=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?te(i,this.onsuccess):i),o&&(this.onerror=this.onerror?te(o,this.onerror):o),void 0===r?void 0===u?void 0:u:a(r,u)}}function oe(e,t){return e===J?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ae(e,t){return e===J?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then((function(){return t.apply(r,o)}))}return t.apply(this,arguments)}}X.ModifyError=W,X.DexieError=H,X.BulkError=V;var ue={},se=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(t){var e=o.Promise;return e?[e.resolve(),e.prototype,e.resolve()]:[]}}(),le=se[0],ce=se[1],fe=se[2],he=ce&&ce.then,de=le&&le.constructor,pe=se[3],me=!!fe,ve=!1,ge=fe?function(){fe.then(Ue)}:o.setImmediate?n.bind(null,Ue):o.MutationObserver?function(){var e=document.createElement("div");new MutationObserver((function(){Ue(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(Ue,0)},ye=function(e,t){Ce.push([e,t]),we&&(ge(),we=!1)},be=!0,we=!0,_e=[],Ee=[],xe=null,ke=Z,Se={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:st,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(e){try{st(e[0],e[1])}catch(e){}}))}},Te=Se,Ce=[],Ie=0,Ae=[];function Pe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=J,this._lib=!1;var t=this._PSD=Te;if(D&&(this._stackHolder=U(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ue)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&je(this,this._value))}this._state=null,this._value=null,++t.ref,ze(this,e)}var Oe={get:function(){var e=Te,t=$e;function n(n,r){var i=this,o=!e.global&&(e!==Te||t!==$e);o&&Ze();var a=new Pe((function(t,a){Re(i,new Me(at(n,e,o),at(r,e,o),t,a,e))}));return D&&Fe(a,this),a}return n.prototype=ue,n},set:function(e){h(this,"then",e&&e.prototype===ue?Oe:{get:function(){return e},set:Oe.set})}};function Me(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function ze(e,t){try{t((function(t){if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Be();t&&"function"==typeof t.then?ze(e,(function(e,n){t instanceof Pe?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,De(e)),n&&Le()}}),je.bind(null,e))}catch(t){je(e,t)}}function je(e,t){if(Ee.push(t),null===e._state){var n=e._lib&&Be();t=ke(t),e._state=!1,e._value=t,D&&null!==t&&"object"==typeof t&&!t._promise&&E((function(){var n=function e(t,n){var r;return p(t,n)||(r=u(t))&&e(r,n)}(t,"stack");t._promise=e,h(t,"stack",{get:function(){return ve?n&&(n.get?n.get.apply(t):n.value):e.stack}})})),function(e){_e.some((function(t){return t._value===e._value}))||_e.push(e)}(e),De(e),n&&Le()}}function De(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Re(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Ie&&(++Ie,ye((function(){0==--Ie&&qe()}),[]))}function Re(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ie,ye(Ne,[n,e,t])}else e._listeners.push(t)}function Ne(e,t,n){try{xe=t;var r,i=t._value;t._state?r=e(i):(Ee.length&&(Ee=[]),r=e(i),-1===Ee.indexOf(i)&&function(e){var t=_e.length;for(;t;)if(_e[--t]._value===e._value)return void _e.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{xe=null,0==--Ie&&qe(),--n.psd.ref||n.psd.finalize()}}function Fe(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Ue(){Be()&&Le()}function Be(){var e=be;return be=!1,we=!1,e}function Le(){var e,t,n;do{for(;Ce.length>0;)for(e=Ce,Ce=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ce.length>0);be=!0,we=!0}function qe(){var e=_e;_e=[],e.forEach((function(e){e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ae.slice(0),n=t.length;n;)t[--n]()}function Ke(e){return new Pe(ue,!1,e)}function He(e,t){var n=Te;return function(){var r=Be(),i=Te;try{return rt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{rt(i,!1),r&&Le()}}}c(Pe.prototype,{then:Oe,_then:function(e,t){Re(this,new Me(null,null,e,t,Te))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(function(e){return e instanceof t?n(e):Ke(e)})):this.then(null,(function(e){return e&&e.name===t?n(e):Ke(e)}))},finally:function(e){return this.then((function(t){return e(),t}),(function(t){return e(),Ke(t)}))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var e=function e(t,n,r){if(n.length===r)return n;var i="";if(!1===t._state){var o,a,u=t._value;null!=u?(o=u.name||"Error",a=u.message||u,i=B(u,0)):(o=u,a=""),n.push(o+(a?": "+a:"")+i)}D&&((i=B(t._stackHolder,2))&&-1===n.indexOf(i)&&n.push(i),t._prev&&e(t._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(e,t){var n=this;return e<1/0?new Pe((function(r,i){var o=setTimeout((function(){return i(new $.Timeout(t))}),e);n.then(r,i).finally(clearTimeout.bind(null,o))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Pe.prototype,Symbol.toStringTag,"Promise"),Se.env=it(),c(Pe,{all:function(){var e=j.apply(null,arguments).map(et);return new Pe((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((function(i,o){return Pe.resolve(i).then((function(n){e[o]=n,--r||t(e)}),n)}))}))},resolve:function(e){if(e instanceof Pe)return e;if(e&&"function"==typeof e.then)return new Pe((function(t,n){e.then(t,n)}));var t=new Pe(ue,!0,e);return Fe(t,xe),t},reject:Ke,race:function(){var e=j.apply(null,arguments).map(et);return new Pe((function(t,n){e.map((function(e){return Pe.resolve(e).then(t,n)}))}))},PSD:{get:function(){return Te},set:function(e){return Te=e}},newPSD:Xe,usePSD:ot,scheduler:{get:function(){return ye},set:function(e){ye=e}},rejectionMapper:{get:function(){return ke},set:function(e){ke=e}},follow:function(e,t){return new Pe((function(n,r){return Xe((function(t,n){var r=Te;r.unhandleds=[],r.onunhandled=n,r.finalize=te((function(){var e=this;!function(e){Ae.push((function t(){e(),Ae.splice(Ae.indexOf(t),1)})),++Ie,ye((function(){0==--Ie&&qe()}),[])}((function(){0===e.unhandleds.length?t():n(e.unhandleds[0])}))}),r.finalize),e()}),t,n,r)}))}});var We={awaits:0,echoes:0,id:0},Ve=0,Qe=[],Ge=0,$e=0,Ye=0;function Xe(e,t,n,r){var i=Te,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Ye;var u=Se.env;o.env=me?{Promise:Pe,PromiseProp:{value:Pe,configurable:!0,writable:!0},all:Pe.all,race:Pe.race,resolve:Pe.resolve,reject:Pe.reject,nthen:ut(u.nthen,o),gthen:ut(u.gthen,o)}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=ot(o,e,n,r);return 0===o.ref&&o.finalize(),s}function Je(){return We.id||(We.id=++Ve),++We.awaits,We.echoes+=7,We.id}function Ze(e){!We.awaits||e&&e!==We.id||(0==--We.awaits&&(We.id=0),We.echoes=7*We.awaits)}function et(e){return We.echoes&&e&&e.constructor===de?(Je(),e.then((function(e){return Ze(),e}),(function(e){return Ze(),lt(e)}))):e}function tt(e){++$e,We.echoes&&0!=--We.echoes||(We.echoes=We.id=0),Qe.push(Te),rt(e,!0)}function nt(){var e=Qe[Qe.length-1];Qe.pop(),rt(e,!1)}function rt(e,t){var n,r=Te;if((t?!We.echoes||Ge++&&e===Te:!Ge||--Ge&&e===Te)||(n=t?tt.bind(null,e):nt,he.call(le,n)),e!==Te&&(Te=e,r===Se&&(Se.env=it()),me)){var i=Se.env.Promise,a=e.env;ce.then=a.nthen,i.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),i.all=a.all,i.race=a.race,i.resolve=a.resolve,i.reject=a.reject)}}function it(){var e=o.Promise;return me?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,resolve:e.resolve,reject:e.reject,nthen:ce.then,gthen:e.prototype.then}:{}}function ot(e,t,n,r,i){var o=Te;try{return rt(e,!0),t(n,r,i)}finally{rt(o,!1)}}function at(e,t,n){return"function"!=typeof e?e:function(){var r=Te;n&&Je(),rt(t,!0);try{return e.apply(this,arguments)}finally{rt(r,!1)}}}function ut(e,t){return function(n,r){return e.call(this,at(n,t,!1),at(r,t,!1))}}function st(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,i={promise:t,reason:e};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),a(r,i)):o.CustomEvent&&a(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(e){}r.defaultPrevented||console.warn("Unhandled rejection: "+(e.stack||e))}catch(e){}}var lt=Pe.reject;function ct(e){var t={},n=function(n,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=u;for(var o=1,a=arguments.length;o<a;++o)u(arguments[o]);return n;function u(e,r,i){if("object"==typeof e)return s(e);r||(r=oe),i||(i=J);var o={subscribers:[],fire:i,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(r,i)}};return t[e]=n[e]=o,o}function s(e){r(e).forEach((function(t){var n=e[t];if(i(n))u(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new $.InvalidArgument("Invalid event config");var r=u(t,Z,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){b((function(){e.apply(null,t)}))}))}))}}))}}var ft,ht=String.fromCharCode(65535),dt=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return ht}}(),pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",mt=[],vt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),gt=vt,yt=vt,bt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};function wt(e,t){var n,u,s,f,d,p=wt.dependencies,m=a({addons:wt.addons,autoOpen:!0,indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},t),b=m.addons,T=m.autoOpen,I=m.indexedDB,O=m.IDBKeyRange,M=this._dbSchema={},R=[],N=[],F={},L=null,q=null,K=!1,H=null,Q=!1,G="readwrite",Y=this,X=new Pe((function(e){n=e})),te=new Pe((function(e,t){u=t})),oe=!0,ue=!!Ot(I);function se(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function le(e,t,n){var i=Y._createTransaction(G,N,M);i.create(t),i._completion.catch(n);var o=i._reject.bind(i);Xe((function(){Te.trans=i,0===e?(r(M).forEach((function(e){ce(t,e,M[e].primKey,M[e].indexes)})),Pe.follow((function(){return Y.on.populate.fire(i)})).catch(o)):function(e,t,n){var i=[],o=R.filter((function(t){return t._cfg.version===e}))[0];if(!o)throw new $.Upgrade("Dexie specification of currently installed DB version is missing");M=Y._dbSchema=o._cfg.dbschema;var a=!1;function u(){return i.length?Pe.resolve(i.shift()(t.idbtrans)).then(u):Pe.resolve()}return R.filter((function(t){return t._cfg.version>e})).forEach((function(e){i.push((function(){var r=M,i=e._cfg.dbschema;je(r,n),je(i,n),M=Y._dbSchema=i;var o=function(e,t){var n={del:[],add:[],change:[]};for(var r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(i){var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(i.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var u=i.idxByName,s=o.idxByName;for(var l in u)s[l]||a.del.push(l);for(l in s){var c=u[l],f=s[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,o])}return n}(r,i);if(o.add.forEach((function(e){ce(n,e[0],e[1].primKey,e[1].indexes)})),o.change.forEach((function(e){if(e.recreate)throw new $.Upgrade("Not yet support for changing primary key");var t=n.objectStore(e.name);e.add.forEach((function(e){fe(t,e)})),e.change.forEach((function(e){t.deleteIndex(e.name),fe(t,e)})),e.del.forEach((function(e){t.deleteIndex(e)}))})),e._cfg.contentUpgrade)return a=!0,Pe.follow((function(){e._cfg.contentUpgrade(t)}))})),i.push((function(t){a&&gt||function(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var r=t.db.objectStoreNames[n];null==e[r]&&t.db.deleteObjectStore(r)}}(e._cfg.dbschema,t)}))})),u().then((function(){!function(e,t){r(e).forEach((function(n){t.db.objectStoreNames.contains(n)||ce(t,n,e[n].primKey,e[n].indexes)}))}(M,n)}))}(e,i,t).catch(o)}))}function ce(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(e){fe(i,e)})),i}function fe(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function he(e,t,n){var r=arguments.length;if(r<2)throw new $.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=C(i);return[e,o,n]}function me(e,t,n){this.name=e,this.schema=t,this._tx=n,this.hook=F[e]?F[e].hook:ct(null,{creating:[ne,J],reading:[ee,Z],updating:[ie,J],deleting:[re,J]})}function ve(e,t,n){return(n?St:xt)((function(n){e.push(n),t&&t()}))}function ge(e,t,n,r,i){return new Pe((function(o,a){var u=n.length,s=u-1;if(0===u)return o();if(r){var l,c=St(a),f=Et(null);E((function(){for(var r=0;r<u;++r){l={onsuccess:null,onerror:null};var a=n[r];i.call(l,a[0],a[1],t);var h=e.delete(a[0]);h._hookCtx=l,h.onerror=c,h.onsuccess=r===s?Et(o):f}}),(function(e){throw l.onerror&&l.onerror(e),e}))}else for(var h=0;h<u;++h){var d=e.delete(n[h]);d.onerror=xt(a),h===s&&(d.onsuccess=He((function(){return o()})))}}))}function ye(e,t,n,r){var i=this;this.db=Y,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=ct(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pe((function(e,t){i._resolve=e,i._reject=t})),this._completion.then((function(){i.active=!1,i.on.complete.fire()}),(function(e){var t=i.active;return i.active=!1,i.on.error.fire(e),i.parent?i.parent._reject(e):t&&i.idbtrans&&i.idbtrans.abort(),lt(e)}))}function be(e,t,n){this._ctx={table:e,index:":id"===t?null:t,or:n}}function we(e,t){var n=null,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx,o=i.table;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:o.hook.reading.fire}}function _e(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ee(e,t){return e._cfg.version-t._cfg.version}function xe(e,t,n){t.forEach((function(t){var r=n[t];e.forEach((function(e){t in e||(e===ye.prototype||e instanceof ye?h(e,t,{get:function(){return this.table(t)}}):e[t]=new me(t,r))}))}))}function ke(e,t,n,r,i,o){var a=He(o?function(e,t,r){return n(o(e),t,r)}:n,i);e.onerror||(e.onerror=xt(i)),e.onsuccess=_(t?function(){var n=e.result;if(n){var o=function(){n.continue()};t(n,(function(e){o=e}),r,i)&&a(n.value,n,(function(e){o=e})),o()}else r()}:function(){var t=e.result;if(t){var n=function(){t.continue()};a(t.value,t,(function(e){n=e})),n()}else r()},i)}function Se(e,t){return I.cmp(e,t)}function Ce(e,t){return Se(e,t)>0?e:t}function Ie(e,t){return I.cmp(e,t)}function Ae(e,t){return I.cmp(t,e)}function Oe(e,t){return e<t?-1:e===t?0:1}function Me(e,t){return e>t?-1:e===t?0:1}function ze(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function je(e,t){for(var n=t.db.objectStoreNames,r=0;r<n.length;++r){var i=n[r],a=t.objectStore(i);s="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var l=a.indexNames[u],c=a.index(l).keyPath,f="string"==typeof c?c:"["+v(c).join("+")+"]";if(e[i]){var h=e[i].idxByName[f];h&&(h.name=l)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s=!1)}function De(e){Y.on("blocked").fire(e),mt.filter((function(e){return e.name===Y.name&&e!==Y&&!e._vcFired})).map((function(t){return t.on("versionchange").fire(e)}))}this.version=function(e){if(L||K)throw new $.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=R.filter((function(t){return t._cfg.version===e}))[0];return t||(t=new se(e),R.push(t),R.sort(Ee),oe=!1,t)},a(se.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;var t={};R.forEach((function(e){a(t,e._cfg.storesSource)}));var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),M=Y._dbSchema=n,[F,Y,ye.prototype].forEach((function(e){for(var t in e)e[t]instanceof me&&delete e[t]})),xe([F,Y,ye.prototype,this._cfg.tables],r(n),n),N=r(n),this},upgrade:function(e){return this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){r(e).forEach((function(n){if(null!==e[n]){var r={},o=function(e){var t=[];return e.split(",").forEach((function(e){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;t.push(new It(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i(r),/\./.test(e)))})),t}(e[n]),a=o.shift();if(a.multi)throw new $.Schema("Primary key cannot be multi-valued");a.keyPath&&k(r,a.keyPath,a.auto?0:a.keyPath),o.forEach((function(e){if(e.auto)throw new $.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new $.Schema("Index must have a name and cannot be an empty string");k(r,e.keyPath,e.compound?e.keyPath.map((function(){return""})):"")})),t[n]=new At(n,a,o,r)}}))}}),this._allTables=F,this._createTransaction=function(e,t,n,r){return new ye(e,t,n,r)},this._whenReady=function(e){return Q||Te.letThrough?e():new Pe((function(e,t){if(!K){if(!T)return void t(new $.DatabaseClosed);Y.open().catch(J)}X.then(e,t)})).then(e)},this.verno=0,this.open=function(){if(K||L)return X.then((function(){return q?lt(q):Y}));D&&(te._stackHolder=U()),K=!0,q=null,Q=!1;var t=n,i=null;return Pe.race([te,new Pe((function(t,n){if(!I)throw new $.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var o=oe?I.open(e):I.open(e,Math.round(10*Y.verno));if(!o)throw new $.MissingAPI("IndexedDB API not available");o.onerror=xt(n),o.onblocked=He(De),o.onupgradeneeded=He((function(t){if(i=o.transaction,oe&&!Y._allowEmptyDB){o.onerror=Tt,i.abort(),o.result.close();var r=I.deleteDatabase(e);r.onsuccess=r.onerror=He((function(){n(new $.NoSuchDatabase("Database "+e+" doesnt exist"))}))}else{i.onerror=xt(n),le((t.oldVersion>Math.pow(2,62)?0:t.oldVersion)/10,i,n)}}),n),o.onsuccess=He((function(){if(i=null,L=o.result,mt.push(Y),oe)!function(){if(Y.verno=L.version/10,Y._dbSchema=M={},0===(N=v(L.objectStoreNames,0)).length)return;var e=L.transaction(Pt(N),"readonly");N.forEach((function(t){for(var n=e.objectStore(t),r=n.keyPath,i=r&&"string"==typeof r&&-1!==r.indexOf("."),o=new It(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,i),a=[],u=0;u<n.indexNames.length;++u){var s=n.index(n.indexNames[u]);i=(r=s.keyPath)&&"string"==typeof r&&-1!==r.indexOf(".");var l=new It(s.name,r,!!s.unique,!!s.multiEntry,!1,r&&"string"!=typeof r,i);a.push(l)}M[t]=new At(t,o,a,{})})),xe([F],r(M),M)}();else if(L.objectStoreNames.length>0)try{je(M,L.transaction(Pt(L.objectStoreNames),"readonly"))}catch(e){}L.onversionchange=He((function(e){Y._vcFired=!0,Y.on("versionchange").fire(e)})),ue||"__dbnames"===e||ft.dbnames.put({name:e}).catch(J),t()}),n)}))]).then((function(){return H=[],Pe.resolve(wt.vip(Y.on.ready.fire)).then((function e(){if(H.length>0){var t=H.reduce(ae,J);return H=[],Pe.resolve(wt.vip(t)).then(e)}}))})).finally((function(){H=null})).then((function(){return K=!1,Y})).catch((function(e){try{i&&i.abort()}catch(e){}return K=!1,Y.close(),lt(q=e)})).finally((function(){Q=!0,t()}))},this.close=function(){var e=mt.indexOf(Y);if(e>=0&&mt.splice(e,1),L){try{L.close()}catch(e){}L=null}T=!1,q=new $.DatabaseClosed,K&&u(q),X=new Pe((function(e){n=e})),te=new Pe((function(e,t){u=t}))},this.delete=function(){var t=arguments.length>0;return new Pe((function(n,r){if(t)throw new $.InvalidArgument("Arguments not allowed in db.delete()");function i(){Y.close();var t=I.deleteDatabase(e);t.onsuccess=He((function(){ue||ft.dbnames.delete(e).catch(J),n()})),t.onerror=xt(r),t.onblocked=De}K?X.then(i):i()}))},this.backendDB=function(){return L},this.isOpen=function(){return null!==L},this.hasBeenClosed=function(){return q&&q instanceof $.DatabaseClosed},this.hasFailed=function(){return null!==q},this.dynamicallyOpened=function(){return oe},this.name=e,c(this,{tables:{get:function(){return r(F).map((function(e){return F[e]}))}}}),this.on=ct(this,"populate","blocked","versionchange",{ready:[ae,J]}),this.on.ready.subscribe=g(this.on.ready.subscribe,(function(e){return function(t,n){wt.vip((function(){Q?(q||Pe.resolve().then(t),n&&e(t)):H?(H.push(t),n&&e(t)):(e(t),n||e((function e(){Y.on.ready.unsubscribe(t),Y.on.ready.unsubscribe(e)})))}))}})),this.transaction=function(){var e=he.apply(this,arguments);return this._transaction.apply(this,e)},this._transaction=function(e,t,n){var r=Te.trans;r&&r.db===Y&&-1===e.indexOf("!")||(r=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var o=t.map((function(e){var t=e instanceof me?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}));if("r"==e||"readonly"==e)e="readonly";else{if("rw"!=e&&e!=G)throw new $.InvalidArgument("Invalid transaction mode: "+e);e=G}if(r){if("readonly"===r.mode&&e===G){if(!i)throw new $.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((function(e){if(r&&-1===r.storeNames.indexOf(e)){if(!i)throw new $.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),i&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(function(t,n){n(e)})):lt(e)}return r?r._promise(e,a,"lock"):Te.trans?ot(Te.transless,(function(){return Y._whenReady(a)})):Y._whenReady(a);function a(){return Pe.resolve().then((function(){var t,i=Te.transless||Te,a=Y._createTransaction(e,o,M,r),u={trans:a,transless:i};r?a.idbtrans=r.idbtrans:a.create(),n.constructor===pe&&Je();var s=Pe.follow((function(){if(t=n.call(a,a))if(t.constructor===de){var e=Ze.bind(null,null);t.then(e,e)}else"function"==typeof t.next&&"function"==typeof t.throw&&(t=Ct(t))}),u);return(t&&"function"==typeof t.then?Pe.resolve(t).then((function(e){return a.active?e:lt(new $.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):s.then((function(){return t}))).then((function(e){return r&&a._resolve(),a._completion.then((function(){return e}))})).catch((function(e){return a._reject(e),lt(e)}))}))}},this.table=function(e){if(!l(F,e))throw new $.InvalidTable("Table "+e+" does not exist");return F[e]},c(me.prototype,{_trans:function(e,t,n){var r=this._tx||Te.trans;return r&&r.db===Y?r===Te.trans?r._promise(e,t,n):Xe((function(){return r._promise(e,t,n)}),{trans:r,transless:Te.transless||Te}):function e(t,n,r){if(Q||Te.letThrough){var i=Y._createTransaction(t,n,M);try{i.create()}catch(e){return lt(e)}return i._promise(t,(function(e,t){return Xe((function(){return Te.trans=i,r(e,t,i)}))})).then((function(e){return i._completion.then((function(){return e}))}))}if(!K){if(!T)return lt(new $.DatabaseClosed);Y.open().catch(J)}return X.then((function(){return e(t,n,r)}))}(e,[this.name],t)},_idbstore:function(e,t,n){var r=this.name;return this._trans(e,(function(e,n,i){if(-1===i.storeNames.indexOf(r))throw new $.NotFound("Table"+r+" not part of transaction");return t(e,n,i.idbtrans.objectStore(r),i)}),n)},get:function(e,t){if(e&&e.constructor===Object)return this.where(e).first(t);var n=this;return this._idbstore("readonly",(function(t,r,i){var o=i.get(e);o.onerror=xt(r),o.onsuccess=He((function(){t(n.hook.reading.fire(o.result))}),r)})).then(t)},where:function(e){if("string"==typeof e)return new be(this,e);if(i(e))return new be(this,"["+e.join("+")+"]");var t=r(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(e){return e.compound&&t.every((function(t){return e.keyPath.indexOf(t)>=0}))&&e.keyPath.every((function(e){return t.indexOf(e)>=0}))}))[0];if(n&&dt!==ht)return this.where(n.name).equals(n.keyPath.map((function(t){return e[t]})));n||console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a compound index ["+t.join("+")+"]");var o=this.schema.idxByName,a=t.reduce((function(t,n){return[t[0]||o[n],t[0]||!o[n]?ze(t[1],(function(t){return""+x(t,n)==""+e[n]})):t[1]]}),[null,null]),u=a[0];return u?this.where(u.name).equals(e[u.keyPath]).filter(a[1]):n?this.filter(a[1]):this.where(t).equals("")},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new we(new be(this,i(e)?"["+e.join("+")+"]":e))},toCollection:function(){return new we(new be(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&_t(n,t),this.schema.instanceTemplate=n;var r=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var r in t)if(l(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),e},defineClass:function(e){return this.mapToClass(wt.defineClass(e),e)},bulkDelete:function(e){return this.hook.deleting.fire===J?this._idbstore(G,(function(t,n,r,i){t(ge(r,i,e,!1,J))})):this.where(":id").anyOf(e).delete().then((function(){}))},bulkPut:function(e,t){var n=this;return this._idbstore(G,(function(r,i,o){if(!o.keyPath&&!n.schema.primKey.auto&&!t)throw new $.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(o.keyPath&&t)throw new $.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return r();var a,u,s=function(e){0===l.length?r(e):i(new V(n.name+".bulkPut(): "+l.length+" of "+c+" operations failed",l))},l=[],c=e.length,f=n;if(n.hook.creating.fire===J&&n.hook.updating.fire===J){u=ve(l);for(var h=0,d=e.length;h<d;++h)(a=t?o.put(e[h],t[h]):o.put(e[h])).onerror=u;a.onerror=ve(l,s),a.onsuccess=kt(s)}else{var p=t||o.keyPath&&e.map((function(e){return x(e,o.keyPath)})),m=p&&w(p,(function(t,n){return null!=t&&[t,e[n]]}));(p?f.where(":id").anyOf(p.filter((function(e){return null!=e}))).modify((function(){this.value=m[this.primKey],m[this.primKey]=null})).catch(W,(function(e){l=e.failures})).then((function(){for(var n=[],r=t&&[],i=p.length-1;i>=0;--i){var o=p[i];(null==o||m[o])&&(n.push(e[i]),t&&r.push(o),null!=o&&(m[o]=null))}return n.reverse(),t&&r.reverse(),f.bulkAdd(n,r)})).then((function(e){var t=p[p.length-1];return null!=t?t:e})):f.bulkAdd(e)).then(s).catch(V,(function(e){l=l.concat(e.failures),s()})).catch(i)}}),"locked")},bulkAdd:function(e,t){var n=this,r=this.hook.creating.fire;return this._idbstore(G,(function(i,o,a,u){if(!a.keyPath&&!n.schema.primKey.auto&&!t)throw new $.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&t)throw new $.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(t&&t.length!==e.length)throw new $.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return i();function s(e){0===h.length?i(e):o(new V(n.name+".bulkAdd(): "+h.length+" of "+d+" operations failed",h))}var l,c,f,h=[],d=e.length;if(r!==J){var p,m=a.keyPath;c=ve(h,null,!0),f=Et(null),E((function(){for(var n=0,i=e.length;n<i;++n){p={onerror:null,onsuccess:null};var o=t&&t[n],s=e[n],h=t?o:m?x(s,m):void 0,d=r.call(p,h,s,u);null==h&&null!=d&&(m?k(s=A(s),m,d):o=d),(l=null!=o?a.add(s,o):a.add(s))._hookCtx=p,n<i-1&&(l.onerror=c,p.onsuccess&&(l.onsuccess=f))}}),(function(e){throw p.onerror&&p.onerror(e),e})),l.onerror=ve(h,s,!0),l.onsuccess=Et(s)}else{c=ve(h);for(var v=0,g=e.length;v<g;++v)(l=t?a.add(e[v],t[v]):a.add(e[v])).onerror=c;l.onerror=ve(h,s),l.onsuccess=kt(s)}}))},add:function(e,t){var n=this.hook.creating.fire;return this._idbstore(G,(function(r,i,o,a){var u={onsuccess:null,onerror:null};if(n!==J){var s=null!=t?t:o.keyPath?x(e,o.keyPath):void 0,l=n.call(u,s,e,a);null==s&&null!=l&&(o.keyPath?k(e,o.keyPath,l):t=l)}try{var c=null!=t?o.add(e,t):o.add(e);c._hookCtx=u,c.onerror=St(i),c.onsuccess=Et((function(t){var n=o.keyPath;n&&k(e,n,t),r(t)}))}catch(e){throw u.onerror&&u.onerror(e),e}}))},put:function(e,t){var n=this,r=this.hook.creating.fire,i=this.hook.updating.fire;if(r!==J||i!==J){var o=this.schema.primKey.keyPath,a=void 0!==t?t:o&&x(e,o);return null==a?this.add(e):(e=A(e),this._trans(G,(function(){return n.where(":id").equals(a).modify((function(){this.value=e})).then((function(r){return 0===r?n.add(e,t):a}))}),"locked"))}return this._idbstore(G,(function(n,r,i){var o=void 0!==t?i.put(e,t):i.put(e);o.onerror=xt(r),o.onsuccess=He((function(t){var r=i.keyPath;r&&k(e,r,t.target.result),n(o.result)}))}))},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(G,(function(t,n,r){var i=r.delete(e);i.onerror=xt(n),i.onsuccess=He((function(){t(i.result)}))}))},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(G,(function(e,t,n){var r=n.clear();r.onerror=xt(t),r.onsuccess=He((function(){e(r.result)}))}))},update:function(e,t){if("object"!=typeof t||i(t))throw new $.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||i(e))return this.where(":id").equals(e).modify(t);r(t).forEach((function(n){k(e,n,t[n])}));var n=x(e,this.schema.primKey.keyPath);return void 0===n?lt(new $.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(t)}}),c(ye.prototype,{_lock:function(){return y(!Te.global),++this._reculock,1!==this._reculock||Te.global||(Te.lockOwnerFor=this),this},_unlock:function(){if(y(!Te.global),0==--this._reculock)for(Te.global||(Te.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{ot(e[1],e[0])}catch(e){}}return this},_locked:function(){return this._reculock&&Te.lockOwnerFor!==this},create:function(e){var t=this;if(!this.mode)return this;if(y(!this.idbtrans),!e&&!L)switch(q&&q.name){case"DatabaseClosedError":throw new $.DatabaseClosed(q);case"MissingAPIError":throw new $.MissingAPI(q.message,q);default:throw new $.OpenFailed(q)}if(!this.active)throw new $.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||L.transaction(Pt(this.storeNames),this.mode)).onerror=He((function(n){Tt(n),t._reject(e.error)})),e.onabort=He((function(n){Tt(n),t.active&&t._reject(new $.Abort(e.error)),t.active=!1,t.on("abort").fire(n)})),e.oncomplete=He((function(){t.active=!1,t._resolve()})),this},_promise:function(e,t,n){var r=this;if(e===G&&this.mode!==G)return lt(new $.ReadOnly("Transaction is readonly"));if(!this.active)return lt(new $.TransactionInactive);if(this._locked())return new Pe((function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},Te])}));if(n)return Xe((function(){var e=new Pe((function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return e.finally((function(){return r._unlock()})),e._lib=!0,e}));var i=new Pe((function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)}));return i._lib=!0,i},_root:function(){return this.parent?this.parent._root():this},waitFor:function(e){var t=this._root();if(e=Pe.resolve(e),t._waitingFor)t._waitingFor=t._waitingFor.then((function(){return e}));else{t._waitingFor=e,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var r=t._waitingFor;return new Pe((function(n,i){e.then((function(e){return t._waitingQueue.push(He(n.bind(null,e)))}),(function(e){return t._waitingQueue.push(He(i.bind(null,e)))})).finally((function(){t._waitingFor===r&&(t._waitingFor=null)}))}))},abort:function(){this.active&&this._reject(new $.Abort),this.active=!1},tables:{get:(f="Transaction.tables",d=function(){return F},function(){return console.warn(f+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+B(U(),1)),d.apply(this,arguments)})},table:function(e){return new me(e,Y.table(e).schema,this)}}),c(be.prototype,(function(){function e(e,t,n){var r=e instanceof be?new we(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function t(e){return new we(e,(function(){return O.only("")})).limit(0)}function n(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var l=t[s];if(l!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):u>=0?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],l)<0&&(u=s)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}function r(t,r,i,o){var a,u,s,l,c,f,h,d=i.length;if(!i.every((function(e){return"string"==typeof e})))return e(t,"String expected.");function p(e){a=function(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}(e),u=function(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}(e),s="next"===e?Oe:Me;var t=i.map((function(e){return{lower:u(e),upper:a(e)}})).sort((function(e,t){return s(e.lower,t.lower)}));l=t.map((function(e){return e.upper})),c=t.map((function(e){return e.lower})),f=e,h="next"===e?"":o}p("next");var m=new we(t,(function(){return O.bound(l[0],c[d-1]+o)}));m._ondirectionchange=function(e){p(e)};var v=0;return m._addAlgorithm((function(e,t,i){var o=e.key;if("string"!=typeof o)return!1;var a=u(o);if(r(a,c,v))return!0;for(var p=null,m=v;m<d;++m){var g=n(o,a,l[m],c[m],s,f);null===g&&null===p?v=m+1:(null===p||s(p,g)>0)&&(p=g)}return t(null!==p?function(){e.continue(p+h)}:i),!1})),m}return{between:function(n,r,i,o){i=!1!==i,o=!0===o;try{return Se(n,r)>0||0===Se(n,r)&&(i||o)&&(!i||!o)?t(this):new we(this,(function(){return O.bound(n,r,!i,!o)}))}catch(t){return e(this,pt)}},equals:function(e){return new we(this,(function(){return O.only(e)}))},above:function(e){return new we(this,(function(){return O.lowerBound(e,!0)}))},aboveOrEqual:function(e){return new we(this,(function(){return O.lowerBound(e)}))},below:function(e){return new we(this,(function(){return O.upperBound(e,!0)}))},belowOrEqual:function(e){return new we(this,(function(){return O.upperBound(e)}))},startsWith:function(t){return"string"!=typeof t?e(this,"String expected."):this.between(t,t+ht,!0,!0)},startsWithIgnoreCase:function(e){return""===e?this.startsWith(e):r(this,(function(e,t){return 0===e.indexOf(t[0])}),[e],ht)},equalsIgnoreCase:function(e){return r(this,(function(e,t){return e===t[0]}),[e],"")},anyOfIgnoreCase:function(){var e=j.apply(z,arguments);return 0===e.length?t(this):r(this,(function(e,t){return-1!==t.indexOf(e)}),e,"")},startsWithAnyOfIgnoreCase:function(){var e=j.apply(z,arguments);return 0===e.length?t(this):r(this,(function(e,t){return t.some((function(t){return 0===e.indexOf(t)}))}),e,ht)},anyOf:function(){var n=j.apply(z,arguments),r=Ie;try{n.sort(r)}catch(t){return e(this,pt)}if(0===n.length)return t(this);var i=new we(this,(function(){return O.bound(n[0],n[n.length-1])}));i._ondirectionchange=function(e){r="next"===e?Ie:Ae,n.sort(r)};var o=0;return i._addAlgorithm((function(e,t,i){for(var a=e.key;r(a,n[o])>0;)if(++o===n.length)return t(i),!1;return 0===r(a,n[o])||(t((function(){e.continue(n[o])})),!1)})),i},notEqual:function(e){return this.inAnyRange([[-1/0,e],[e,dt]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=j.apply(z,arguments);if(0===t.length)return new we(this);try{t.sort(Ie)}catch(t){return e(this,pt)}var n=t.reduce((function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]}),null);return n.push([t[t.length-1],dt]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return t(this);if(!n.every((function(e){return void 0!==e[0]&&void 0!==e[1]&&Ie(e[0],e[1])<=0})))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$.InvalidArgument);var i=!r||!1!==r.includeLowers,o=r&&!0===r.includeUppers;var a,u=Ie;function s(e,t){return u(e[0],t[0])}try{(a=n.reduce((function(e,t){for(var n=0,r=e.length;n<r;++n){var i=e[n];if(Se(t[0],i[1])<0&&Se(t[1],i[0])>0){i[0]=(o=i[0],a=t[0],Se(o,a)<0?o:a),i[1]=Ce(i[1],t[1]);break}}var o,a;return n===r&&e.push(t),e}),[])).sort(s)}catch(t){return e(this,pt)}var l=0,c=o?function(e){return Ie(e,a[l][1])>0}:function(e){return Ie(e,a[l][1])>=0},f=i?function(e){return Ae(e,a[l][0])>0}:function(e){return Ae(e,a[l][0])>=0};var h=c,d=new we(this,(function(){return O.bound(a[0][0],a[a.length-1][1],!i,!o)}));return d._ondirectionchange=function(e){"next"===e?(h=c,u=Ie):(h=f,u=Ae),a.sort(s)},d._addAlgorithm((function(e,t,n){for(var r=e.key;h(r);)if(++l===a.length)return t(n),!1;return!!function(e){return!c(e)&&!f(e)}(r)||(0===Se(r,a[l][1])||0===Se(r,a[l][0])||t((function(){u===Ie?e.continue(a[l][0]):e.continue(a[l][1])})),!1)})),d},startsWithAnyOf:function(){var n=j.apply(z,arguments);return n.every((function(e){return"string"==typeof e}))?0===n.length?t(this):this.inAnyRange(n.map((function(e){return[e,e+ht]}))):e(this,"startsWithAnyOf() only works with strings")}}})),c(we.prototype,(function(){function e(e,t){e.filter=ze(e.filter,t)}function t(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return ze(r(),t())}:t,e.justLimit=n&&!r}function n(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new $.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function i(e,t){var r=n(e,t);return e.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(e.range||null,e.dir+e.unique):r.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,r,o){var a=e.replayFilter?ze(e.filter,e.replayFilter()):e.filter;e.or?function(){var u={},s=0;function c(){2==++s&&n()}function f(e,n,i){if(!a||a(n,i,c,r)){var o=n.primaryKey,s=""+o;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(o)),l(u,s)||(u[s]=!0,t(e,n,i))}}e.or._iterate(f,c,r,o),ke(i(e,o),e.algorithm,f,c,r,!e.keysOnly&&e.valueMapper)}():ke(i(e,o),ze(e.algorithm,a),t,n,r,!e.keysOnly&&e.valueMapper)}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,lt.bind(null,n.error)):n.table._idbstore("readonly",e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,lt.bind(null,t.error)):t.table._idbstore(G,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=ze(t.algorithm,e)},_iterate:function(e,t,n,r){return o(this._ctx,e,t,n,r)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueMapper=null,this},each:function(e){var t=this._ctx;return this._read((function(n,r,i){o(t,e,n,r,i)}))},count:function(e){var t=this._ctx;if(_e(t,!0))return this._read((function(e,r,i){var o=n(t,i),a=t.range?o.count(t.range):o.count();a.onerror=xt(r),a.onsuccess=function(n){e(Math.min(n.target.result,t.limit))}}),e);var r=0;return this._read((function(e,n,i){o(t,(function(){return++r,!1}),(function(){e(r)}),n,i)}),e)},sortBy:function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){var n=o(e,i),r=o(t,i);return n<r?-a:n>r?a:0}return this.toArray((function(e){return e.sort(u)})).then(t)},toArray:function(e){var t=this._ctx;return this._read((function(e,r,i){if(s&&"next"===t.dir&&_e(t,!0)&&t.limit>0){var a=t.table.hook.reading.fire,u=n(t,i),l=t.limit<1/0?u.getAll(t.range,t.limit):u.getAll(t.range);l.onerror=xt(r),l.onsuccess=kt(a===Z?e:function(t){try{e(t.map(a))}catch(e){r(e)}})}else{var c=[];o(t,(function(e){c.push(e)}),(function(){e(c)}),r,i)}}),e)},offset:function(e){var n=this._ctx;return e<=0||(n.offset+=e,_e(n)?t(n,(function(){var t=e;return function(e,n){return 0===t||(1===t?(--t,!1):(n((function(){e.advance(t),t=0})),!1))}})):t(n,(function(){var t=e;return function(){return--t<0}}))),this},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,(function(){var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this},until:function(t,n){return e(this._ctx,(function(e,r,i){return!t(e.value)||(r(i),n)})),this},first:function(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return e(this._ctx,(function(e){return t(e.value)})),function(e,t){e.isMatch=ze(e.isMatch,t)}(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new be(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},eachPrimaryKey:function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)},primaryKeys:function(e){var t=this._ctx;if(s&&"next"===t.dir&&_e(t,!0)&&t.limit>0)return this._read((function(e,r,i){var o=n(t,i),a=t.limit<1/0?o.getAllKeys(t.range,t.limit):o.getAllKeys(t.range);a.onerror=xt(r),a.onsuccess=kt(e)})).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys((function(e){return e[0]})).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return e(this._ctx,(function(e){var t=e.primaryKey.toString(),n=l(r,t);return r[t]=!0,!n})),this},modify:function(e){var t=this,n=this._ctx.table.hook,i=n.updating.fire,o=n.deleting.fire;return this._write((function(n,u,s,c){var f;if("function"==typeof e)f=i===J&&o===J?e:function(t){var n=A(t);if(!1===e.call(this,t,this))return!1;if(l(this,"value")){var a=P(n,this.value),u=i.call(this,a,this.primKey,n,c);u&&(t=this.value,r(u).forEach((function(e){k(t,e,u[e])})))}else o.call(this,this.primKey,t,c)};else if(i===J){var h=r(e),d=h.length;f=function(t){for(var n=!1,r=0;r<d;++r){var i=h[r],o=e[i];x(t,i)!==o&&(k(t,i,o),n=!0)}return n}}else{var p=e;e=S(p),f=function(t){var n=!1,o=i.call(this,e,this.primKey,A(t),c);return o&&a(e,o),r(e).forEach((function(r){var i=e[r];x(t,r)!==i&&(k(t,r,i),n=!0)})),o&&(e=S(p)),n}}var m=0,v=0,g=!1,y=[],b=[],w=null;function _(e){return e&&(y.push(e),b.push(w)),u(new W("Error modifying one or more objects",y,v,b))}function T(){g&&v+y.length===m&&(y.length>0?_():n(v))}t.clone().raw()._iterate((function(e,t){w=t.primaryKey;var n={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};function r(e){return y.push(e),b.push(n.primKey),T(),!0}if(!1!==f.call(n,e,n)){var i=!l(n,"value");++m,E((function(){var e=i?t.delete():t.update(n.value);e._hookCtx=n,e.onerror=St(r),e.onsuccess=Et((function(){++v,T()}))}),r)}else n.onsuccess&&n.onsuccess(n.value)}),(function(){g=!0,T()}),_,s)}))},delete:function(){var e=this,t=this._ctx,n=t.range,r=t.table.hook.deleting.fire,i=r!==J;if(!i&&_e(t)&&(t.isPrimKey&&!yt||!n))return this._write((function(e,t,r){var i=xt(t),o=n?r.count(n):r.count();o.onerror=i,o.onsuccess=function(){var a=o.result;E((function(){var t=n?r.delete(n):r.clear();t.onerror=i,t.onsuccess=function(){return e(a)}}),(function(e){return t(e)}))}}));var o=i?2e3:1e4;return this._write((function(n,a,u,s){var l=0,c=e.clone({keysOnly:!t.isMatch&&!i}).distinct().limit(o).raw(),f=[],h=function(){return c.each(i?function(e,t){f.push([t.primaryKey,t.value])}:function(e,t){f.push(t.primaryKey)}).then((function(){return i?f.sort((function(e,t){return Ie(e[0],t[0])})):f.sort(Ie),ge(u,s,f,i,r)})).then((function(){var e=f.length;return l+=e,f=[],e<o?l:h()}))};n(h())}))}}})),a(this,{Collection:we,Table:me,Transaction:ye,Version:se,WhereClause:be}),Y.on("versionchange",(function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Y.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Y.name+"'. Closing db now to resume the delete request."),Y.close()})),Y.on("blocked",(function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Y.name+"') was blocked"):console.warn("Upgrade '"+Y.name+"' blocked by other connection holding version "+e.oldVersion/10)})),b.forEach((function(e){e(Y)}))}function _t(e,t){return r(t).forEach((function(n){var r=function e(t){if("function"==typeof t)return new t;if(i(t))return[e(t[0])];if(t&&"object"==typeof t){var n={};return _t(n,t),n}return t}(t[n]);e[n]=r})),e}function Et(e){return He((function(t){var n=t.target,r=n._hookCtx,i=r.value||n.result,o=r&&r.onsuccess;o&&o(i),e&&e(i)}),e)}function xt(e){return He((function(t){return Tt(t),e(t.target.error),!1}))}function kt(e){return He((function(t){e(t.target.result)}))}function St(e){return He((function(t){var n=t.target,r=n.error,i=n._hookCtx,o=i&&i.onerror;return o&&o(r),Tt(t),e(r),!1}))}function Tt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}function Ct(e){var t=function(t){return e.next(t)},n=o(t),r=o((function(t){return e.throw(t)}));function o(e){return function(t){var o=e(t),a=o.value;return o.done?a:a&&"function"==typeof a.then?a.then(n,r):i(a)?Pe.all(a).then(n,r):n(a)}}return o(t)()}function It(e,t,n,r,i,o,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=r,this.auto=i,this.compound=o,this.dotted=a;var u="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(i?"++":"")+u}function At(e,t,n,r){this.name=e,this.primKey=t||new It,this.indexes=n||[new It],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=w(n,(function(e){return[e.name,e]}))}function Pt(e){return 1===e.length?e[0]:e}function Ot(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}R(D,bt),c(wt,X),c(wt,{delete:function(e){var t=new wt(e),n=t.delete();return n.onblocked=function(e){return t.on("blocked",e),this},n},exists:function(e){return new wt(e).open().then((function(e){return e.close(),!0})).catch(wt.NoSuchDatabaseError,(function(){return!1}))},getDatabaseNames:function(e){var t=Ot(wt.dependencies.indexedDB);return t?new Pe((function(e,n){var r=t();r.onsuccess=function(t){e(v(t.target.result,0))},r.onerror=xt(n)})).then(e):ft.dbnames.toCollection().primaryKeys(e)},defineClass:function(){return function(e){e&&a(this,e)}},applyStructure:_t,ignoreTransaction:function(e){return Te.trans?ot(Te.transless,e):e()},vip:function(e){return Xe((function(){return Te.letThrough=!0,e()}))},async:function(e){return function(){try{var t=Ct(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Pe.resolve(t)}catch(e){return lt(e)}}},spawn:function(e,t,n){try{var r=Ct(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Pe.resolve(r)}catch(e){return lt(e)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(e,t){var n=Pe.resolve("function"==typeof e?wt.ignoreTransaction(e):e).timeout(t||6e4);return Te.trans?Te.trans.waitFor(n):n},Promise:Pe,debug:{get:function(){return D},set:function(e){R(e,"dexie"===e?function(){return!0}:bt)}},derive:d,extend:a,props:c,override:g,Events:ct,getByKeyPath:x,setByKeyPath:k,delByKeyPath:function(e,t){"string"==typeof t?k(e,t,void 0):"length"in t&&[].map.call(t,(function(t){k(e,t,void 0)}))},shallowClone:S,deepClone:A,getObjectDiff:P,asap:b,maxKey:dt,minKey:-1/0,addons:[],connections:mt,MultiModifyError:$.Modify,errnames:Q,IndexSpec:It,TableSchema:At,dependencies:function(){try{return{indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map((function(e){return parseInt(e)})).reduce((function(e,t,n){return e+t/Math.pow(10,2*n)})),default:wt,Dexie:wt}),Pe.rejectionMapper=function(e,t){if(!e||e instanceof H||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name])return e;var n=new Y[e.name](t||e.message,e);return"stack"in e&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(ft=new wt("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==o.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach((function(e){return ft.dbnames.put({name:e}).catch(J)})),localStorage.removeItem("Dexie.DatabaseNames"))}catch(e){}}(),t.a=wt}).call(this,n(5),n(25).setImmediate)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(s," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,u,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(9),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function _(){}function E(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=w.prototype;var x=E.prototype=new _;x.constructor=E,r(x,w.prototype),x.isPureReactComponent=!0;var k={current:null},S=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:e,key:a,ref:u,props:i,_owner:k.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,P=[];function O(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function z(e,t,n){return null==e?0:function e(t,n,r,i){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var s=!1;if(null===t)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return r(i,t,""===n?"."+j(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+j(u=t[l],l);s+=e(u,c,r,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(u=t.next()).done;)s+=e(u=u.value,c=n+j(u,l++),r,i);else if("object"===u)throw r=""+t,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return s}(e,"",t,n)}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,(function(e){return e})):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),z(e,R,t=O(t,o,r,i)),M(t)}var F={current:null};function U(){var e=F.current;if(null===e)throw Error(g(321));return e}var B={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;z(e,D,t=O(null,null,t,n)),M(t)},count:function(e){return z(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!I(e))throw Error(g(143));return e}},t.Component=w,t.Fragment=u,t.Profiler=l,t.PureComponent=E,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null==e)throw Error(g(267,e));var i=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(9),o=n(23);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function u(e,t,n,r,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var s=!1,l=null,c=!1,f=null,h={onError:function(e){s=!0,l=e}};function d(e,t,n,r,i,o,a,c,f){s=!1,l=null,u.apply(h,arguments)}var p=null,m=null,v=null;function g(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(a(198));var m=l;s=!1,l=null,c||(c=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var y=null,b={};function w(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!E[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,s=r;if(x.hasOwnProperty(s))throw Error(a(99,s));x[s]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&_(l[i],u,s);i=!0}else o.registrationName?(_(o.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function _(e,t,n){if(k[e])throw Error(a(100,e));k[e]=t,S[e]=t.eventTypes[n].dependencies}var E=[],x={},k={},S={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&w()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),I=null,A=null,P=null;function O(e){if(e=m(e)){if("function"!=typeof I)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),I(e.stateNode,e.type,t))}}function M(e){A?P?P.push(e):P=[e]:A=e}function z(){if(A){var e=A,t=P;if(P=A=null,O(e),t)for(e=0;e<t.length;e++)O(t[e])}}function j(e,t){return e(t)}function D(e,t,n,r,i){return e(t,n,r,i)}function R(){}var N=j,F=!1,U=!1;function B(){null===A&&null===P||(R(),z())}function L(e,t,n){if(U)return e(t,n);U=!0;try{return N(e,t,n)}finally{U=!1,B()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K=Object.prototype.hasOwnProperty,H={},W={};function V(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new V(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new V(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new V(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new V(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new V(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new V(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new V(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new V(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new V(e,5,!1,e.toLowerCase(),null,!1)}));var G=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(G,$);Q[t]=new V(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(G,$);Q[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(G,$);Q[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new V(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new V(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function X(e,t,n,r){var i=Q.hasOwnProperty(t)?Q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!K.call(W,e)||!K.call(H,e)&&(q.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,ae=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,le=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case de:return ve(e.render);case he:if(e=1===e._status?e._result:null)return ve(e)}return null}function ge(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function we(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function _e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function xe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&X(e,"checked",t,!1)}function Se(e,t){ke(e,t);var n=ye(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ie(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ye(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ye(n)}}function Me(e,t){var n=ye(t.value),r=ye(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ze(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var je="http://www.w3.org/1999/xhtml",De="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==De||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Le(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionend:Le("Transition","TransitionEnd")},Ke={},He={};function We(e){if(Ke[e])return Ke[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Ke[e]=n[t];return e}C&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ve=We("animationend"),Qe=We("animationiteration"),Ge=We("animationstart"),$e=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xe=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Xe.get(e);return void 0===t&&(t=new Map,Xe.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)g(e,t[r],n[r]);else t&&g(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ht(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Cn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=st(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var u=null,s=0;s<E.length;s++){var l=E[s];l&&(l=l.extractEvents(r,t,o,i,a))&&(u=rt(u,l))}ut(u)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Gt(t,"scroll",!0);break;case"focus":case"blur":Gt(t,"focus",!0),Gt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Gt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,vt,gt,yt=!1,bt=[],wt=null,_t=null,Et=null,xt=new Map,kt=new Map,St=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=It(t,n,r,i,o),null!==t&&(null!==(t=In(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function Ot(e){var t=Cn(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=In(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function jt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=In(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==wt&&Mt(wt)&&(wt=null),null!==_t&&Mt(_t)&&(_t=null),null!==Et&&Mt(Et)&&(Et=null),xt.forEach(zt),kt.forEach(zt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function Rt(e){function t(t){return Dt(t,e)}if(0<bt.length){Dt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Dt(wt,e),null!==_t&&Dt(_t,e),null!==Et&&Dt(Et,e),xt.forEach(t),kt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Ot(n),null===n.blockedOn&&St.shift()}var Nt={},Ft=new Map,Ut=new Map,Bt=["abort","abort",Ve,"animationEnd",Qe,"animationIteration",Ge,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$e,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),Ft.set(r,o),Nt[i]=o}}Lt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kt=0;Kt<qt.length;Kt++)Ut.set(qt[Kt],0);var Ht=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Vt=!0;function Qt(e,t){Gt(t,e,!1)}function Gt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=$t.bind(null,t,1,e);break;case 1:r=Yt.bind(null,t,1,e);break;default:r=Xt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function $t(e,t,n,r){F||R();var i=Xt,o=F;F=!0;try{D(i,e,t,n,r)}finally{(F=o)||B()}}function Yt(e,t,n,r){Wt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){if(Vt)if(0<bt.length&&-1<Tt.indexOf(e))e=It(null,e,t,n,r),bt.push(e);else{var i=Jt(e,t,n,r);if(null===i)At(e,r);else if(-1<Tt.indexOf(e))e=It(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Pt(wt,e,t,n,r,i),!0;case"dragenter":return _t=Pt(_t,e,t,n,r,i),!0;case"mouseover":return Et=Pt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,Pt(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,Pt(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=ht(e,r,null,t);try{L(dt,e)}finally{ft(e)}}}}function Jt(e,t,n,r){if(null!==(n=Cn(n=st(r)))){var i=Ze(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{L(dt,e)}finally{ft(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=je;function sn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++)pt(t[r],e,n)}function ln(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function dn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"==typeof setTimeout?setTimeout:void 0,wn="function"==typeof clearTimeout?clearTimeout:void 0;function _n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function En(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),kn="__reactInternalInstance$"+xn,Sn="__reactEventHandlers$"+xn,Tn="__reactContainere$"+xn;function Cn(e){var t=e[kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[kn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=En(e);null!==e;){if(n=e[kn])return n;e=En(e)}return t}n=(e=n).parentNode}return null}function In(e){return!(e=e[kn]||e[Tn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[Sn]||null}function On(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function zn(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function jn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=On(t);for(t=n.length;0<t--;)zn(n[t],"captured",e);for(t=0;t<n.length;t++)zn(n[t],"bubbled",e)}}function Dn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){e&&e.dispatchConfig.registrationName&&Dn(e._targetInst,null,e)}function Nn(e){it(e,jn)}var Fn=null,Un=null,Bn=null;function Ln(){if(Bn)return Bn;var e,t,n=Un,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Bn=i.slice(e,1<t?1-t:void 0)}function qn(){return!0}function Kn(){return!1}function Hn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Kn,this.isPropagationStopped=Kn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Vn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=Wn,e.release=Vn}i(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Kn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Qn(n),n},Qn(Hn);var Gn=Hn.extend({data:null}),$n=Hn.extend({data:null}),Yn=[9,13,27,32],Xn=C&&"CompositionEvent"in window,Jn=null;C&&"documentMode"in document&&(Jn=document.documentMode);var Zn=C&&"TextEvent"in window&&!Jn,er=C&&(!Xn||Jn&&8<Jn&&11>=Jn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var ur={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Xn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Ln()):(Un="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Gn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Nn(o),i=o):i=null,(e=Zn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Xn&&ir(e,t)?(e=Ln(),Bn=Un=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=$n.getPooled(nr.beforeInput,t,n,r)).data=e,Nn(t)):t=null,null===i?t:null===t?i:[i,t]}},sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sr[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=Hn.getPooled(cr.change,e,t,n)).type="change",M(n),Nn(e),e}var hr=null,dr=null;function pr(e){ut(e)}function mr(e){if(_e(An(e)))return e}function vr(e,t){if("change"===e)return t}var gr=!1;function yr(){hr&&(hr.detachEvent("onpropertychange",br),dr=hr=null)}function br(e){if("value"===e.propertyName&&mr(dr))if(e=fr(dr,e,st(e)),F)ut(e);else{F=!0;try{j(pr,e)}finally{F=!1,B()}}}function wr(e,t,n){"focus"===e?(yr(),dr=n,(hr=t).attachEvent("onpropertychange",br)):"blur"===e&&yr()}function _r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(dr)}function Er(e,t){if("click"===e)return mr(t)}function xr(e,t){if("input"===e||"change"===e)return mr(t)}C&&(gr=lt("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:gr,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(lr(i))if(gr)a=xr;else{a=_r;var u=wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Er);if(a&&(a=a(e,t)))return fr(a,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Sr=Hn.extend({view:null,detail:null}),Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Ir(){return Cr}var Ar=0,Pr=0,Or=!1,Mr=!1,zr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ir,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,Or?"mousemove"===e.type?e.screenX-t:0:(Or=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),jr=zr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Dr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Rr={eventTypes:Dr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Cn(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=zr,s=Dr.mouseLeave,l=Dr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=jr,s=Dr.pointerLeave,l=Dr.pointerEnter,c="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(s=u.getPooled(s,a,n,r)).type=c+"leave",s.target=e,s.relatedTarget=o,(n=u.getPooled(l,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(l=c,a=0,e=u=r;e;e=On(e))a++;for(e=0,t=l;t;t=On(t))e++;for(;0<a-e;)u=On(u),a--;for(;0<e-a;)l=On(l),e--;for(;a--;){if(u===l||u===l.alternate)break e;u=On(u),l=On(l)}u=null}else u=null;for(l=u,u=[];r&&r!==l&&(null===(a=r.alternate)||a!==l);)u.push(r),r=On(r);for(r=[];c&&c!==l&&(null===(a=c.alternate)||a!==l);)r.push(c),c=On(c);for(c=0;c<u.length;c++)Dn(u[c],"bubbled",s);for(c=r.length;0<c--;)Dn(r[c],"captured",n);return 0==(64&i)?[s]:[s,n]}};var Nr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fr=Object.prototype.hasOwnProperty;function Ur(e,t){if(Nr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Nr(e[n[r]],t[n[r]]))return!1;return!0}var Br=C&&"documentMode"in document&&11>=document.documentMode,Lr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Kr=null,Hr=null,Wr=!1;function Vr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==qr||qr!==cn(n)?null:("selectionStart"in(n=qr)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&Ur(Hr,n)?null:(Hr=n,(e=Hn.getPooled(Lr.select,Kr,e,t)).type="select",e.target=qr,Nn(e),e))}var Qr={eventTypes:Lr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Je(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(lr(i)||"true"===i.contentEditable)&&(qr=i,Kr=t,Hr=null);break;case"blur":Hr=Kr=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Vr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Vr(n,r)}return null}},Gr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),$r=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yr=Sr.extend({relatedTarget:null});function Xr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sr.extend({key:function(e){if(e.key){var t=Jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?Xr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=zr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ir}),ri=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=zr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Nt,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Xr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ve:case Qe:case Ge:e=Gr;break;case $e:e=ri;break;case"scroll":e=Sr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=$r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=jr;break;default:e=Hn}return Nn(t=e.getPooled(i,t,n,r)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w(),p=Pn,m=In,v=An,T({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Rr,ChangeEventPlugin:kr,SelectEventPlugin:Qr,BeforeInputEventPlugin:ur});var ai=[],ui=-1;function si(e){0>ui||(e.current=ai[ui],ai[ui]=null,ui--)}function li(e,t){ui++,ai[ui]=e.current,e.current=t}var ci={},fi={current:ci},hi={current:!1},di=ci;function pi(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function vi(){si(hi),si(fi)}function gi(e,t,n){if(fi.current!==ci)throw Error(a(168));li(fi,t),li(hi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,di=fi.current,li(fi,e),li(hi,hi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,di),r.__reactInternalMemoizedMergedChildContext=e,si(hi),si(fi),li(fi,e)):si(hi),li(hi,n)}var _i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,ki=o.unstable_requestPaint,Si=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Mi={},zi=o.unstable_shouldYield,ji=void 0!==ki?ki:function(){},Di=null,Ri=null,Ni=!1,Fi=Si(),Ui=1e4>Fi?Si:function(){return Si()-Fi};function Bi(){switch(Ti()){case Ci:return 99;case Ii:return 98;case Ai:return 97;case Pi:return 96;case Oi:return 95;default:throw Error(a(332))}}function Li(e){switch(e){case 99:return Ci;case 98:return Ii;case 97:return Ai;case 96:return Pi;case 95:return Oi;default:throw Error(a(332))}}function qi(e,t){return e=Li(e),_i(e,t)}function Ki(e,t,n){return e=Li(e),Ei(e,t,n)}function Hi(e){return null===Di?(Di=[e],Ri=Ei(Ci,Vi)):Di.push(e),Mi}function Wi(){if(null!==Ri){var e=Ri;Ri=null,xi(e)}Vi()}function Vi(){if(!Ni&&null!==Di){Ni=!0;var e=0;try{var t=Di;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(t){throw null!==Di&&(Di=Di.slice(e+1)),Ei(Ci,Wi),t}finally{Ni=!1}}}function Qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Gi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},Yi=null,Xi=null,Ji=null;function Zi(){Ji=Xi=Yi=null}function eo(e){var t=$i.current;si($i),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yi=e,Ji=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function ro(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw Error(a(308));Xi=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function uo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,u=o.shared.pending;if(null!==u){if(null!==a){var s=a.next;a.next=u.next,u.next=s}a=u,o.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==a){s=a.next;var l=o.baseState,c=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=m,f=l):d=d.next=m,u>c&&(c=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),os(u,p.suspenseConfig);e:{var v=e,g=p;switch(u=t,m=n,g.tag){case 1:if("function"==typeof(v=g.payload)){l=v.call(m,l,u);break e}l=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null==(u="function"==typeof(v=g.payload)?v.call(m,l,u):v))break e;l=i({},l,u);break e;case 2:io=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=o.effects)?o.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=o.shared.pending))break;p=a.next=u.next,u.next=s,o.baseQueue=a=u,o.shared.pending=null}}null===d?f=l:d.next=h,o.baseState=f,o.baseQueue=d,as(c),e.expirationTime=c,e.memoizedState=l}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var ho=Y.ReactCurrentBatchConfig,po=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Vu(),i=ho.suspense;(i=uo(r=Qu(r,e,i),i)).payload=t,null!=n&&(i.callback=n),so(e,i),Gu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Vu(),i=ho.suspense;(i=uo(r=Qu(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),so(e,i),Gu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Vu(),r=ho.suspense;(r=uo(n=Qu(n,e,r),r)).tag=2,null!=t&&(r.callback=t),so(e,r),Gu(e,n)}};function go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(n,r)||!Ur(i,o))}function yo(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"==typeof o&&null!==o?o=ro(o):(i=mi(t)?di:fi.current,o=(r=null!=(r=t.contextTypes))?pi(e,i):ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=ro(o):(o=mi(t)?di:fi.current,i.context=pi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var _o=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ts(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=As(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Cs(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ps(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Is(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=As(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Cs(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case te:return(t=Ps(t,e.mode,n)).return=e,t}if(_o(t)||me(t))return(t=Is(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case te:return n.key===i?c(e,t,n,r):null}if(_o(n)||me(n))return null!==i?null:f(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case te:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,a,u,s){for(var l=null,c=null,f=a,m=a=0,v=null;null!==f&&m<u.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,u[m],s);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g,f=v}if(m===u.length)return n(i,f),l;if(null===f){for(;m<u.length;m++)null!==(f=h(i,u[m],s))&&(a=o(f,a,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<u.length;m++)null!==(v=p(f,i,m,u[m],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,u,s,l){var c=me(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,m=u,v=u=0,g=null,y=s.next();null!==m&&!y.done;v++,y=s.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),u=o(b,u,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=s.next())null!==(y=h(i,y.value,l))&&(u=o(y,u,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=s.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),u=o(y,u,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,s){var l="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===ne){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Eo(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===ne?((r=Is(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Cs(o.type,o.key,o.props,null,e.mode,s)).ref=Eo(e,r,o),s.return=e,e=s)}return u(e);case te:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ps(o,e.mode,s)).return=e,e=r}return u(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=As(o,e.mode,s)).return=e,e=r),u(e);if(_o(o))return m(e,r,o,s);if(me(o))return v(e,r,o,s);if(c&&xo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var So=ko(!0),To=ko(!1),Co={},Io={current:Co},Ao={current:Co},Po={current:Co};function Oo(e){if(e===Co)throw Error(a(174));return e}function Mo(e,t){switch(li(Po,t),li(Ao,e),li(Io,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ne(null,"");break;default:t=Ne(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Io),li(Io,t)}function zo(){si(Io),si(Ao),si(Po)}function jo(e){Oo(Po.current);var t=Oo(Io.current),n=Ne(t,e.type);t!==n&&(li(Ao,e),li(Io,n))}function Do(e){Ao.current===e&&(si(Io),si(Ao))}var Ro={current:0};function No(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Uo=Y.ReactCurrentDispatcher,Bo=Y.ReactCurrentBatchConfig,Lo=0,qo=null,Ko=null,Ho=null,Wo=!1;function Vo(){throw Error(a(321))}function Qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nr(e[n],t[n]))return!1;return!0}function Go(e,t,n,r,i,o){if(Lo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Uo.current=null===e||null===e.memoizedState?ga:ya,e=n(r,i),t.expirationTime===Lo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Ho=Ko=null,t.updateQueue=null,Uo.current=ba,e=n(r,i)}while(t.expirationTime===Lo)}if(Uo.current=va,t=null!==Ko&&null!==Ko.next,Lo=0,Ho=Ko=qo=null,Wo=!1,t)throw Error(a(300));return e}function $o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ho?qo.memoizedState=Ho=e:Ho=Ho.next=e,Ho}function Yo(){if(null===Ko){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Ko.next;var t=null===Ho?qo.memoizedState:Ho.next;if(null!==t)Ho=t,Ko=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ko=e).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Ho?qo.memoizedState=Ho=e:Ho=Ho.next=e}return Ho}function Xo(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Ko,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,l=i;do{var c=l.expirationTime;if(c<Lo){var f={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,c>qo.expirationTime&&(qo.expirationTime=c,as(c))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),os(c,l.suspenseConfig),r=l.eagerReducer===e?l.eagerState:e(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=u,Nr(r,t.memoizedState)||(Pa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Zo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);Nr(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=$o();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e}).dispatch=ma.bind(null,qo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Yo().memoizedState}function ra(e,t,n,r){var i=$o();qo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Yo();r=void 0===r?null:r;var o=void 0;if(null!==Ko){var a=Ko.memoizedState;if(o=a.destroy,null!==r&&Qo(r,a.deps))return void ta(t,n,o,r)}qo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function ua(e,t){return ia(4,2,e,t)}function sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,sa.bind(null,t,e),n)}function ca(){}function fa(e,t){return $o().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var r=Bi();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Bo.suspense;Bo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Bo.suspense=r}}))}function ma(e,t,n){var r=Vu(),i=ho.suspense;i={expirationTime:r=Qu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===qo||null!==o&&o===qo)Wo=!0,i.expirationTime=Lo,qo.expirationTime=Lo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=o(a,n);if(i.eagerReducer=o,i.eagerState=u,Nr(u,a))return}catch(e){}Gu(e,r)}}var va={readContext:ro,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useResponder:Vo,useDeferredValue:Vo,useTransition:Vo},ga={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=$o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},$o().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:da,useReducer:Jo,useRef:na,useState:function(){return Jo(Xo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Jo(Xo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Xo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:la,useLayoutEffect:ua,useMemo:da,useReducer:Zo,useRef:na,useState:function(){return Zo(Xo)},useDebugValue:ca,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Xo),r=n[0],i=n[1];return aa((function(){var n=Bo.suspense;Bo.suspense=void 0===t?null:t;try{i(e)}finally{Bo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Xo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},wa=null,_a=null,Ea=!1;function xa(e,t){var n=ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(Ea){var t=_a;if(t){var n=t;if(!ka(e,t)){if(!(t=_n(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,Ea=!1,void(wa=e);xa(wa,n)}wa=e,_a=_n(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ea=!1,wa=e}}function Ta(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;wa=e}function Ca(e){if(e!==wa)return!1;if(!Ea)return Ta(e),Ea=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yn(t,e.memoizedProps))for(t=_a;t;)xa(e,t),t=_n(t.nextSibling);if(Ta(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){_a=_n(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}_a=null}}else _a=wa?_n(e.stateNode.nextSibling):null;return!0}function Ia(){_a=wa=null,Ea=!1}var Aa=Y.ReactCurrentOwner,Pa=!1;function Oa(e,t,n,r){t.child=null===e?To(t,null,n,r):So(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Go(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Oa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ga(e,t,i))}function za(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Ss(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Cs(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ur)(i,r)&&e.ref===t.ref)?Ga(e,t,o):(t.effectTag|=1,(e=Ts(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){return null!==e&&Ur(e.memoizedProps,r)&&e.ref===t.ref&&(Pa=!1,i<o)?(t.expirationTime=e.expirationTime,Ga(e,t,o)):Ra(e,t,n,r,o)}function Da(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ra(e,t,n,r,i){var o=mi(n)?di:fi.current;return o=pi(t,o),no(t,i),n=Go(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Oa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ga(e,t,i))}function Na(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=ro(l):l=pi(t,l=mi(n)?di:fi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&bo(t,a,r,l),io=!1;var h=t.memoizedState;a.state=h,co(t,r,a,i),s=t.memoizedState,u!==r||h!==s||hi.current||io?("function"==typeof c&&(mo(t,n,c,r),s=t.memoizedState),(u=io||go(t,n,u,r,h,s,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=l,r=u):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),u=t.memoizedProps,a.props=t.type===t.elementType?u:Gi(t.type,u),s=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ro(l):l=pi(t,l=mi(n)?di:fi.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==r||s!==l)&&bo(t,a,r,l),io=!1,s=t.memoizedState,a.state=s,co(t,r,a,i),h=t.memoizedState,u!==r||s!==h||hi.current||io?("function"==typeof c&&(mo(t,n,c,r),h=t.memoizedState),(c=io||go(t,n,u,r,s,h,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){Da(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&wi(t,n,!1),Ga(e,t,o);r=t.stateNode,Aa.current=t;var u=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,u,o)):Oa(e,t,u,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ua(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Mo(e,t.containerInfo)}var Ba,La,qa,Ka={dehydrated:null,retryTime:0};function Ha(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Ro.current,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Ro,1&a),null===e){if(void 0!==o.fallback&&Sa(t),u){if(u=o.fallback,(o=Is(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Is(u,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ka,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=To(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(o=o.fallback,(n=Ts(e,e.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=Ts(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ka,t.child=n,i}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=o.fallback,(o=Is(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Is(u,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ka,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Va(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Oa(e,t,r.children,n),0!=(2&(r=Ro.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Ro,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===No(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===No(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o,t.lastEffect);break;case"together":Va(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&as(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ts(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ts(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&vi(),null;case 3:return zo(),si(hi),si(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ca(t)||(t.effectTag|=4),null;case 5:Do(t),n=Oo(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)La(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(Io.current),Ca(t)){r=t.stateNode,o=t.type;var u=t.memoizedProps;switch(r[kn]=t,r[Sn]=u,o){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Qt(Ye[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":xe(r,u),Qt("invalid",r),sn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),sn(n,"onChange");break;case"textarea":Oe(r,u),Qt("invalid",r),sn(n,"onChange")}for(var s in on(o,u),e=null,u)if(u.hasOwnProperty(s)){var l=u[s];"children"===s?"string"==typeof l?r.textContent!==l&&(e=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(e=["children",""+l]):k.hasOwnProperty(s)&&null!=l&&sn(n,s)}switch(o){case"input":we(r),Te(r,u,!0);break;case"textarea":we(r),ze(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Re(o)),e===un?"script"===o?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(o,{is:r.is}):(e=s.createElement(o),"select"===o&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,o),e[kn]=t,e[Sn]=r,Ba(e,t),t.stateNode=e,s=an(o,r),o){case"iframe":case"object":case"embed":Qt("load",e),l=r;break;case"video":case"audio":for(l=0;l<Ye.length;l++)Qt(Ye[l],e);l=r;break;case"source":Qt("error",e),l=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),l=r;break;case"form":Qt("reset",e),Qt("submit",e),l=r;break;case"details":Qt("toggle",e),l=r;break;case"input":xe(e,r),l=Ee(e,r),Qt("invalid",e),sn(n,"onChange");break;case"option":l=Ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=i({},r,{value:void 0}),Qt("invalid",e),sn(n,"onChange");break;case"textarea":Oe(e,r),l=Pe(e,r),Qt("invalid",e),sn(n,"onChange");break;default:l=r}on(o,l);var c=l;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?nn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Ue(e,f):"children"===u?"string"==typeof f?("textarea"!==o||""!==f)&&Be(e,f):"number"==typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(k.hasOwnProperty(u)?null!=f&&sn(n,u):null!=f&&X(e,u,f,s))}switch(o){case"input":we(e),Te(e,r,!1);break;case"textarea":we(e),ze(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ye(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=ln)}gn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(Io.current),Ca(t)?(n=t.stateNode,r=t.memoizedProps,n[kn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[kn]=t,t.stateNode=n)}return null;case 13:return si(Ro),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ca(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?Cu===wu&&(Cu=_u):(Cu!==wu&&Cu!==_u||(Cu=Eu),0!==Mu&&null!==ku&&(zs(ku,Tu),js(ku,Mu)))),(n||r)&&(t.effectTag|=4),null);case 4:return zo(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&vi(),null;case 19:if(si(Ro),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(u=r.rendering)){if(o)$a(r,!1);else if(Cu!==wu||null!==e&&0!=(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=No(u))){for(t.effectTag|=64,$a(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=u,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,u=e.dependencies,o.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return li(Ro,1&Ro.current|2),t.child}u=u.sibling}}else{if(!o)if(null!==(e=No(u))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),$a(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,$a(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Ui()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Ro.current,li(Ro,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Xa(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zo(),si(hi),si(fi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Do(e),null;case 13:return si(Ro),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return si(Ro),null;case 4:return zo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ge(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var u,s,l=t.stateNode;switch(Oo(Io.current),e=null,n){case"input":a=Ee(l,a),r=Ee(l,r),e=[];break;case"option":a=Ie(l,a),r=Ie(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Pe(l,a),r=Pe(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=ln)}for(u in on(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u)for(s in l=a[u])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(k.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(u,c)):"children"===u?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(k.hasOwnProperty(u)?(null!=c&&sn(o,u),e||l===c||(e=[])):(e=e||[]).push(u,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Za="function"==typeof WeakSet?WeakSet:Set;function eu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ge(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function tu(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ys(e,t)}else t.current=null}function nu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void iu(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function au(e,t,n){switch("function"==typeof Es&&Es(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){ys(i,e)}}e=e.next}while(e!==r)}))}break;case 1:tu(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ys(e,t)}}(t,n);break;case 5:tu(t);break;case 4:cu(e,t,n)}}function uu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&uu(t)}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function lu(e){e:{for(var t=e.return;null!==t;){if(su(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||su(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=ln));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cu(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=n,f=l;;)if(au(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(au(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function fu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ru(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?nn(n,s):"dangerouslySetInnerHTML"===u?Ue(n,s):"children"===u?Be(n,s):X(n,u,s,t)}switch(e){case"input":Se(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,ju=Ui()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hu(t);case 19:return void hu(t);case 17:return}throw Error(a(163))}function hu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var du="function"==typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=uo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ru||(Ru=!0,Nu=r),eu(e,t)},n}function mu(e,t,n){(n=uo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return eu(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fu?Fu=new Set([this]):Fu.add(this),eu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vu,gu=Math.ceil,yu=Y.ReactCurrentDispatcher,bu=Y.ReactCurrentOwner,wu=0,_u=3,Eu=4,xu=0,ku=null,Su=null,Tu=0,Cu=wu,Iu=null,Au=1073741823,Pu=1073741823,Ou=null,Mu=0,zu=!1,ju=0,Du=null,Ru=!1,Nu=null,Fu=null,Uu=!1,Bu=null,Lu=90,qu=null,Ku=0,Hu=null,Wu=0;function Vu(){return 0!=(48&xu)?1073741821-(Ui()/10|0):0!==Wu?Wu:Wu=1073741821-(Ui()/10|0)}function Qu(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Bi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&xu))return Tu;if(null!==n)e=Qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qi(e,150,100);break;case 97:case 96:e=Qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ku&&e===Tu&&--e,e}function Gu(e,t){if(50<Ku)throw Ku=0,Hu=null,Error(a(185));if(null!==(e=$u(e,t))){var n=Bi();1073741823===t?0!=(8&xu)&&0==(48&xu)?Zu(e):(Xu(e),0===xu&&Wi()):Xu(e),0==(4&xu)||98!==n&&99!==n||(null===qu?qu=new Map([[e,t]]):(void 0===(n=qu.get(e))||n>t)&&qu.set(e,t))}}function $u(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ku===i&&(as(t),Cu===Eu&&zs(i,Tu)),js(i,t)),i}function Yu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ms(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Xu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(Zu.bind(null,e));else{var t=Yu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Vu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&xi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Hi(Zu.bind(null,e)):Ki(r,Ju.bind(null,e),{timeout:10*(1073741821-t)-Ui()}),e.callbackNode=t}}}function Ju(e,t){if(Wu=0,t)return Ds(e,t=Vu()),Xu(e),null;var n=Yu(e);if(0!==n){if(t=e.callbackNode,0!=(48&xu))throw Error(a(327));if(ms(),e===ku&&n===Tu||ns(e,n),null!==Su){var r=xu;xu|=16;for(var i=is();;)try{ss();break}catch(t){rs(e,t)}if(Zi(),xu=r,yu.current=i,1===Cu)throw t=Iu,ns(e,n),zs(e,n),Xu(e),t;if(null===Su)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Cu,ku=null,r){case wu:case 1:throw Error(a(345));case 2:Ds(e,2<n?2:n);break;case _u:if(zs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fs(i)),1073741823===Au&&10<(i=ju+500-Ui())){if(zu){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,ns(e,n);break}}if(0!==(o=Yu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(hs.bind(null,e),i);break}hs(e);break;case Eu:if(zs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fs(i)),zu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ns(e,n);break}if(0!==(i=Yu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Pu?r=10*(1073741821-Pu)-Ui():1073741823===Au?r=0:(r=10*(1073741821-Au)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gu(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(hs.bind(null,e),r);break}hs(e);break;case 5:if(1073741823!==Au&&null!==Ou){o=Au;var u=Ou;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|u.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zs(e,n),e.timeoutHandle=bn(hs.bind(null,e),r);break}}hs(e);break;default:throw Error(a(329))}if(Xu(e),e.callbackNode===t)return Ju.bind(null,e)}}return null}function Zu(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&xu))throw Error(a(327));if(ms(),e===ku&&t===Tu||ns(e,t),null!==Su){var n=xu;xu|=16;for(var r=is();;)try{us();break}catch(t){rs(e,t)}if(Zi(),xu=n,yu.current=r,1===Cu)throw n=Iu,ns(e,t),zs(e,t),Xu(e),n;if(null!==Su)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ku=null,hs(e),Xu(e)}return null}function es(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&Wi()}}function ts(e,t){var n=xu;xu&=-2,xu|=8;try{return e(t)}finally{0===(xu=n)&&Wi()}}function ns(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,wn(n)),null!==Su)for(n=Su.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:zo(),si(hi),si(fi);break;case 5:Do(r);break;case 4:zo();break;case 13:case 19:si(Ro);break;case 10:eo(r)}n=n.return}ku=e,Su=Ts(e.current,null),Tu=t,Cu=wu,Iu=null,Pu=Au=1073741823,Ou=null,Mu=0,zu=!1}function rs(e,t){for(;;){try{if(Zi(),Uo.current=va,Wo)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Lo=0,Ho=Ko=qo=null,Wo=!1,null===Su||null===Su.return)return Cu=1,Iu=t,Su=null;e:{var i=e,o=Su.return,a=Su,u=t;if(t=Tu,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Ro.current),f=o;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var m=f.updateQueue;if(null===m){var v=new Set;v.add(s),f.updateQueue=v}else m.add(s);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var g=uo(1073741823,null);g.tag=2,so(a,g)}a.expirationTime=1073741823;break e}u=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new du,u=new Set,y.set(s,u)):void 0===(u=y.get(s))&&(u=new Set,y.set(s,u)),!u.has(a)){u.add(a);var b=bs.bind(null,i,s,a);s.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ge(a))}5!==Cu&&(Cu=2),u=Ja(u,a),f=o;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,lo(f,pu(f,s,t));break e;case 1:s=u;var w=f.type,_=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Fu||!Fu.has(_)))){f.effectTag|=4096,f.expirationTime=t,lo(f,mu(f,s,t));break e}}f=f.return}while(null!==f)}Su=cs(Su)}catch(e){t=e;continue}break}}function is(){var e=yu.current;return yu.current=va,null===e?va:e}function os(e,t){e<Au&&2<e&&(Au=e),null!==t&&e<Pu&&2<e&&(Pu=e,Ou=t)}function as(e){e>Mu&&(Mu=e)}function us(){for(;null!==Su;)Su=ls(Su)}function ss(){for(;null!==Su&&!zi();)Su=ls(Su)}function ls(e){var t=vu(e.alternate,e,Tu);return e.memoizedProps=e.pendingProps,null===t&&(t=cs(e)),bu.current=null,t}function cs(e){Su=e;do{var t=Su.alternate;if(e=Su.return,0==(2048&Su.effectTag)){if(t=Ya(t,Su,Tu),1===Tu||1!==Su.childExpirationTime){for(var n=0,r=Su.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Su.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Su.firstEffect),null!==Su.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Su.firstEffect),e.lastEffect=Su.lastEffect),1<Su.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Su:e.firstEffect=Su,e.lastEffect=Su))}else{if(null!==(t=Xa(Su)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Su.sibling))return t;Su=e}while(null!==Su);return Cu===wu&&(Cu=5),null}function fs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hs(e){var t=Bi();return qi(99,ds.bind(null,e,t)),null}function ds(e,t){do{ms()}while(null!==Bu);if(0!=(48&xu))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fs(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ku&&(Su=ku=null,Tu=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=xu;xu|=32,bu.current=null,mn=Vt;var u=dn();if(pn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var l=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch(e){s=null;break e}var h=0,d=-1,p=-1,m=0,v=0,g=u,y=null;t:for(;;){for(var b;g!==s||0!==c&&3!==g.nodeType||(d=h+c),g!==f||0!==l&&3!==g.nodeType||(p=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===u)break t;if(y===s&&++m===c&&(d=h),y===f&&++v===l&&(p=h),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;vn={activeElementDetached:null,focusedElem:u,selectionRange:s},Vt=!1,Du=i;do{try{ps()}catch(e){if(null===Du)throw Error(a(330));ys(Du,e),Du=Du.nextEffect}}while(null!==Du);Du=i;do{try{for(u=e,s=t;null!==Du;){var w=Du.effectTag;if(16&w&&Be(Du.stateNode,""),128&w){var _=Du.alternate;if(null!==_){var E=_.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:lu(Du),Du.effectTag&=-3;break;case 6:lu(Du),Du.effectTag&=-3,fu(Du.alternate,Du);break;case 1024:Du.effectTag&=-1025;break;case 1028:Du.effectTag&=-1025,fu(Du.alternate,Du);break;case 4:fu(Du.alternate,Du);break;case 8:cu(u,c=Du,s),uu(c)}Du=Du.nextEffect}}catch(e){if(null===Du)throw Error(a(330));ys(Du,e),Du=Du.nextEffect}}while(null!==Du);if(E=vn,_=dn(),w=E.focusedElem,s=E.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==s&&pn(w)&&(_=s.start,void 0===(E=s.end)&&(E=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(E,w.value.length)):(E=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(E=E.getSelection(),c=w.textContent.length,u=Math.min(s.start,c),s=void 0===s.end?u:Math.min(s.end,c),!E.extend&&u>s&&(c=s,s=u,u=c),c=hn(w,u),f=hn(w,s),c&&f&&(1!==E.rangeCount||E.anchorNode!==c.node||E.anchorOffset!==c.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((_=_.createRange()).setStart(c.node,c.offset),E.removeAllRanges(),u>s?(E.addRange(_),E.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),E.addRange(_))))),_=[];for(E=w;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(E=_[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Vt=!!mn,vn=mn=null,e.current=n,Du=i;do{try{for(w=e;null!==Du;){var x=Du.effectTag;if(36&x&&ou(w,Du.alternate,Du),128&x){_=void 0;var k=Du.ref;if(null!==k){var S=Du.stateNode;switch(Du.tag){case 5:_=S;break;default:_=S}"function"==typeof k?k(_):k.current=_}}Du=Du.nextEffect}}catch(e){if(null===Du)throw Error(a(330));ys(Du,e),Du=Du.nextEffect}}while(null!==Du);Du=null,ji(),xu=o}else e.current=n;if(Uu)Uu=!1,Bu=e,Lu=t;else for(Du=i;null!==Du;)t=Du.nextEffect,Du.nextEffect=null,Du=t;if(0===(t=e.firstPendingTime)&&(Fu=null),1073741823===t?e===Hu?Ku++:(Ku=0,Hu=e):Ku=0,"function"==typeof _s&&_s(n.stateNode,r),Xu(e),Ru)throw Ru=!1,e=Nu,Nu=null,e;return 0!=(8&xu)||Wi(),null}function ps(){for(;null!==Du;){var e=Du.effectTag;0!=(256&e)&&nu(Du.alternate,Du),0==(512&e)||Uu||(Uu=!0,Ki(97,(function(){return ms(),null}))),Du=Du.nextEffect}}function ms(){if(90!==Lu){var e=97<Lu?97:Lu;return Lu=90,qi(e,vs)}}function vs(){if(null===Bu)return!1;var e=Bu;if(Bu=null,0!=(48&xu))throw Error(a(331));var t=xu;for(xu|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ru(5,n),iu(5,n)}}catch(t){if(null===e)throw Error(a(330));ys(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return xu=t,Wi(),!0}function gs(e,t,n){so(e,t=pu(e,t=Ja(n,t),1073741823)),null!==(e=$u(e,1073741823))&&Xu(e)}function ys(e,t){if(3===e.tag)gs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){gs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fu||!Fu.has(r))){so(n,e=mu(n,e=Ja(t,e),1073741823)),null!==(n=$u(n,1073741823))&&Xu(n);break}}n=n.return}}function bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ku===e&&Tu===n?Cu===Eu||Cu===_u&&1073741823===Au&&Ui()-ju<500?ns(e,Tu):zu=!0:Ms(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Xu(e)))}function ws(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Qu(t=Vu(),e,null)),null!==(e=$u(e,t))&&Xu(e)}vu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Pa=!0;else{if(r<n){switch(Pa=!1,t.tag){case 3:Ua(t),Ia();break;case 5:if(jo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,li($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ha(e,t,n):(li(Ro,1&Ro.current),null!==(t=Ga(e,t,n))?t.sibling:null);li(Ro,1&Ro.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Ro,Ro.current),!r)return null}return Ga(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=pi(t,fi.current),no(t,n),i=Go(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var u=r.getDerivedStateFromProps;"function"==typeof u&&mo(t,r,u,e),i.updater=vo,t.stateNode=i,i._reactInternalFiber=t,wo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Oa(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ss(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=Ra(null,t,i,e,n);break e;case 1:t=Na(null,t,i,e,n);break e;case 11:t=Ma(null,t,i,e,n);break e;case 14:t=za(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Ua(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ia(),t=Ga(e,t,n);else{if((i=t.stateNode.hydrate)&&(_a=_n(t.stateNode.containerInfo.firstChild),wa=t,i=Ea=!0),i)for(n=To(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Oa(e,t,r,n),Ia();t=t.child}return t;case 5:return jo(t),null===e&&Sa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,yn(r,i)?u=null:null!==o&&yn(r,o)&&(t.effectTag|=16),Da(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Oa(e,t,u,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Ha(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(li($i,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=Nr(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!hi.current){t=Ga(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=uo(n,null)).tag=2,so(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Oa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Oa(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),za(e,t,i,o=Gi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),yo(t,r,i),wo(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Qa(e,t,n)}throw Error(a(156,t.tag))};var _s=null,Es=null;function xs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ks(e,t,n,r){return new xs(e,t,n,r)}function Ss(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ts(e,t){var n=e.alternate;return null===n?((n=ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,i,o){var u=2;if(r=e,"function"==typeof e)Ss(e)&&(u=1);else if("string"==typeof e)u=5;else e:switch(e){case ne:return Is(n.children,i,o,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=ks(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case le:return(e=ks(13,n,t,i)).type=le,e.elementType=le,e.expirationTime=o,e;case ce:return(e=ks(19,n,t,i)).elementType=ce,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:u=10;break e;case ae:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ks(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Is(e,t,n,r){return(e=ks(7,e,r,t)).expirationTime=n,e}function As(e,t,n){return(e=ks(6,e,null,t)).expirationTime=n,e}function Ps(e,t,n){return(t=ks(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Os(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ms(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zs(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function js(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ds(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Rs(e,t,n,r){var i=t.current,o=Vu(),u=ho.suspense;o=Qu(o,i,u);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=yi(n,l,s);break e}}n=s}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),Gu(i,o),o}function Ns(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Us(e,t){Fs(e,t),(e=e.alternate)&&Fs(e,t)}function Bs(e,t,n){var r=new Os(e,t,n=null!=n&&!0===n.hydrate),i=ks(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Tn]=r.current,n&&0!==t&&function(e,t){var n=Je(t);Tt.forEach((function(e){pt(e,t,n)})),Ct.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ls(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var u=i;i=function(){var e=Ns(a);u.call(e)}}Rs(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bs(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=Ns(a);s.call(e)}}ts((function(){Rs(t,a,e,i)}))}return Ns(a)}function Ks(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ls(t))throw Error(a(200));return Ks(e,t,null,n)}Bs.prototype.render=function(e){Rs(e,this._internalRoot,null,null)},Bs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Rs(null,e,null,(function(){t[Tn]=null}))},mt=function(e){if(13===e.tag){var t=Qi(Vu(),150,100);Gu(e,t),Us(e,t)}},vt=function(e){13===e.tag&&(Gu(e,3),Us(e,3))},gt=function(e){if(13===e.tag){var t=Vu();Gu(e,t=Qu(t,e,null)),Us(e,t)}},I=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(a(90));_e(r),Se(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},j=es,D=function(e,t,n,r,i){var o=xu;xu|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(xu=o)&&Wi()}},R=function(){0==(49&xu)&&(function(){if(null!==qu){var e=qu;qu=null,e.forEach((function(e,t){Ds(t,e),Xu(t)})),Wi()}}(),ms())},N=function(e,t){var n=xu;xu|=2;try{return e(t)}finally{0===(xu=n)&&Wi()}};var Ws,Vs,Qs={Events:[In,An,Pn,T,x,Nn,function(e){it(e,Rn)},M,z,Xt,ut,ms,{current:!1}]};Vs=(Ws={findFiberByHostInstance:Cn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);_s=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Es=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},Ws,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Vs?Vs(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qs,t.createPortal=Hs,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&xu))throw Error(a(187));var n=xu;xu|=1;try{return qi(99,e.bind(null,t))}finally{xu=n,Wi()}},t.hydrate=function(e,t,n){if(!Ls(t))throw Error(a(200));return qs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ls(t))throw Error(a(200));return qs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ls(e))throw Error(a(40));return!!e._reactRootContainer&&(ts((function(){qs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tn]=null}))})),!0)},t.unstable_batchedUpdates=es,t.unstable_createPortal=function(e,t){return Hs(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ls(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return qs(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(24)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,u;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(c,0),e}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},u=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var y=!1,b=null,w=-1,_=5,E=0;a=function(){return t.unstable_now()>=E},u=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();E=e+_;try{b(!0,e)?k.postMessage(null):(y=!1,b=null)}catch(e){throw k.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,k.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>I(a,n))void 0!==s&&0>I(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],P=[],O=1,M=null,z=3,j=!1,D=!1,R=!1;function N(e){for(var t=T(P);null!==t;){if(null===t.callback)C(P);else{if(!(t.startTime<=e))break;C(P),t.sortIndex=t.expirationTime,S(A,t)}t=T(P)}}function F(e){if(R=!1,N(e),!D)if(null!==T(A))D=!0,r(U);else{var t=T(P);null!==t&&i(F,t.startTime-e)}}function U(e,n){D=!1,R&&(R=!1,o()),j=!0;var r=z;try{for(N(n),M=T(A);null!==M&&(!(M.expirationTime>n)||e&&!a());){var u=M.callback;if(null!==u){M.callback=null,z=M.priorityLevel;var s=u(M.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?M.callback=s:M===T(A)&&C(A),N(n)}else C(A);M=T(A)}if(null!==M)var l=!0;else{var c=T(P);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{M=null,z=r,j=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var L=u;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||j||(D=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return z},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(z){case 1:case 2:case 3:var t=3;break;default:t=z}var n=z;z=t;try{return e()}finally{z=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=z;z=e;try{return t()}finally{z=n}},t.unstable_scheduleCallback=function(e,n,a){var u=t.unstable_now();if("object"==typeof a&&null!==a){var s=a.delay;s="number"==typeof s&&0<s?u+s:u,a="number"==typeof a.timeout?a.timeout:B(e)}else a=B(e),s=u;return e={id:O++,callback:n,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>u?(e.sortIndex=s,S(P,e),null===T(A)&&e===T(P)&&(R?o():R=!0,i(F,s-u))):(e.sortIndex=a,S(A,e),D||j||(D=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=T(A);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=z;return function(){var n=z;z=t;try{return e.apply(this,arguments)}finally{z=n}}}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(26),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,u,s=1,l={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,r(s),s++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(5),n(27))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],c=!1,f=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=u(h);c=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(10),o=n(2);class a extends o.MyIterable{constructor(e,t){super(),this.toKey=e,this.cmp=t,this.data=[],this.pendList=[],this.add=(...e)=>(0!==e.length&&this.pendList.push(...e),this),this.range=(e,t)=>{if(!this.isEmpty)return r.range(this.getData(),e,t,this.toKey,this.cmp)},this.has=e=>void 0!==this.search(e),this.clone=()=>a.lightWrap(this.getData().slice(),this.toKey,this.cmp),this.slice=(e,t)=>this.getData().slice(e,t),this.right=e=>a.lightWrap(function(e,t,n,i){if(0===e.length)return[];const o=r.lowerBound(e,t,n,i);return e.slice(o)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp),this.left=e=>a.lightWrap(function(e,t,n,i){if(0===e.length)return[];const o=r.upperBound(e,t,n,i);return e.slice(0,o+1)}(this.getData(),e,this.toKey,this.cmp),this.toKey,this.cmp),this.get=(e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return[];const[r,i]=n;return this.slice(r,i+1)},this.countRange=(e,t)=>{const n=void 0===t?this.search(e):this.range(e,t);if(void 0===n)return 0;const[r,i]=n,o=i-r+1;return console.assert(o>=1),o},this.getAt=e=>this.getData()[e],this.deleteAt=(e,t=1)=>(t>=1&&e>=0&&e<this.size&&this.getData().splice(e,t),this),this.delete=e=>{const t=this.getData(),n=r.binarySearch(t,e,this.toKey,this.cmp);if(void 0===n)return this;const[i,o]=n,a=o-i+1;return console.assert(a>=1),t.splice(i,a),this},this.search=e=>r.binarySearch(this.getData(),e,this.toKey,this.cmp),this.iterate=()=>this.getData(),this.getData=()=>{if(this.pendList.length>0){const e=a.sort(this.pendList,this.toKey,this.cmp);this.data=i.mergeK(this.toKey,this.cmp,e,this.data),this.pendList=[]}return this.data}}static wrap(e,t,n){const r=a.sort(Array.from(e),t,n);return a.lightWrap(r,t,n)}static lightWrap(e,t,n){const r=new a(t,n);return r.data=e,r}static sort(e,t,n){return e.sort((e,r)=>n(t(e),t(r)))}get size(){return this.data.length+this.pendList.length}get isEmpty(){return 0===this.size}}t.SortedList=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.isSorted=function(e,t){return r.toIt(e).pin((e,n)=>t(e,n)<=0).every(e=>e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.uniq=function(e,t){return r.toIt(function*(e,t){if(0===e.length)return;let n=e[0];for(const r of e)0!==t(r,n)&&(yield n,n=r);yield n}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),i=n(7);function o(e,t,n,o,a,u=(()=>0)){if(console.assert(o!==a,"source and destination are the same, what are you searching for?"),!e.has(o))throw new Error("source is not a node in the graph");if(void 0!==a&&!e.has(a))throw new Error("destination is not a node in the graph");const s=new Map([[o,0]]),l=new Map,c=r.MinHeap.heapify(([,e],[,t])=>e-t,i.makePair(o,0));for(;!c.isEmpty;){const[e]=c.pop();if(void 0!==a&&e===a)break;for(const r of t(e)){const t=s.get(r),i=s.get(e);console.assert(void 0!==i);const o=n(e,r);if(console.assert(void 0!==o),o<=0)throw new Error("weight must be positive (for progress to happen)");const f=i+o;if(void 0!==t&&f>=t)continue;s.set(r,f);const h=void 0!==a?u(a,r):0;if(h<0)throw new Error("heuristic estimate should be non-negative");const d=f+h;c.add([r,d]),l.set(r,e)}}return{distance:s,parent:l}}t.aStar=o,t.aStarAdjList=function(e,t,n,r,i=(()=>0)){return o(new Set(e.keys()),t=>{const n=e.get(t);if(void 0===n)throw new Error("Inconsistent graph -- graph should at least have an empty array for every vertices");return n},t,n,r,i)},t.extractPath=function(e,t,n){let r=n;const i=[];if(void 0!==e.get(r))for(;;){if(i.push(r),r===t)return i;if(r=e.get(r),void 0===r)return}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.bfsPreOrder=function(e,t){return r.toIt(function*(e,t){const n=[[e,0]],r=new Set;for(;n.length>0;){const[e,i]=n.shift();yield[e,i],r.add(e);const o=i+1;for(const i of t(e))r.has(i)||(r.add(i),n.push([i,o]))}}(e,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FloydWarshall=class{constructor(e,t){this.vertices=[...e.keys()],this.verticesIdx=new Map(Array.from(this.vertices).map((e,t)=>[e,t]));const n=e.size,r=new Array(n),i=this.nextMap=new Array(n);for(let e=0;e<n;e++)r[e]=new Array(n).fill(1/0),i[e]=new Array(n),r[e][e]=0;for(const[n,o]of e)for(const e of o){const o=this.verticesIdx.get(n),a=this.verticesIdx.get(e);r[o][a]=t(n,e),i[o][a]=a}for(let e=0;e<n;e++)for(let t=0;t<n;t++)for(let o=0;o<n;o++){const n=r[t][e]+r[e][o];r[t][o]>n&&(r[t][o]=n,i[t][o]=i[t][e])}}next(e,t){const n=this.verticesIdx.get(t),r=this.verticesIdx.get(e),i=this.nextMap[r][n];if(void 0!==i)return this.vertices[i]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14);t.kruskalMST=function(e,t,n){const i=new r.UnionFind,o=Array.from(e).reduce((e,n)=>{for(const r of t(n))e.push([n,r]);return e},new Array).sort(([e,t],[r,i])=>n(e,t)-n(r,i)),a=new Map(Array.from(e).map(e=>[e,[]]));for(const[e,t]of o)i.isSameSet(e,t)||(a.get(e).push(t),a.get(t).push(e),i.union(e,t));return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.stableMarriage=function(e,t){const n=function(e,t){const n=new Map;for(const[i,o]of e){const e=r.MinHeap.inPlaceWrap((e,t)=>o(t)-o(e),Array.from(t.keys()).filter(e=>void 0!==o(e)));n.set(i,e)}return n}(e,t),i=new Map,o=Array.from(e.keys());for(;o.length>0;){const e=o.pop(),r=n.get(e);for(;!r.isEmpty;){const n=r.pop(),a=t.get(n),u=a(e);if(void 0===u)continue;const s=i.get(n);if(void 0===s){i.set(n,e);break}if(u>a(s)){i.set(n,e),o.push(s);break}}}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(...e){super(),this.iterate=()=>this.leftMap.entries(),this.leftMap=new Map(e),this.rightMap=new Map(e.map(([e,t])=>[t,e]))}get size(){return console.assert(this.leftMap.size===this.rightMap.size),this.leftMap.size}set(e,t){return this.leftMap.set(e,t),this.rightMap.set(t,e),this}delete(e){const t=this.leftMap.get(e);return void 0!==t&&this._delete(e,t)}deleteRight(e){const t=this.rightMap.get(e);return void 0!==t&&this._delete(t,e)}get(e){return this.leftMap.get(e)}getLeft(e){return this.rightMap.get(e)}has(e){return this.leftMap.has(e)}hasRight(e){return this.rightMap.has(e)}keys(){return this.leftMap.keys()}values(){return this.leftMap.values()}_delete(e,t){const n=this.leftMap.delete(e),r=this.rightMap.delete(t);return console.assert(n),console.assert(r),!0}}t.BiMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(12),i=n(2),o=n(16);class a extends i.MyIterable{constructor(e,...t){super(),this.cmp=e,this.get=e=>this.data.get(a.sortKey(this.cmp,e)),this.has=e=>this.data.has(a.sortKey(this.cmp,e)),this.delete=e=>this.data.delete(a.sortKey(this.cmp,e)),this.set=(e,t)=>this.data.set(a.sortKey(this.cmp,e),t),this.getOrSet=(e,t)=>this.data.getOrSet(a.sortKey(this.cmp,e),t),this.keys=()=>i.toIt(this.iterate()).map(([e])=>e),this.values=()=>i.toIt(this.iterate()).map(([,e])=>e),this.makeEmpty=()=>new a(this.cmp),this.iterate=()=>a.iterateHelper(this.cmp,this.data),this.data=new o.Trie(...t.map(([t,n])=>[a.sortKey(e,t),n]))}static*iterateHelper(e,t){const n=Array.from(t).sort(([t],[n])=>r.cmpList(e,t,n));for(const e of n)yield e}get size(){return this.data.size}get isEmpty(){return 0===this.size}}a.sortKey=(e,t)=>t.slice().sort(e),t.SortedTrie=a},function(e,t,n){"use strict";function r([e,t],[n,r]){return[e-n,t-r]}function i([e,t]){return Math.sqrt(e*e+t*t)}function o(e,t){return i(r(e,t))}function a([e,t],n){return[n*e,n*t]}function u([e,t],[n,r]){return e*r-n*t}function s([e,t],[n,r],[i,o]){const a=Math.max(n,i),u=Math.min(n,i),s=Math.max(r,o),l=Math.min(r,o);return e<=a&&e>=u&&t<=s&&t>=l}var l;function c(e,t,n,i){const a=r(e,n),s=r(t,n),c=o(e,t),f=c*c,h=i*i,d=u(a,s),p=h*f-d*d;return p<0?l.None:p>0?l.Intersection:l.Tangent}Object.defineProperty(t,"__esModule",{value:!0}),t.equal=function([e,t],[n,r]){return e===n&&t===r},t.compare=function([e,t],[n,r]){return e<n?-1:e>n?1:t-r},t.subtract=r,t.add=function([e,t],[n,r]){return[e+n,t+r]},t.norm=i,t.distance=o,t.scalarMult=a,t.manhattanDistance=function(e,t){const[n,i]=r(e,t);return Math.abs(n)+Math.abs(i)},t.project=function(e,t=1){const n=i(e);return console.assert(0!==n,"caller make sure the given vector is not the origin"),a(e,t/n)},t.determinant=u,t.isPointInRect=s,function(e){e[e.None=0]="None",e[e.Tangent=1]="Tangent",e[e.Intersection=2]="Intersection"}(l=t.IntersectionKind||(t.IntersectionKind={})),t.testLineCircleIntersect=c,t.testLineSegmentCircleIntersect=function(e,t,n,r){return s(n,e,t)?c(e,t,n,r):l.None}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memo=function(e){const t=new Map;return n=>{if(!t.has(n)){const r=e(n);t.set(n,r)}return t.get(n)}},t.memoBy=function(e,t){const n=new Map;return r=>{if(!n.has(r)){const i=t(r);for(const[t,r]of e(i)){if(n.has(t))throw new Error("genRange keys overlap (all keys from keyBy must be mapped to disjoint sets");n.set(t,r)}if(!n.has(r))throw new Error("genRange doesn't cover the target")}return n.get(r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);t.getAndSum=function(e,t,n){const i=r.defaultZero(e.get(t))+n;return e.set(t,i),i},t.updateMap=function(e,t,n){const r=n(e.get(t));return e.set(t,r),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diamondSquare=function(e,t,n){console.assert(Number.isInteger(Math.log2(t-1)),"nside must be of the form (2^n)+1");const r=new Float32Array(t*t),i=t-1,o=([e,n])=>e>=0&&e<t&&n>=0&&n<t,a=([e,n])=>n*t+e,u=e=>r[a(e)],s=(e,t)=>{const n=a(e);console.assert(t>0),console.assert(0===r[n]),r[n]=t},l=(t,n,r)=>{const i=n.filter(o).map(u),a=i.reduce((e,t)=>e+t,0)/i.length+e()*r;console.assert(Number.isFinite(a)),s(t,a)},c=(e,t)=>{const n=e/2;for(let r=n;r<=i;r+=e)for(let o=n;o<=i;o+=e){l([o,r],[[o-n,r-n],[o+n,r-n],[o-n,r+n],[o+n,r+n]],t)}},f=(e,t)=>{const n=e/2;let r=!0;for(let o=0;o<=i;o+=n){const a=r?n:0;r=!r;for(let r=a;r<=i;r+=e){l([r,o],[[r,o-n],[r,o+n],[r-n,o],[r+n,o]],t)}}};{s([0,0],e()),s([0,t-1],e()),s([t-1,0],e()),s([t-1,t-1],e());let r=.1;for(let e=i;e>1;e/=2,r=e/t*n)c(e,r),f(e,r)}const h=Math.max(...r),d=Math.min(...r),p=h-d;console.assert(p>0);const m=r.map(e=>(e-d)/p);return console.assert(m.every(e=>e>=0&&e<=1)),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17);t.randomGen=(e,t)=>{if(r.sum(...e.values())>1)throw new Error("probability needs to be positive and less than 1");const n=[],i=[];for(const[t,r]of e){if(r<=0)throw new Error("probability needs to be positive and less than 1");n.push(t),i.push(r)}const o=void 0===t?Math.random:t;return()=>{const e=o();let t=0;for(let r=0;r<i.length;r++)if(t+=i[r],e<t)return n[r]}},t.randomGenStrict=(e,n,r)=>{if(n.has(e))throw new Error("remain should ∉ probs");const i=t.randomGen(n,r);return()=>{const t=i();return void 0===t?e:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.shuffleSlice=function(e){return r.toIt(function*(e){const t=Array.from(e);for(;t.length>0;){const e=t.length-1,n=Math.floor(Math.random()*e);yield t[n],n===e?t.pop():t[n]=t.pop()}}(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);class i extends r.MyIterable{constructor(...e){super(),this.leftMap=new Map,this.rightMap=new Map,this.iterate=()=>this.leftMap.entries();for(const[t,n]of e)this.add(t,n)}get size(){return this.leftMap.size}add(e,t){this.leftMap.set(e,t),this.rightMap.set(t,e)}deleteLeft(e){const t=this.leftMap.get(e);return void 0!==t&&this.deleteHelper(e,t)}deleteRight(e){const t=this.rightMap.get(e);return void 0!==t&&this.deleteHelper(t,e)}getRight(e){return this.leftMap.get(e)}getLeft(e){return this.rightMap.get(e)}hasLeft(e){return this.leftMap.has(e)}hasRight(e){return this.rightMap.has(e)}lefts(){return r.toIt(this.leftMap.keys())}rights(){return r.toIt(this.rightMap.keys())}deleteHelper(e,t){const n=this.leftMap.delete(e),r=this.rightMap.delete(t);return console.assert(n),console.assert(r),!0}}t.BiSet=i},function(e,t,n){var r=n(46),i=n(47);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function u(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],l=n[s]||0,c="".concat(s," ").concat(l);n[s]=l+1;var f=u(c),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:c,updater:v(h,t),references:1}),r.push(c)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function v(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=l(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=l(t),r=d.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=u(n[r]);a[i].references--}for(var o=s(e,t),l=0;l<n.length;l++){var c=u(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=o}}}},function(e,t,n){"use strict";n.r(t);var r=n(20),i=n.n(r)()(!0);i.push([e.i,"body {\n    background-color: black;\n    color: white;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n#mapContainer {\n    display: block;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n}\n\n#map {\n    display: block;\n}\n\n#menu {\n    background: rgba(85, 85, 85, 0.7);\n    display: flex;\n    padding: 5px;\n    position: fixed;\n    left: 0;\n    right: 0;\n    justify-content: space-between;\n    align-items: center;\n}\n\n#stats {\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n}\n\n@media only screen and (max-width: 500px) {\n    #stats {\n        display: flex;\n        flex-direction: column;\n    }\n}\n\n#stats div {\n    display: flex;\n    align-items: center;\n    padding-right: 10px;\n}\n\n.titlebar {\n    background-color: darkblue;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\nnav.tabs div,\n.selectLabel,\n#menu button,\n.material-icons {\n    cursor: pointer;\n}\n\n#menu button:hover,\n.material-icons:hover {\n    color: darkgray;\n}\n\n#menu button:active,\n.material-icons:active {\n    color: gray;\n}\n\n#menu button {\n    text-align: center;\n    padding: 0;\n    border: none;\n    background: none;\n    color: white;\n    outline: none;\n}\n\n.panel {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    filter: blur(0);\n    background-color: rgba(85, 85, 85, 0.9);\n    border: 1px solid rgb(46, 46, 46);\n}\n\n.panel-content {\n    max-height: 70vh;\n    max-width: 70vw;\n    overflow: auto;\n}\n\n.panel div {\n    padding: 0 3px;\n}\n\nnav.tabs {\n    display: flex;\n    list-style: none;\n    margin: 5px;\n    padding: 0;\n}\n\nnav.tabs div {\n    display: inline;\n    padding: 2px 5px;\n    border: 1px solid black;\n}\n\n.selectLabel:hover,\nnav.tabs div:hover {\n    background-color: darkgray;\n}\n\nnav.tabs div:active {\n    background-color: rgb(46, 46, 46);\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\ntable,\nth,\ntr,\ntd {\n    border: 1px solid black;\n}","",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;IACI,uBAAuB;IACvB,YAAY;IACZ,aAAa;IACb,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,yBAAyB;IACzB,qBAAqB;IACrB,iBAAiB;AACrB;;AAEA;IACI,cAAc;IACd,aAAa;IACb,SAAS;IACT,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,iCAAiC;IACjC,aAAa;IACb,YAAY;IACZ,eAAe;IACf,OAAO;IACP,QAAQ;IACR,8BAA8B;IAC9B,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,eAAe;AACnB;;AAEA;IACI;QACI,aAAa;QACb,sBAAsB;IAC1B;AACJ;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,mBAAmB;AACvB;;AAEA;IACI,0BAA0B;IAC1B,aAAa;IACb,mBAAmB;IACnB,8BAA8B;AAClC;;AAEA;;;;IAII,eAAe;AACnB;;AAEA;;IAEI,eAAe;AACnB;;AAEA;;IAEI,WAAW;AACf;;AAEA;IACI,kBAAkB;IAClB,UAAU;IACV,YAAY;IACZ,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,eAAe;IACf,SAAS;IACT,QAAQ;IACR,gCAAgC;IAChC,eAAe;IACf,uCAAuC;IACvC,iCAAiC;AACrC;;AAEA;IACI,gBAAgB;IAChB,eAAe;IACf,cAAc;AAClB;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,gBAAgB;IAChB,WAAW;IACX,UAAU;AACd;;AAEA;IACI,eAAe;IACf,gBAAgB;IAChB,uBAAuB;AAC3B;;AAEA;;IAEI,0BAA0B;AAC9B;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,yBAAyB;IACzB,WAAW;AACf;;AAEA;;;;IAII,uBAAuB;AAC3B",sourcesContent:["body {\n    background-color: black;\n    color: white;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n#mapContainer {\n    display: block;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n}\n\n#map {\n    display: block;\n}\n\n#menu {\n    background: rgba(85, 85, 85, 0.7);\n    display: flex;\n    padding: 5px;\n    position: fixed;\n    left: 0;\n    right: 0;\n    justify-content: space-between;\n    align-items: center;\n}\n\n#stats {\n    display: flex;\n    flex-direction: row;\n    flex-flow: wrap;\n}\n\n@media only screen and (max-width: 500px) {\n    #stats {\n        display: flex;\n        flex-direction: column;\n    }\n}\n\n#stats div {\n    display: flex;\n    align-items: center;\n    padding-right: 10px;\n}\n\n.titlebar {\n    background-color: darkblue;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n}\n\nnav.tabs div,\n.selectLabel,\n#menu button,\n.material-icons {\n    cursor: pointer;\n}\n\n#menu button:hover,\n.material-icons:hover {\n    color: darkgray;\n}\n\n#menu button:active,\n.material-icons:active {\n    color: gray;\n}\n\n#menu button {\n    text-align: center;\n    padding: 0;\n    border: none;\n    background: none;\n    color: white;\n    outline: none;\n}\n\n.panel {\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    filter: blur(0);\n    background-color: rgba(85, 85, 85, 0.9);\n    border: 1px solid rgb(46, 46, 46);\n}\n\n.panel-content {\n    max-height: 70vh;\n    max-width: 70vw;\n    overflow: auto;\n}\n\n.panel div {\n    padding: 0 3px;\n}\n\nnav.tabs {\n    display: flex;\n    list-style: none;\n    margin: 5px;\n    padding: 0;\n}\n\nnav.tabs div {\n    display: inline;\n    padding: 2px 5px;\n    border: 1px solid black;\n}\n\n.selectLabel:hover,\nnav.tabs div:hover {\n    background-color: darkgray;\n}\n\nnav.tabs div:active {\n    background-color: rgb(46, 46, 46);\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\ntable,\nth,\ntr,\ntd {\n    border: 1px solid black;\n}"],sourceRoot:""}]),t.default=i},function(e,t,n){"use strict";n.r(t);var r,i,o=n(0),a=n.n(o),u=n(18),s=n(19);!function(e){e[e.Hold=0]="Hold",e[e.Move=1]="Move",e[e.Docked=2]="Docked"}(r||(r={})),function(e){e[e.Planet=0]="Planet",e[e.Fleet=1]="Fleet",e[e.RouteSegment=2]="RouteSegment"}(i||(i={}));Object.keys(i).filter(e=>"number"==typeof i[e]).map(e=>Number(i[e]));var l={};function c(e){e&&(e.value=!0)}function f(){}function h(e){return void 0===e.size&&(e.size=e.__iterate(p)),e.size}function d(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function p(){return!0}function m(e,t,n){return(0===e&&!b(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return y(e,t,0)}function g(e,t){return y(e,t,t)}function y(e,t,n){return void 0===e?n:b(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function b(e){return e<0||0===e&&1/e==-1/0}function w(e){return Boolean(e&&e["@@__IMMUTABLE_ITERABLE__@@"])}function _(e){return Boolean(e&&e["@@__IMMUTABLE_KEYED__@@"])}function E(e){return Boolean(e&&e["@@__IMMUTABLE_INDEXED__@@"])}function x(e){return _(e)||E(e)}var k=function(e){return w(e)?e:H(e)},S=function(e){function t(e){return _(e)?e:W(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k),T=function(e){function t(e){return E(e)?e:V(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k),C=function(e){function t(e){return w(e)&&!x(e)?e:Q(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(k);k.Keyed=S,k.Indexed=T,k.Set=C;function I(e){return Boolean(e&&e["@@__IMMUTABLE_SEQ__@@"])}function A(e){return Boolean(e&&e["@@__IMMUTABLE_RECORD__@@"])}function P(e){return w(e)||A(e)}var O="@@__IMMUTABLE_ORDERED__@@";function M(e){return Boolean(e&&e[O])}var z="function"==typeof Symbol&&Symbol.iterator,j=z||"@@iterator",D=function(e){this.next=e};function R(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function N(){return{value:void 0,done:!0}}function F(e){return!!L(e)}function U(e){return e&&"function"==typeof e.next}function B(e){var t=L(e);return t&&t.call(e)}function L(e){var t=e&&(z&&e[z]||e["@@iterator"]);if("function"==typeof t)return t}D.prototype.toString=function(){return"[Iterator]"},D.KEYS=0,D.VALUES=1,D.ENTRIES=2,D.prototype.inspect=D.prototype.toSource=function(){return this.toString()},D.prototype[j]=function(){return this};var q=Object.prototype.hasOwnProperty;function K(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var H=function(e){function t(e){return null==e?J():P(e)?e.toSeq():function(e){var t=te(e);if(t)return t;if("object"==typeof e)return new $(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[t?r-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,i=0;return new D((function(){if(i===r)return{value:void 0,done:!0};var o=n[t?r-++i:i++];return R(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(k),W=function(e){function t(e){return null==e?J().toKeyedSeq():w(e)?_(e)?e.toSeq():e.fromEntrySeq():A(e)?e.toSeq():Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(H),V=function(e){function t(e){return null==e?J():w(e)?_(e)?e.entrySeq():e.toIndexedSeq():A(e)?e.toSeq().entrySeq():ee(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(H),Q=function(e){function t(e){return(w(e)&&!x(e)?e:V(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(H);H.isSeq=I,H.Keyed=W,H.Set=Q,H.Indexed=V,H.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var G=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,i=0;i!==r;){var o=t?r-++i:i++;if(!1===e(n[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,i=0;return new D((function(){if(i===r)return{value:void 0,done:!0};var o=t?r-++i:i++;return R(e,o,n[o])}))},t}(V),$=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return q.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var a=r[t?i-++o:o++];if(!1===e(n[a],a,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length,o=0;return new D((function(){if(o===i)return{value:void 0,done:!0};var a=r[t?i-++o:o++];return R(e,a,n[a])}))},t}(W);$.prototype[O]=!0;var Y,X=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=B(this._collection),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=B(this._collection);if(!U(n))return new D(N);var r=0;return new D((function(){var t=n.next();return t.done?t:R(e,r++,t.value)}))},t}(V);function J(){return Y||(Y=new G([]))}function Z(e){var t=Array.isArray(e)?new G(e):F(e)?new X(e):void 0;if(t)return t.fromEntrySeq();if("object"==typeof e)return new $(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ee(e){var t=te(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function te(e){return K(e)?new G(e):F(e)?new X(e):void 0}function ne(e){return Boolean(e&&e["@@__IMMUTABLE_MAP__@@"])}function re(e){return ne(e)&&M(e)}function ie(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function oe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(ie(e)&&ie(t)&&e.equals(t))}var ae="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ue(e){return e>>>1&1073741824|3221225471&e}var se=Object.prototype.valueOf;function le(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return ue(t)}(e);case"string":return e.length>ge?function(e){var t=we[e];void 0===t&&(t=ce(e),be===ye&&(be=0,we={}),be++,we[e]=t);return t}(e):ce(e);case"object":case"function":return null===e?1108378658:"function"==typeof e.hashCode?ue(e.hashCode(e)):(e.valueOf!==se&&"function"==typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(pe&&void 0!==(t=de.get(e)))return t;if(void 0!==(t=e[ve]))return t;if(!he){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[ve]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++me,1073741824&me&&(me=0);if(pe)de.set(e,t);else{if(void 0!==fe&&!1===fe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(he)Object.defineProperty(e,ve,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ve]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[ve]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"==typeof e.toString)return ce(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function ce(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ue(t)}var fe=Object.isExtensible,he=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var de,pe="function"==typeof WeakMap;pe&&(de=new WeakMap);var me=0,ve="__immutablehash__";"function"==typeof Symbol&&(ve=Symbol(ve));var ge=16,ye=255,be=0,we={},_e=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Ce(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Te(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t,r){return e(t,r,n)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(W);_e.prototype[O]=!0;var Ee=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&h(this),this._iter.__iterate((function(i){return e(i,t?n.size-++r:r++,n)}),t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(1,t),i=0;return t&&h(this),new D((function(){var o=r.next();return o.done?o:R(e,t?n.size-++i:i++,o.value,o)}))},t}(V),xe=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new D((function(){var t=n.next();return t.done?t:R(e,t.value,t.value,t)}))},t}(Q),ke=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Fe(t);var r=w(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new D((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Fe(r);var i=w(r);return R(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},t}(W);function Se(e){var t=Be(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Le,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new D((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Te(e,t,n){var r=Be(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,l);return o===l?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(2,i);return new D((function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return R(r,u,t.call(n,a[1],u,e),i)}))},r}function Ce(e,t){var n=this,r=Be(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Se(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=Le,r.__iterate=function(n,r){var i=this,o=0;return r&&h(e),e.__iterate((function(e,a){return n(e,t?a:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&h(e);var a=e.__iterator(2,!i);return new D((function(){var e=a.next();if(e.done)return e;var u=e.value;return R(r,t?u[0]:i?n.size-++o:o++,u[1],e)}))},r}function Ie(e,t,n,r){var i=Be(e);return r&&(i.has=function(r){var i=e.get(r,l);return i!==l&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,l);return o!==l&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return e.__iterate((function(e,o,s){if(t.call(n,e,o,s))return u++,i(e,r?o:u-1,a)}),o),u},i.__iteratorUncached=function(i,o){var a=e.__iterator(2,o),u=0;return new D((function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,l=s[0],c=s[1];if(t.call(n,c,l,e))return R(i,r?l:u++,c,o)}}))},i}function Ae(e,t,n,r){var i=e.size;if(m(t,n,i))return e;var o=v(t,i),a=g(n,i);if(o!=o||a!=a)return Ae(e.toSeq().cacheResult(),t,n,r);var u,s=a-o;s==s&&(u=s<0?0:s);var l=Be(e);return l.size=0===u?u:e.size&&u||void 0,!r&&I(e)&&u>=0&&(l.get=function(t,n){return(t=d(this,t))>=0&&t<u?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,l=0;return e.__iterate((function(e,n){if(!s||!(s=a++<o))return l++,!1!==t(e,r?n:l-1,i)&&l!==u})),l},l.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);if(0===u)return new D(N);var i=e.__iterator(t,n),a=0,s=0;return new D((function(){for(;a++<o;)i.next();if(++s>u)return{value:void 0,done:!0};var e=i.next();return r||1===t||e.done?e:R(t,s-1,0===t?void 0:e.value[1],e)}))},l}function Pe(e,t,n,r){var i=Be(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return e.__iterate((function(e,o,l){if(!u||!(u=t.call(n,e,o,l)))return s++,i(e,r?o:s-1,a)})),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(2,o),s=!0,l=0;return new D((function(){var e,o,c;do{if((e=u.next()).done)return r||1===i?e:R(i,l++,0===i?void 0:e.value[1],e);var f=e.value;o=f[0],c=f[1],s&&(s=t.call(n,c,o,a))}while(s);return 2===i?e:R(i,o,c,e)}))},i}function Oe(e,t){var n=_(e),r=[e].concat(t).map((function(e){return w(e)?n&&(e=S(e)):e=n?Z(e):ee(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===r.length)return e;if(1===r.length){var i=r[0];if(i===e||n&&_(i)||E(e)&&E(i))return i}var o=new G(r);return n?o=o.toKeyedSeq():E(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),o}function Me(e,t,n){var r=Be(e);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,u=!1;return function e(s,l){s.__iterate((function(o,s){return(!t||l<t)&&w(o)?e(o,l+1):(a++,!1===i(o,n?s:a-1,r)&&(u=!0)),!u}),o)}(e,0),a},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=e.__iterator(r,i),a=[],u=0;return new D((function(){for(;o;){var e=o.next();if(!1===e.done){var s=e.value;if(2===r&&(s=s[1]),t&&!(a.length<t)||!w(s))return n?e:R(r,u++,s,e);a.push(o),o=s.__iterator(r,i)}else o=a.pop()}return{value:void 0,done:!0}}))},r}function ze(e,t,n){t||(t=qe);var r=_(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).valueSeq().toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?W(o):E(e)?V(o):Q(o)}function je(e,t,n){if(t||(t=qe),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return De(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return De(t,e,n)?n:e}))}function De(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Re(e,t,n,r){var i=Be(e),o=new G(n).map((function(e){return e.size}));return i.size=r?o.max():o.min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map((function(e){return e=k(e),B(i?e.reverse():e)})),a=0,u=!1;return new D((function(){var n;return u||(n=o.map((function(e){return e.next()})),u=r?n.every((function(e){return e.done})):n.some((function(e){return e.done}))),u?{value:void 0,done:!0}:R(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Ne(e,t){return e===t?e:I(e)?t:e.constructor(t)}function Fe(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ue(e){return _(e)?S:E(e)?T:C}function Be(e){return Object.create((_(e)?W:E(e)?V:Q).prototype)}function Le(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):H.prototype.cacheResult.call(this)}function qe(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ke(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function He(e,t){if(!e)throw new Error(t)}function We(e){He(e!==1/0,"Cannot perform this action with an infinite size.")}function Ve(e){if(K(e)&&"string"!=typeof e)return e;if(M(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function Qe(e){return e&&("function"!=typeof e.constructor||"Object"===e.constructor.name)}function Ge(e){return"object"==typeof e&&(P(e)||Array.isArray(e)||Qe(e))}function $e(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function Ye(e,t){return P(e)?e.has(t):Ge(e)&&q.call(e,t)}function Xe(e,t,n){return P(e)?e.get(t,n):Ye(e,t)?"function"==typeof e.get?e.get(t):e[t]:n}function Je(e){if(Array.isArray(e))return Ke(e);var t={};for(var n in e)q.call(e,n)&&(t[n]=e[n]);return t}function Ze(e,t){if(!Ge(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!q.call(e,t))return e;var n=Je(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function et(e,t,n){if(!Ge(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(P(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(q.call(e,t)&&n===e[t])return e;var r=Je(e);return r[t]=n,r}function tt(e,t,n,r){r||(r=n,n=void 0);var i=function e(t,n,r,i,o,a){var u=n===l;if(i===r.length){var s=u?o:n,c=a(s);return c===s?n:c}if(!u&&!Ge(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map($e)+"]: "+n);var f=r[i],h=u?l:Xe(n,f,l),d=e(h===l?t:P(h),h,r,i+1,o,a);return d===h?n:d===l?Ze(n,f):et(u?t?jt():{}:n,f,d)}(P(e),e,Ve(t),0,n,r);return i===l?n:i}function nt(e,t,n){return tt(e,t,l,(function(){return n}))}function rt(e,t){return nt(this,e,t)}function it(e,t){return tt(e,t,(function(){return l}))}function ot(e){return it(this,e)}function at(e,t,n,r){return tt(e,[t],n,r)}function ut(e,t,n){return 1===arguments.length?e(this):at(this,e,t,n)}function st(e,t,n){return tt(this,e,t,n)}function lt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ft(this,e)}function ct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return ft(this,t,e)}function ft(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=S(t[i]);0!==o.size&&r.push(o)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var t=n?function(t,r){at(e,r,l,(function(e){return e===l?t:n(e,t,r)}))}:function(t,n){e.set(n,t)},i=0;i<r.length;i++)r[i].forEach(t)})):e.constructor(r[0])}function ht(e,t,n){return dt(e,t,function(e){return function t(n,r,i){return Ge(n)&&Ge(r)?dt(n,[r],t):e?e(n,r,i):r}}(n))}function dt(e,t,n){if(!Ge(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(P(e))return"function"==typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,o=r?T:S,a=r?function(t){i===e&&(i=Je(i)),i.push(t)}:function(t,r){var o=q.call(i,r),a=o&&n?n(i[r],t,r):t;o&&a===i[r]||(i===e&&(i=Je(i)),i[r]=a)},u=0;u<t.length;u++)o(t[u]).forEach(a);return i}function pt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ht(this,e)}function mt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return ht(this,t,e)}function vt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return tt(this,e,jt(),(function(e){return dt(e,t)}))}function gt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return tt(this,e,jt(),(function(e){return ht(e,t)}))}function yt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function bt(){return this.__ownerID?this:this.__ensureOwner(new f)}function wt(){return this.__ensureOwner()}function _t(){return this.__altered}Ee.prototype.cacheResult=_e.prototype.cacheResult=xe.prototype.cacheResult=ke.prototype.cacheResult=Le;var Et=function(e){function t(t){return null==t?jt():ne(t)&&!M(t)?t:jt().withMutations((function(n){var r=e(t);We(r.size),r.forEach((function(e,t){return n.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return jt().withMutations((function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Dt(this,e,t)},t.prototype.remove=function(e){return Dt(this,e,l)},t.prototype.deleteAll=function(e){var t=k(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):jt()},t.prototype.sort=function(e){return an(ze(this,e))},t.prototype.sortBy=function(e,t){return an(ze(this,t,e))},t.prototype.map=function(e,t){return this.withMutations((function(n){n.forEach((function(r,i){n.set(i,e.call(t,r,i,n))}))}))},t.prototype.__iterator=function(e,t){return new Pt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?zt(this.size,this._root,e,this.__hash):0===this.size?jt():(this.__ownerID=e,this.__altered=!1,this)},t}(S);Et.isMap=ne;var xt=Et.prototype;xt["@@__IMMUTABLE_MAP__@@"]=!0,xt.delete=xt.remove,xt.removeAll=xt.deleteAll,xt.setIn=rt,xt.removeIn=xt.deleteIn=ot,xt.update=ut,xt.updateIn=st,xt.merge=xt.concat=lt,xt.mergeWith=ct,xt.mergeDeep=pt,xt.mergeDeepWith=mt,xt.mergeIn=vt,xt.mergeDeepIn=gt,xt.withMutations=yt,xt.wasAltered=_t,xt.asImmutable=wt,xt["@@transducer/init"]=xt.asMutable=bt,xt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},xt["@@transducer/result"]=function(e){return e.asImmutable()};var kt=function(e,t){this.ownerID=e,this.entries=t};kt.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(oe(n,i[o][0]))return i[o][1];return r},kt.prototype.update=function(e,t,n,r,i,o,a){for(var u=i===l,s=this.entries,h=0,d=s.length;h<d&&!oe(r,s[h][0]);h++);var p=h<d;if(p?s[h][1]===i:u)return this;if(c(a),(u||!p)&&c(o),!u||1!==s.length){if(!p&&!u&&s.length>=Lt)return function(e,t,n,r){e||(e=new f);for(var i=new It(e,le(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,s,r,i);var m=e&&e===this.ownerID,v=m?s:Ke(s);return p?u?h===d-1?v.pop():v[h]=v.pop():v[h]=[r,i]:v.push([r,i]),m?(this.entries=v,this):new kt(e,v)}};var St=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};St.prototype.get=function(e,t,n,r){void 0===t&&(t=le(n));var i=1<<(31&(0===e?t:t>>>e)),o=this.bitmap;return 0==(o&i)?r:this.nodes[Ut(o&i-1)].get(e+5,t,n,r)},St.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=le(r));var u=31&(0===t?n:n>>>t),s=1<<u,c=this.bitmap,f=0!=(c&s);if(!f&&i===l)return this;var h=Ut(c&s-1),d=this.nodes,p=f?d[h]:void 0,m=Rt(p,e,t+5,n,r,i,o,a);if(m===p)return this;if(!f&&m&&d.length>=qt)return function(e,t,n,r,i){for(var o=0,a=new Array(32),u=0;0!==n;u++,n>>>=1)a[u]=1&n?t[o++]:void 0;return a[r]=i,new Tt(e,o+1,a)}(e,d,c,u,m);if(f&&!m&&2===d.length&&Nt(d[1^h]))return d[1^h];if(f&&m&&1===d.length&&Nt(m))return m;var v=e&&e===this.ownerID,g=f?m?c:c^s:c|s,y=f?m?Bt(d,h,m,v):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(d,h,v):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,u=0;u<i;u++)u===t?(o[u]=n,a=-1):o[u]=e[u+a];return o}(d,h,m,v);return v?(this.bitmap=g,this.nodes=y,this):new St(e,g,y)};var Tt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Tt.prototype.get=function(e,t,n,r){void 0===t&&(t=le(n));var i=31&(0===e?t:t>>>e),o=this.nodes[i];return o?o.get(e+5,t,n,r):r},Tt.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=le(r));var u=31&(0===t?n:n>>>t),s=i===l,c=this.nodes,f=c[u];if(s&&!f)return this;var h=Rt(f,e,t+5,n,r,i,o,a);if(h===f)return this;var d=this.count;if(f){if(!h&&--d<Kt)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,l=t.length;u<l;u++,s<<=1){var c=t[u];void 0!==c&&u!==r&&(i|=s,a[o++]=c)}return new St(e,i,a)}(e,c,d,u)}else d++;var p=e&&e===this.ownerID,m=Bt(c,u,h,p);return p?(this.count=d,this.nodes=m,this):new Tt(e,d,m)};var Ct=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Ct.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(oe(n,i[o][0]))return i[o][1];return r},Ct.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=le(r));var u=i===l;if(n!==this.keyHash)return u?this:(c(a),c(o),Ft(this,e,t,n,[r,i]));for(var s=this.entries,f=0,h=s.length;f<h&&!oe(r,s[f][0]);f++);var d=f<h;if(d?s[f][1]===i:u)return this;if(c(a),(u||!d)&&c(o),u&&2===h)return new It(e,this.keyHash,s[1^f]);var p=e&&e===this.ownerID,m=p?s:Ke(s);return d?u?f===h-1?m.pop():m[f]=m.pop():m[f]=[r,i]:m.push([r,i]),p?(this.entries=m,this):new Ct(e,this.keyHash,m)};var It=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};It.prototype.get=function(e,t,n,r){return oe(n,this.entry[0])?this.entry[1]:r},It.prototype.update=function(e,t,n,r,i,o,a){var u=i===l,s=oe(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(c(a),u?void c(o):s?e&&e===this.ownerID?(this.entry[1]=i,this):new It(e,this.keyHash,[r,i]):(c(o),Ft(this,e,t,le(r),[r,i])))},kt.prototype.iterate=Ct.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},St.prototype.iterate=Tt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},It.prototype.iterate=function(e,t){return e(this.entry)};var At,Pt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Mt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,i=void 0;if(n.entry){if(0===r)return Ot(e,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Ot(e,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return Ot(e,o.entry);t=this._stack=Mt(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(D);function Ot(e,t){return R(e,t[0],t[1])}function Mt(e,t){return{node:e,index:0,__prev:t}}function zt(e,t,n,r){var i=Object.create(xt);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function jt(){return At||(At=zt(0))}function Dt(e,t,n){var r,i;if(e._root){var o={value:!1},a={value:!1};if(r=Rt(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===l?-1:1:0)}else{if(n===l)return e;i=1,r=new kt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?zt(i,r):jt()}function Rt(e,t,n,r,i,o,a,u){return e?e.update(t,n,r,i,o,a,u):o===l?e:(c(u),c(a),new It(t,r,[i,o]))}function Nt(e){return e.constructor===It||e.constructor===Ct}function Ft(e,t,n,r,i){if(e.keyHash===r)return new Ct(t,r,[e.entry,i]);var o,a=31&(0===n?e.keyHash:e.keyHash>>>n),u=31&(0===n?r:r>>>n),s=a===u?[Ft(e,t,n+5,r,i)]:(o=new It(t,r,i),a<u?[e,o]:[o,e]);return new St(t,1<<a|1<<u,s)}function Ut(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Bt(e,t,n,r){var i=r?e:Ke(e);return i[t]=n,i}var Lt=8,qt=16,Kt=8;function Ht(e){return Boolean(e&&e["@@__IMMUTABLE_LIST__@@"])}var Wt=function(e){function t(t){var n=Jt();if(null==t)return n;if(Ht(t))return t;var r=e(t),i=r.size;return 0===i?n:(We(i),i>0&&i<32?Xt(0,i,5,null,new Qt(r.toArray())):n.withMutations((function(e){e.setSize(i),r.forEach((function(t,n){return e.set(n,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=d(this,e))>=0&&e<this.size){var n=tn(this,e+=this._origin);return n&&n.array[31&e]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=d(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?nn(e,t).set(0,n):nn(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o={value:!1};t>=rn(e._capacity)?r=Zt(r,e.__ownerID,0,t,n,o):i=Zt(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return Xt(e._origin,e._capacity,e._level,i,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Jt()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){nn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},t.prototype.pop=function(){return nn(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){nn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},t.prototype.shift=function(){return nn(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var i=t[r],o=e("string"!=typeof i&&F(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(e){n.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(n[0])},t.prototype.setSize=function(e){return nn(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,e.call(t,r.get(i),i,r))}))},t.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:nn(this,v(e,n),g(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=Yt(this,t);return new D((function(){var i=r();return i===$t?{value:void 0,done:!0}:R(e,t?--n:n++,i)}))},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,i=Yt(this,t);(n=i())!==$t&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?Jt():(this.__ownerID=e,this.__altered=!1,this)},t}(T);Wt.isList=Ht;var Vt=Wt.prototype;Vt["@@__IMMUTABLE_LIST__@@"]=!0,Vt.delete=Vt.remove,Vt.merge=Vt.concat,Vt.setIn=rt,Vt.deleteIn=Vt.removeIn=ot,Vt.update=ut,Vt.updateIn=st,Vt.mergeIn=vt,Vt.mergeDeepIn=gt,Vt.withMutations=yt,Vt.wasAltered=_t,Vt.asImmutable=wt,Vt["@@transducer/init"]=Vt.asMutable=bt,Vt["@@transducer/step"]=function(e,t){return e.push(t)},Vt["@@transducer/result"]=function(e){return e.asImmutable()};var Qt=function(e,t){this.array=e,this.ownerID=t};Qt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&31;if(r>=this.array.length)return new Qt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-5,n))===a&&o)return this}if(o&&!i)return this;var u=en(this,e);if(!o)for(var s=0;s<r;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},Qt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&31;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-5,n))===o&&i===this.array.length-1)return this}var a=en(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Gt,$t={};function Yt(e,t){var n=e._origin,r=e._capacity,i=rn(r),o=e._tail;return a(e._root,e._level,0);function a(e,u,s){return 0===u?function(e,a){var u=a===i?o&&o.array:e&&e.array,s=a>n?0:n-a,l=r-a;l>32&&(l=32);return function(){if(s===l)return $t;var e=t?--l:s++;return u&&u[e]}}(e,s):function(e,i,o){var u,s=e&&e.array,l=o>n?0:n-o>>i,c=1+(r-o>>i);c>32&&(c=32);return function(){for(;;){if(u){var e=u();if(e!==$t)return e;u=null}if(l===c)return $t;var n=t?--c:l++;u=a(s&&s[n],i-5,o+(n<<i))}}}(e,u,s)}}function Xt(e,t,n,r,i,o,a){var u=Object.create(Vt);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Jt(){return Gt||(Gt=Xt(0,0,5))}function Zt(e,t,n,r,i,o){var a,u=r>>>n&31,s=e&&u<e.array.length;if(!s&&void 0===i)return e;if(n>0){var l=e&&e.array[u],f=Zt(l,t,n-5,r,i,o);return f===l?e:((a=en(e,t)).array[u]=f,a)}return s&&e.array[u]===i?e:(o&&c(o),a=en(e,t),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function en(e,t){return t&&e&&t===e.ownerID?e:new Qt(e?e.array.slice():[],t)}function tn(e,t){if(t>=rn(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&31],r-=5;return n}}function nn(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new f,i=e._origin,o=e._capacity,a=i+t,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return e;if(a>=u)return e.clear();for(var s=e._level,l=e._root,c=0;a+c<0;)l=new Qt(l&&l.array.length?[void 0,l]:[],r),c+=1<<(s+=5);c&&(a+=c,i+=c,u+=c,o+=c);for(var h=rn(o),d=rn(u);d>=1<<s+5;)l=new Qt(l&&l.array.length?[l]:[],r),s+=5;var p=e._tail,m=d<h?tn(e,u-1):d>h?new Qt([],r):p;if(p&&d>h&&a<o&&p.array.length){for(var v=l=en(l,r),g=s;g>5;g-=5){var y=h>>>g&31;v=v.array[y]=en(v.array[y],r)}v.array[h>>>5&31]=p}if(u<o&&(m=m&&m.removeAfter(r,0,u)),a>=d)a-=d,u-=d,s=5,l=null,m=m&&m.removeBefore(r,0,a);else if(a>i||d<h){for(c=0;l;){var b=a>>>s&31;if(b!==d>>>s&31)break;b&&(c+=(1<<s)*b),s-=5,l=l.array[b]}l&&a>i&&(l=l.removeBefore(r,s,a-c)),l&&d<h&&(l=l.removeAfter(r,s,d-c)),c&&(a-=c,u-=c)}return e.__ownerID?(e.size=u-a,e._origin=a,e._capacity=u,e._level=s,e._root=l,e._tail=m,e.__hash=void 0,e.__altered=!0,e):Xt(a,u,s,l,m)}function rn(e){return e<32?0:e-1>>>5<<5}var on,an=function(e){function t(e){return null==e?sn():re(e)?e:sn().withMutations((function(t){var n=S(e);We(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):sn()},t.prototype.set=function(e,t){return ln(this,e,t)},t.prototype.remove=function(e){return ln(this,e,l)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?un(t,n,e,this.__hash):0===this.size?sn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(Et);function un(e,t,n,r){var i=Object.create(an.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function sn(){return on||(on=un(jt(),Jt()))}function ln(e,t,n){var r,i,o=e._map,a=e._list,u=o.get(t),s=void 0!==u;if(n===l){if(!s)return e;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&u!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return e;r=o,i=a.set(u,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):un(r,i)}an.isOrderedMap=re,an.prototype[O]=!0,an.prototype.delete=an.prototype.remove;function cn(e){return Boolean(e&&e["@@__IMMUTABLE_STACK__@@"])}var fn=function(e){function t(e){return null==e?mn():cn(e)?e:mn().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=d(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):pn(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&cn(t))return t;We(t.size);var n=this.size,r=this._head;return t.__iterate((function(e){n++,r={value:e,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):pn(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):mn()},t.prototype.slice=function(t,n){if(m(t,n,this.size))return this;var r=v(t,this.size);if(g(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):pn(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?pn(this.size,this._head,e,this.__hash):0===this.size?mn():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new G(this.toArray()).__iterate((function(t,r){return e(t,r,n)}),t);for(var r=0,i=this._head;i&&!1!==e(i.value,r++,this);)i=i.next;return r},t.prototype.__iterator=function(e,t){if(t)return new G(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new D((function(){if(r){var t=r.value;return r=r.next,R(e,n++,t)}return{value:void 0,done:!0}}))},t}(T);fn.isStack=cn;var hn,dn=fn.prototype;function pn(e,t,n,r){var i=Object.create(dn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function mn(){return hn||(hn=pn(0))}dn["@@__IMMUTABLE_STACK__@@"]=!0,dn.shift=dn.pop,dn.unshift=dn.push,dn.unshiftAll=dn.pushAll,dn.withMutations=yt,dn.wasAltered=_t,dn.asImmutable=wt,dn["@@transducer/init"]=dn.asMutable=bt,dn["@@transducer/step"]=function(e,t){return e.unshift(t)},dn["@@transducer/result"]=function(e){return e.asImmutable()};function vn(e){return Boolean(e&&e["@@__IMMUTABLE_SET__@@"])}function gn(e){return vn(e)&&M(e)}function yn(e,t){if(e===t)return!0;if(!w(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||_(e)!==_(t)||E(e)!==E(t)||M(e)!==M(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!x(e);if(M(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&oe(i[1],e)&&(n||oe(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,u=t.__iterate((function(t,r){if(n?!e.has(t):i?!oe(t,e.get(r,l)):!oe(e.get(r,l),t))return a=!1,!1}));return a&&e.size===u}function bn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function wn(e){if(!e||"object"!=typeof e)return e;if(!w(e)){if(!Ge(e))return e;e=H(e)}if(_(e)){var t={};return e.__iterate((function(e,n){t[n]=wn(e)})),t}var n=[];return e.__iterate((function(e){n.push(wn(e))})),n}var _n=function(e){function t(t){return null==t?Tn():vn(t)&&!M(t)?t:Tn().withMutations((function(n){var r=e(t);We(r.size),r.forEach((function(e){return n.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(S(e).keySeq())},t.intersect=function(e){return(e=k(e).toArray()).length?xn.intersect.apply(t(e.pop()),e):Tn()},t.union=function(e){return(e=k(e).toArray()).length?xn.union.apply(t(e.pop()),e):Tn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return kn(this,this._map.set(e,e))},t.prototype.remove=function(e){return kn(this,this._map.remove(e))},t.prototype.clear=function(){return kn(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],i=[];return this.forEach((function(o){var a=e.call(t,o,o,n);a!==o&&(r.push(o),i.push(a))})),this.withMutations((function(e){r.forEach((function(t){return e.remove(t)})),i.forEach((function(t){return e.add(t)}))}))},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach((function(e){return n.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var r=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&r.push(e)})),this.withMutations((function(e){r.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return Hn(ze(this,e))},t.prototype.sortBy=function(e,t){return Hn(ze(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t){return e(t,t,n)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(C);_n.isSet=vn;var En,xn=_n.prototype;function kn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Sn(e,t){var n=Object.create(xn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Tn(){return En||(En=Sn(jt()))}xn["@@__IMMUTABLE_SET__@@"]=!0,xn.delete=xn.remove,xn.merge=xn.concat=xn.union,xn.withMutations=yt,xn.asImmutable=wt,xn["@@transducer/init"]=xn.asMutable=bt,xn["@@transducer/step"]=function(e,t){return e.add(t)},xn["@@transducer/result"]=function(e){return e.asImmutable()},xn.__empty=Tn,xn.__make=Sn;var Cn,In=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(He(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Cn)return Cn;Cn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return m(e,n,this.size)?this:(e=v(e,this.size),(n=g(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==e(i,t?n-++o:o++,this);)i+=t?-r:r;return o},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,i=t?this._start+(n-1)*r:this._start,o=0;return new D((function(){if(o===n)return{value:void 0,done:!0};var a=i;return i+=t?-r:r,R(e,t?n-++o:o++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:yn(this,e)},t}(V);function An(e,t,n){for(var r=Ve(t),i=0;i!==r.length;)if((e=Xe(e,r[i++],l))===l)return n;return e}function Pn(e,t){return An(this,e,t)}function On(e,t){return An(e,t,l)!==l}function Mn(){We(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e}k.isIterable=w,k.isKeyed=_,k.isIndexed=E,k.isAssociative=x,k.isOrdered=M,k.Iterator=D,bn(k,{toArray:function(){We(this.size);var e=new Array(this.size||0),t=_(this),n=0;return this.__iterate((function(r,i){e[n++]=t?[i,r]:r})),e},toIndexedSeq:function(){return new Ee(this)},toJS:function(){return wn(this)},toKeyedSeq:function(){return new _e(this,!0)},toMap:function(){return Et(this.toKeyedSeq())},toObject:Mn,toOrderedMap:function(){return an(this.toKeyedSeq())},toOrderedSet:function(){return Hn(_(this)?this.valueSeq():this)},toSet:function(){return _n(_(this)?this.valueSeq():this)},toSetSeq:function(){return new xe(this)},toSeq:function(){return E(this)?this.toIndexedSeq():_(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return fn(_(this)?this.valueSeq():this)},toList:function(){return Wt(_(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ne(this,Oe(this,e))},includes:function(e){return this.some((function(t){return oe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){We(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return Ne(this,Ie(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return We(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){We(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Ne(this,Te(this,e,t))},reduce:function(e,t,n){return Rn(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Rn(this,e,t,n,arguments.length<2,!0)},reverse:function(){return Ne(this,Ce(this,!0))},slice:function(e,t){return Ne(this,Ae(this,e,t,!0))},some:function(e,t){return!this.every(Un(e),t)},sort:function(e){return Ne(this,ze(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Et().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return yn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new G(e._cache);var t=e.toSeq().map(Fn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Un(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(p,null,e)},flatMap:function(e,t){return Ne(this,function(e,t,n){var r=Ue(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Ne(this,Me(this,e,!0))},fromEntrySeq:function(){return new ke(this)},get:function(e,t){return this.find((function(t,n){return oe(n,e)}),void 0,t)},getIn:Pn,groupBy:function(e,t){return function(e,t,n){var r=_(e),i=(M(e)?an():Et()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=Ue(e);return i.map((function(t){return Ne(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,l)!==l},hasIn:function(e){return On(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:k(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:k(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return oe(t,e)}))},keySeq:function(){return this.toSeq().map(Nn).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return je(this,e)},maxBy:function(e,t){return je(this,t,e)},min:function(e){return je(this,e?Bn(e):qn)},minBy:function(e,t){return je(this,t?Bn(t):qn,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Ne(this,Pe(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Un(e),t)},sortBy:function(e,t){return Ne(this,ze(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Ne(this,function(e,t,n){var r=Be(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,u){return t.call(n,e,i,u)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(2,i),u=!0;return new D((function(){if(!u)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,s=i[0],l=i[1];return t.call(n,l,s,o)?2===r?e:R(r,s,l,e):(u=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Un(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=M(e),n=_(e),r=t?1:0;return function(e,t){return t=ae(t,3432918353),t=ae(t<<15|t>>>-15,461845907),t=ae(t<<13|t>>>-13,5),t=ae((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ue((t=ae(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Kn(le(e),le(t))|0}:function(e,t){r=r+Kn(le(e),le(t))|0}:t?function(e){r=31*r+le(e)|0}:function(e){r=r+le(e)|0}),r)}(this))}});var zn=k.prototype;zn["@@__IMMUTABLE_ITERABLE__@@"]=!0,zn[j]=zn.values,zn.toJSON=zn.toArray,zn.__toStringMapper=$e,zn.inspect=zn.toSource=function(){return this.toString()},zn.chain=zn.flatMap,zn.contains=zn.includes,bn(S,{flip:function(){return Ne(this,Se(this))},mapEntries:function(e,t){var n=this,r=0;return Ne(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ne(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var jn=S.prototype;jn["@@__IMMUTABLE_KEYED__@@"]=!0,jn[j]=zn.entries,jn.toJSON=Mn,jn.__toStringMapper=function(e,t){return $e(t)+": "+$e(e)},bn(T,{toKeyedSeq:function(){return new _e(this,!1)},filter:function(e,t){return Ne(this,Ie(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ne(this,Ce(this,!1))},slice:function(e,t){return Ne(this,Ae(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=v(e,e<0?this.count():this.size);var r=this.slice(0,e);return Ne(this,1===n?r:r.concat(Ke(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Ne(this,Me(this,e,!1))},get:function(e,t){return(e=d(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=d(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ne(this,function(e,t){var n=Be(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(1,r),a=0;return new D((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?R(n,a++,t):R(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(Ke(arguments)),t=Re(this.toSeq(),V.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ne(this,n)},keySeq:function(){return In(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Ne(this,Pe(this,e,t,!1))},zip:function(){var e=[this].concat(Ke(arguments));return Ne(this,Re(this,Ln,e))},zipAll:function(){var e=[this].concat(Ke(arguments));return Ne(this,Re(this,Ln,e,!0))},zipWith:function(e){var t=Ke(arguments);return t[0]=this,Ne(this,Re(this,e,t))}});var Dn=T.prototype;function Rn(e,t,n,r,i,o){return We(e.size),e.__iterate((function(e,o,a){i?(i=!1,n=e):n=t.call(r,n,e,o,a)}),o),n}function Nn(e,t){return t}function Fn(e,t){return[t,e]}function Un(e){return function(){return!e.apply(this,arguments)}}function Bn(e){return function(){return-e.apply(this,arguments)}}function Ln(){return Ke(arguments)}function qn(e,t){return e<t?1:e>t?-1:0}function Kn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Dn["@@__IMMUTABLE_INDEXED__@@"]=!0,Dn[O]=!0,bn(C,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),C.prototype.has=zn.includes,C.prototype.contains=C.prototype.includes,bn(W,S.prototype),bn(V,T.prototype),bn(Q,C.prototype);var Hn=function(e){function t(e){return null==e?Gn():gn(e)?e:Gn().withMutations((function(t){var n=C(e);We(n.size),n.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(S(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(_n);Hn.isOrderedSet=gn;var Wn,Vn=Hn.prototype;function Qn(e,t){var n=Object.create(Vn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Gn(){return Wn||(Wn=Qn(sn()))}Vn[O]=!0,Vn.zip=Dn.zip,Vn.zipWith=Dn.zipWith,Vn.__empty=Gn,Vn.__make=Qn;var $n=function(e,t){var n,r=function(o){var a=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var u=Object.keys(e),s=i._indices={};i._name=t,i._keys=u,i._defaultValues=e;for(var l=0;l<u.length;l++){var c=u[l];s[c]=l,i[c]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Jn(this)+' with property "'+c+'" since that property name is part of the Record API.'):er(i,c)}}this.__ownerID=void 0,this._values=Wt().withMutations((function(e){e.setSize(a._keys.length),S(o).forEach((function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)}))}))},i=r.prototype=Object.create(Yn);return i.constructor=r,t&&(r.displayName=t),r};$n.prototype.toString=function(){for(var e,t=Jn(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)t+=(r?", ":"")+(e=n[r])+": "+$e(this.get(e));return t+" }"},$n.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&Zn(this).equals(Zn(e))},$n.prototype.hashCode=function(){return Zn(this).hashCode()},$n.prototype.has=function(e){return this._indices.hasOwnProperty(e)},$n.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},$n.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return Xn(this,n)}return this},$n.prototype.remove=function(e){return this.set(e)},$n.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Xn(this,e)},$n.prototype.wasAltered=function(){return this._values.wasAltered()},$n.prototype.toSeq=function(){return Zn(this)},$n.prototype.toJS=function(){return wn(this)},$n.prototype.entries=function(){return this.__iterator(2)},$n.prototype.__iterator=function(e,t){return Zn(this).__iterator(e,t)},$n.prototype.__iterate=function(e,t){return Zn(this).__iterate(e,t)},$n.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?Xn(this,t,e):(this.__ownerID=e,this._values=t,this)},$n.isRecord=A,$n.getDescriptiveName=Jn;var Yn=$n.prototype;function Xn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function Jn(e){return e.constructor.displayName||e.constructor.name||"Record"}function Zn(e){return Z(e._keys.map((function(t){return[t,e.get(t)]})))}function er(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){He(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}Yn["@@__IMMUTABLE_RECORD__@@"]=!0,Yn.delete=Yn.remove,Yn.deleteIn=Yn.removeIn=ot,Yn.getIn=Pn,Yn.hasIn=zn.hasIn,Yn.merge=lt,Yn.mergeWith=ct,Yn.mergeIn=vt,Yn.mergeDeep=pt,Yn.mergeDeepWith=mt,Yn.mergeDeepIn=gt,Yn.setIn=rt,Yn.update=ut,Yn.updateIn=st,Yn.withMutations=yt,Yn.asMutable=bt,Yn.asImmutable=wt,Yn[j]=Yn.entries,Yn.toJSON=Yn.toObject=zn.toObject,Yn.inspect=Yn.toSource=function(){return this.toString()};var tr=n(1),nr=function(e,t,n){const r=e.get(t);if(!r)throw new Error(n);return r};class rr extends Error{constructor(e=""){super(e),this.name=this.constructor.name}}var ir,or=function(e,t=""){if(!e)throw new rr(t?"invariant failed: "+t:"invariant failed")};!function(e){e[e.Crop=0]="Crop",e[e.Metal=1]="Metal",e[e.Gem=2]="Gem",e[e.Fuel=3]="Fuel",e[e.Fiber=4]="Fiber",e[e.Chemical=5]="Chemical",e[e.Circuit=6]="Circuit",e[e.Computer=7]="Computer",e[e.Food=8]="Food",e[e.Drink=9]="Drink",e[e.Apparel=10]="Apparel",e[e.Medicine=11]="Medicine",e[e.Accessory=12]="Accessory",e[e.Furniture=13]="Furniture",e[e.Gadget=14]="Gadget",e[e.Vehicle=15]="Vehicle",e[e.Machine=16]="Machine",e[e.Tool=17]="Tool"}(ir||(ir={}));const ar=Object.keys(ir).filter(e=>"number"==typeof ir[e]),ur=ar.map(e=>ir[e]).sort((e,t)=>e-t),sr=ar.length;function lr(){return ur.slice()}const cr=[ir.Crop,ir.Metal,ir.Gem,ir.Fuel],fr=new Set(cr);const hr=lr().map(e=>function(e){switch(e){case ir.Crop:case ir.Metal:case ir.Gem:case ir.Fuel:return[];case ir.Food:case ir.Drink:return[new Set([ir.Crop])];case ir.Apparel:return[new Set([ir.Fiber])];case ir.Medicine:return[new Set([ir.Chemical])];case ir.Fiber:return[new Set([ir.Crop])];case ir.Chemical:return[new Set([ir.Crop,ir.Metal,ir.Gem,ir.Fuel])];case ir.Circuit:return[new Set([ir.Metal])];case ir.Computer:return[new Set([ir.Circuit])];case ir.Accessory:return[new Set([ir.Gem])];case ir.Furniture:return[new Set([ir.Fiber])];case ir.Gadget:return[new Set([ir.Computer])];case ir.Vehicle:return[new Set([ir.Metal])];case ir.Machine:return[new Set([ir.Metal]),new Set([ir.Computer])];case ir.Tool:return[new Set([ir.Metal])]}}(e)),dr=hr.map(e=>_n().union(...e)),pr=_n(lr().filter(e=>!fr.has(e)&&!dr[e].subtract(fr).isEmpty()));lr().map(e=>function(e){switch(e){case ir.Crop:case ir.Metal:case ir.Gem:case ir.Fuel:return ir.Tool;default:return ir.Machine}}(e));or(!0);class mr{constructor(e,t,n,r=1,i=.1){this.id=e,this.productType=t,this.colony=n,this.scale=r,this.operationalEff=i,this.serialize=()=>({colonyId:this.colony.id,id:this.id,operationalEff:this.operationalEff,productType:this.productType,scale:this.scale})}static getDemandProducts(e){return hr[e]}static getFlatDemandProducts(e){return dr[e]}upgrade(){++this.scale,this.operationalEff=Math.max(.1,.8*this.operationalEff)}downSize(){this.scale=Math.max(1,this.scale-1),this.operationalEff=Math.max(.1,.8*this.operationalEff)}getScale(){return this.scale}operate(e){const t=this.isRunProd(e),n=this.colony.getPlayerInventory();let r=0;t&&(r=this.produce(e,n)),r=Math.max(1,r);const i=this.getCostPerUnit()*r,o=this.usedEnergy(e)+this.colony.getEnergyPrice(e);e.withdraw(i+o),this.updateModifers(t,n)}getCostPerUnit(){const e=1-this.operationalEff;return or(e>=0&&e<=1),.03+.27*e}usedEnergy(e){return this.getPowerUsage()*this.colony.getPowerUsageEff(e)}getOpDemand(){const e=10*this.scale;switch(this.productType){case ir.Crop:case ir.Metal:case ir.Gem:case ir.Fuel:return{neededKinds:new Set([ir.Tool]),qty:e};default:return{neededKinds:new Set([ir.Machine]),qty:e}}}prodCap(e){const t=1+4*this.operationalEff,n=1+4*this.colony.getPowerUsageEff(e);return Math.max(1,Math.ceil(10*this.scale*t*n))}getOperationalEff(){return this.operationalEff}getPowerUsage(){return 10*this.getScale()}isRunProd(e){const t=this.productType,n=10*e.getGalacticDemands(t),r=this.colony.getSupply(t);return n>this.colony.getPlayerInventory().getQty(this.productType)+r}updateModifers(e,t){const n=this.getOpDemand(),r=t.consume(n.neededKinds,n.qty)/n.qty;if(!e||r<.5)this.operationalEff=Math.max(.1,this.operationalEff-.001);else{const e=(r-.5)/.5;this.operationalEff=Math.min(1,this.operationalEff+.01*e)}}produce(e,t){const n=mr.getFlatDemandProducts(this.productType),r=this.prodCap(e);if(0===n.size)return t.putGoods(this.productType,r),r;const i=Math.min(r,...n.map(e=>t.getQty(e)));for(const e of mr.getDemandProducts(this.productType)){const n=t.consume(e,i);or(n===i)}return t.putGoods(this.productType,i),i}}const vr=(()=>{const e=new Array(sr).fill(0);return e[ir.Food]=10,e[ir.Drink]=10,e[ir.Apparel]=10,e[ir.Medicine]=10,e[ir.Accessory]=5,e[ir.Furniture]=5,e[ir.Gadget]=5,e[ir.Vehicle]=5,e})();class gr{constructor(e,t,n,r,i,o=100,a=!1,u=0,s=0,l=0,c=0,f=0){this.id=e,this.homePlanet=t,this.population=n,this.playerInventory=r,this.marketInventory=i,this.maxPopulation=o,this.isLockPopulation=a,this.powerPlanetLevel=u,this.powerOutputEff=s,this.foodHappiness=l,this.luxuryHappiness=c,this.commonHappiness=f,this.derivedDemands=new Array(sr).fill(0)}static estimatePrice(e,t,n,r){or(n>0);const i=0===e?.7:0===t?1.3:Math.min(1.3,e/t),o=r*Math.pow(i,n);return or(Number.isFinite(o)),o}static elasticity(e){switch(e){case ir.Crop:case ir.Metal:case ir.Gem:case ir.Fuel:return 1;case ir.Food:return 1.5;case ir.Drink:case ir.Apparel:case ir.Medicine:return 1;case ir.Accessory:case ir.Furniture:case ir.Gadget:case ir.Vehicle:return.4;case ir.Fiber:case ir.Chemical:case ir.Circuit:case ir.Computer:case ir.Machine:case ir.Tool:return 1.5}}static basePrice(e){switch(e){case ir.Crop:case ir.Metal:case ir.Gem:case ir.Fuel:case ir.Fiber:case ir.Chemical:case ir.Circuit:case ir.Computer:return 1;case ir.Machine:case ir.Tool:return 2;case ir.Accessory:case ir.Furniture:case ir.Gadget:case ir.Vehicle:return 4;case ir.Food:case ir.Drink:case ir.Apparel:case ir.Medicine:return 1.5}}serialize(){return{commonHappiness:this.commonHappiness,foodHappiness:this.foodHappiness,homePlanetId:this.homePlanet.id,id:this.id,isLockPopulation:this.isLockPopulation,luxuryHappiness:this.luxuryHappiness,marketInventoryId:this.marketInventory.id,maxPopulation:this.maxPopulation,playerInventoryId:this.playerInventory.id,population:this.population,powerOutputEff:this.powerOutputEff,powerPlanetLevel:this.powerPlanetLevel}}getHomePlanet(){return this.homePlanet}getPlayerInventory(){return this.playerInventory}getMarketInventory(){return this.marketInventory}getPopulation(){return this.population}getMaxPop(){return Math.ceil(this.maxPopulation)}growthRate(e){if(this.foodHappiness<1)return this.foodHappiness-1;const t=1+this.commonHappiness,n=1===t?1+this.luxuryHappiness:1;return(1+this.getPowerUsageEff(e))*t*n*.1}getTraderPowerUsage(e){let t=0;const n=e.getTradeRoutes().get(this);if(void 0!==n)for(const r of n)t+=e.getNumUsedTraders(this,r);return t}getIndustrialPowerUsage(e){const t=e.tryGetIndustries(this);return void 0===t?0:Object(tr.sum)(...Object(tr.toIt)(t).map(e=>e.getPowerUsage()))}getCivilianPowerUsage(){return Math.round(10*this.population)}getTotalPowerUsage(e){const t=this.getIndustrialPowerUsage(e),n=this.getTraderPowerUsage(e),r=this.getCivilianPowerUsage();return{industrialUsage:t,traderUsage:n,civUsage:r,totalUsage:t+n+r}}getPowerUsageEff(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return 0===t?n>0?0:1:Math.min(1,n/t)}getPowerOutputEff(){return this.powerOutputEff}getPowerOutput(){return Math.round(this.getMaxPowerPotential()*this.getPowerOutputEff())}getEnergyPrice(e){const{totalUsage:t}=this.getTotalPowerUsage(e),n=this.getPowerOutput();return gr.estimatePrice(t,n,1,gr.basePrice(ir.Fuel))}getMaxPowerPotential(){return 200*this.powerPlanetLevel+50}getFuelDemand(){return this.getMaxPowerPotential()}getPowerPlanetLevel(){return this.powerPlanetLevel}getCitizenDemand(e){switch(e){case ir.Fuel:return this.getFuelDemand();default:{const t=vr[e];return Math.round(t*this.getPopulation())}}}isProducing(e,t){const n=e.tryGetIndustries(this);return void 0!==n&&Object(tr.toIt)(n).some(e=>e.productType===t)}hasDemand(e){return this.getDemand(e)>0}getDemand(e){return this.getCitizenDemand(e)+this.derivedDemands[e]}getSupply(e){return this.marketInventory.getQty(e)}recalculate(e){this.consume(),this.growth(e),this.derivedDemands.fill(0);const t=e.tryGetIndustries(this);if(void 0!==t)for(const n of t){const t=n.prodCap(e);H(mr.getDemandProducts(n.productType)).map(e=>({neededKinds:e,qty:t})).concat(n.getOpDemand()).forEach(e=>{for(const t of e.neededKinds)this.derivedDemands[t]+=e.qty})}}canExpandPowerPlant(e){const{totalUsage:t}=this.getTotalPowerUsage(e);return 2*t>this.getMaxPowerPotential()}expandPowerPlanet(e){or(this.canExpandPowerPlant(e)),this.powerPlanetLevel+=1}getProdCap(e,t){const n=e.tryGetIndustries(this);return void 0===n?0:Object(tr.sum)(...Object(tr.toIt)(n).filter(e=>e.productType===t).map(t=>t.prodCap(e)))}trade(e){const t=this.playerInventory;for(const n of lr()){const r=t.getQty(n),i=t.getDemand(e,n);if(r>i){const o=r-i;this.tryBuy(e,t,n,o,0)}else if(r<i){const o=i-r;this.trySell(e,t,n,o,1/0,!0)}}}lockPopulation(e){return void 0!==e&&(this.isLockPopulation=e),this.isLockPopulation}getPrice(e){const t=this.marketInventory.getQty(e);return this.realPrice(e,t)}realPrice(e,t){const n=this.getDemand(e),r=gr.basePrice(e),i=gr.elasticity(e),o=gr.estimatePrice(n,t,i,r);or(o>=0);const a=yr[e];return or(Number.isFinite(a)),Math.max(a,o)}tryBuy(e,t,n,r,i){or(r>=0);const o=this.marketInventory,a=o.getQty(n);let u=0,s=0;for(;;){const e=a+u,t=this.realPrice(n,e);if(or(t>0),r===u||t<i)break;++u,s+=t}return u>0&&(t.takeGoods(n,u),o.putGoods(n,u),e.deposit(s)),u}trySell(e,t,n,r,i,o=!1){or(r>=0);const a=this.marketInventory,u=a.getQty(n),s=this.minStockQty(e,n);let l=0,c=0;for(;;){const e=u-c;or(e>=0);const a=this.realPrice(n,e);if(r===c||a>i||0===e||!t.hasSpaceFor(c)||!o&&e<=s)break;++c,l+=a}c>0&&(a.takeGoods(n,c),t.putGoods(n,c),e.withdraw(l))}getDeficit(e,t){const n=this.marketInventory.getQty(t),r=this.minStockQty(e,t);return n<r?r-n:0}minStockQty(e,t){const n=this.getDemand(t);return this.isProducing(e,t)?n:10*n}growth(e){const t=this.growthRate(e)/120,n=Math.max(1,this.population*(1+t)),r=this.isLockPopulation?this.population:this.getMaxPop(),i=n-r;i>0?(this.population=r,e.addColonists(i)):this.population=Math.min(n,r)}consume(){const e=this.marketInventory,t=t=>{const n=e.getQty(t),r=Math.floor(this.getCitizenDemand(t));if(0===r)return 1;const i=n>=r?r:n;return e.takeGoods(t,i),i/r},n=lr().map(e=>t(e));this.commonHappiness=Object(tr.average)(n[ir.Drink],n[ir.Apparel],n[ir.Medicine]),this.luxuryHappiness=Object(tr.average)(n[ir.Accessory],n[ir.Furniture],n[ir.Gadget],n[ir.Vehicle]),this.foodHappiness=n[ir.Food];const r=n[ir.Fuel];this.powerOutputEff=r*r}}const yr=lr().map(e=>{const t=gr.basePrice(e),n=gr.elasticity(e);return Math.pow(.4*t,n)}),br=Math.PI/2;class wr{constructor(e,t,n=[],o=0,a=r.Move,u=!1){this.id=e,this.cargo=t,this.route=n,this.routeAt=o,this.state=a,this.isRetiring=u,this.kind=i.Fleet}serialize(){return{cargoId:this.cargo.id,id:this.id,isRetiring:this.isRetiring,route:this.route.map(e=>e.id),routeAt:this.routeAt,state:this.state}}getCargo(){return this.cargo}getRoute(){return this.route}getRouteAt(){return this.routeAt}getSpeed(e){const t=this.getStop(),n=this.getNextStop(),r=1+e.getRouteFuelEff(t,n);return.3*(r*r)}operate(e){switch(this.state){case r.Hold:break;case r.Docked:this.handleDocked(e),this.setMoveNextStop();break;case r.Move:this.handleMove(e)}}setRoute(...e){or(e.length>0),this.route=e,this.state=r.Hold}resetRoute(){this.routeAt=0}start(){this.route.length>0?this.state=r.Move:or(this.state===r.Hold)}retire(){this.isRetiring=!0}isRetire(){return this.isRetiring}getAngle(e){if(this.route.length>1){const t=e.getCoor(this),n=e.getCoor(this.getStop());let r,i;if(Object(tr.equal)(t,n)){r=n;i=e.getCoor(this.nextStop())}else r=t,i=n;const[o,a]=Object(tr.subtract)(r,i);return Math.atan(a/o)+(r[0]>=i[0]?-br:br)}return 0}partitionCargo(e,t){const n=this.cargo.getEmptySpace();or(n>=lr().length);const r=Object(tr.sum)(...e),i=new Map;if(0===r)return i;for(const o of t){const t=e[o];if(0===t)continue;const a=Math.max(1,Math.floor(t/r*n));or(Number.isFinite(a)),i.set(o,a)}return i}getNextStop(){const e=this.nextStopIdx(),t=this.route[e];return or(!!t),t}handleDocked(e){const t=this.getStop(),n=this.getNextStop(),r=lr().reduce((r,i)=>{const o=Object(tr.sum)(...e.getDownstreamConsumers(i,t,n).map(t=>t.getDeficit(e,i)));return r[i]+=o,r},new Array(sr).fill(0)),i=new Array(sr).fill(0);for(const[n,r]of this.cargo.getAllQty()){if(0===r)continue;const o=t.tryBuy(e,this.cargo,n,r,0);i[n]+=o}if(this.isRetiring||!e.hasTradeRoute(t,n))return void e.removeFleet(this);const o=lr().sort((e,t)=>r[e]-r[t]);{const n=this.partitionCargo(r,o);for(const[r,o]of n){if(0===this.cargo.getEmptySpace())break;if(i[r]>0)continue;const n=o-this.cargo.getQty(r)-i[r];if(n<=0)continue;const a=Math.min(n,this.cargo.getEmptySpace());0!==a&&(or(a>0),t.trySell(e,this.cargo,r,a,1/0))}}const a=this.cargo.getEmptySpace()/3;for(const n of H(o).reverse()){if(0===this.cargo.getEmptySpace())break;if(i[n]>0)continue;const o=this.cargo.getQty(n);if(r[n]-o-i[n]<=0)continue;const u=Math.min(a,this.cargo.getEmptySpace());t.trySell(e,this.cargo,n,u,1/0)}}getStop(){const e=this.route[this.routeAt];return or(!!e),e}nextStop(){const e=this.route[this.nextStopIdx()];return or(!!e),e}nextStopIdx(){return(this.routeAt+1)%this.route.length}setMoveNextStop(){this.routeAt=this.nextStopIdx(),this.state=r.Move}handleMove(e){const t=this.route[this.routeAt],n=e.getCoor(t),{nowAt:i}=e.move(this,n,this.getSpeed(e));Object(tr.equal)(i,n)&&(this.state=r.Docked)}}class _r{constructor(e,t=1/0,n=new Array(sr).fill(0)){this.id=e,this.maxStorage=t,this.inventory=n,this.demandSrcs=[],this.usedSpace=Object(tr.sum)(...this.inventory),or(this.usedSpace<=t)}serialize(){return{id:this.id,inventory:this.inventory,maxStorage:this.maxStorage}}getEmptySpace(){const e=this.maxStorage-this.usedSpace;return or(e>=0),e}getMaxSpace(){return this.maxStorage}getQty(e){const t=this.inventory[e];return or(t>=0),t}putGoods(e,t){or(t>=0),or(Number.isInteger(t));const n=this.inventory[e],r=Math.min(this.maxStorage-this.usedSpace,t),i=n+r;return this.inventory[e]=i,this.usedSpace+=r,i}takeGoods(e,t){or(t>=0),or(Number.isInteger(t));const n=this.inventory[e]-t;if(n<0)throw new Error("bug: responsibility of maintaining non-negative quantity goes to the caller");return this.inventory[e]=n,this.usedSpace-=t,n}hasSpaceFor(e){return or(e>=0),this.maxStorage>=this.usedSpace+e}addDemandSrc(e){this.demandSrcs.push(e)}getDemand(e,t){const n=new Array(sr).fill(0);for(const r of this.demandSrcs){const i=r.prodCap(e),o=H(mr.getDemandProducts(r.productType)).map(e=>({neededKinds:e,qty:i})).concat(r.getOpDemand());for(const e of o){if(!e.neededKinds.has(t))continue;let r=e.qty;for(const t of e.neededKinds){const e=this.getQty(t);if(e>r){n[t]+=r;break}r-=e,n[t]+=e}or(r>=0),n[t]+=r}}return n[t]}*getAllQty(){const e=this.inventory.map((e,t)=>[t,e]);for(const t of e)or(t[1]>=0),yield t}consume(e,t){or(t>=0);const n=Array.from(e).sort((e,t)=>this.getQty(t)-this.getQty(e));let r=t;for(const e of n){const t=this.getQty(e);if(!(r>t)){this.takeGoods(e,r),r=0;break}this.takeGoods(e,t),r-=t}return t-r}}class Er{constructor(e,t,n){this.id=e,this.resource=t,this.colony=n,this.kind=i.Planet}serialize(){return{id:this.id,resource:this.resource}}colonized(e){this.colony=e}tryGetColony(){return this.colony}getColony(){if(!this.colony)throw new rr("this method should be called for colonized planets");return this.colony}isColonized(){return void 0!==this.colony}}function xr(e){return new Map(H(e).map(e=>[e.id,e]))}const kr=(e,t)=>e.id-t.id;class Sr{constructor(){this.coorIndices=new tr.Trie,this.tradeRoutes=new Map,this.galacticDemands=new Map,this.galacticSupplies=new Map,this.galacticProdCap=new Map,this.downstreamConsumers=new tr.SortedTrie(kr),this.consumers=lr().map(()=>new Set),this.fleetFuelEff=new tr.SortedTrie(kr),this.colonies=[],this.locatableCoors=new Map,this.colonyIndustries=new Map,this.tradeFleets=new tr.SortedTrie(kr),this.genId=-1,this.turnCounter=-1,this.timestamp=1,this.money=1e6,this.numColonists=5,this.numTraders=10}static createFrom(e){const t=new Sr;t.genId=e.genId,t.turnCounter=e.turnCounter,t.timestamp=e.timestamp,t.money=e.money,t.numColonists=e.numColonists,t.numTraders=e.numTraders;const n=xr(e.locatables),r=xr(H(e.allInventories).map(e=>new _r(e.id,null===e.maxStorage?1/0:e.maxStorage,e.inventory))),i=xr(H(e.allPlanets).map(e=>new Er(e.id,e.resource)));for(const e of i.values()){const r=n.get(e.id);if(!r)throw new rr("coor not found");t.addObj(e,r.coor)}const o=xr(e.allColonies.map(e=>{const t=nr(r,e.playerInventoryId,"bug: playerInventory not found"),n=nr(r,e.marketInventoryId,"bug: marketInventory not found"),o=nr(i,e.homePlanetId,"bug: homePlanet not found");return new gr(e.id,o,e.population,t,n,e.maxPopulation,e.isLockPopulation,e.powerPlanetLevel,e.powerOutputEff,e.foodHappiness,e.luxuryHappiness,e.commonHappiness)}));return o.forEach(e=>{t.colonizePlanetHelper(e,!1)}),t.calTradeRoutes(),e.allIndustries.map(e=>{const t=nr(o,e.colonyId,"bug: colony not found");return new mr(e.id,e.productType,t,e.scale,e.operationalEff)}).forEach(e=>t.addIndustryHelper(e)),e.allFleets.forEach(e=>{const i=nr(r,e.cargoId,"bug: cargo not found"),a=e.route.map(e=>nr(o,e,"bug: colony not found")),u=new wr(e.id,i,a,e.routeAt,e.state,e.isRetiring),s=nr(n,u.id,"bug: fleet coor not found");t.addObj(u,s.coor),t.addTradeFleetHelper(u)}),t.calRouteFuelEff(),t.calGalacticMarketStats(),t}serialize(){return{allColonies:this.colonies.map(e=>e.serialize()),allFleets:Object(tr.combine)(...this.tradeFleets.values()).map(e=>e.serialize()).collect(),allIndustries:Object(tr.combine)(...this.colonyIndustries.values()).map(e=>e.serialize()).collect(),allInventories:this.colonies.reduce((e,t)=>(e.push(t.getPlayerInventory()),e.push(t.getMarketInventory()),e),[]).concat(...Object(tr.combine)(...this.tradeFleets.values()).map(e=>e.getCargo())).map(e=>e.serialize()),allPlanets:H(this.locatableCoors.keys()).filter(e=>e.kind===i.Planet).map(e=>e.serialize()).toArray(),genId:this.genId,locatables:H(this.locatableCoors).map(([e,t])=>({id:e.id,kind:e.kind,coor:t})).toArray(),money:this.money,numColonists:this.numColonists,numTraders:this.numTraders,timestamp:this.timestamp,turnCounter:this.turnCounter}}deposit(e){this.money+=e}withdraw(e){this.money-=e}addPlanets(e,t){const n=cr,r=n.length,i=e/2,o=()=>{const n=new tr.Trie;e:for(;n.size<e;){const e=this.randomCoor(i);for(const r of n.keys())if(Object(tr.distance)(e,r)<t)continue e;n.set(e,!0)}return n.keys()};let a=0;for(const e of o()){const t=new Er(this.nextId(),n[a%r]);this.addObj(t,e),++a}this.calTradeRoutes()}addTradeFleet(e,t){or(this.numTraders>=1),this.numTraders--;const n=new wr(this.nextId(),this.createInventory(1e3),[e,t]);return this.addObj(n,this.getCoor(e)),this.addTradeFleetHelper(n),n}removeFleet(e){const t=e.getRoute();or(2===t.length);const n=t[0],r=t[1],i=nr(this.tradeFleets,[n,r],"bug: allFleets not found").delete(e);or(i),this.removeObj(e),this.numTraders++}getNumUsedTraders(e,t){const n=this.tradeFleets.get([e,t]);return void 0!==n?n.size:0}numColonies(){return this.colonies.length}hasTradeRoute(e,t){const n=this.tradeRoutes.get(e);return!!n&&n.some(e=>e===t)}colonizePlanet(e,t){or(this.numColonists>=1),this.numColonists-=1;const n=new gr(this.nextId(),e,t,this.createInventory(),this.createInventory());return this.colonizePlanetHelper(n),n}tryGetIndustries(e){return this.colonyIndustries.get(e)}addIndustry(e,t){const n=new mr(this.nextId(),e,t);return this.addIndustryHelper(n),n}shutdownIndustry(e,t){const n=nr(this.colonyIndustries,e,"bug: cannot get colony industy");or(void 0!==n);const r=H(n).filter(e=>e!==t).reduce((e,t)=>e.union(this.getDemandedProducts(t)),_n()),i=this.getDemandedProducts(t);for(const t of i.subtract(r)){const n=this.consumers[t].delete(e);or(n)}{const e=n.delete(t);or(e)}}getMoney(){return this.money}getNumColonists(){return this.numColonists}getNumUnusedTraders(){return this.numTraders}getNumColonizedPlanets(){return this.colonies.length}calCenter(){const[e,t,n,r]=H(this.locatableCoors).filter(([e])=>e.kind===i.Planet).map(([,e])=>e).reduce(([e,t,n,r],[i,o])=>[Math.min(i,e),Math.min(o,t),Math.max(i,n),Math.max(o,r)],[0,0,0,0]);return[(e+n)/2,(t+r)/2]}addTrader(){this.numTraders+=1}addColonists(e){or(e>=0),this.numColonists+=e/10}getRouteFuelEff(e,t){const n=this.fleetFuelEff.get([e,t]);return void 0!==n?n:0}getDay(){return this.timestamp%120}getYear(){return Math.ceil(this.timestamp/120)}getTimestamp(){return this.timestamp}getScore(){or(0!==this.timestamp);const e=(this.money-1e6)/this.timestamp;return e<=0?0:Math.round(e)}turn(){const e=Object(tr.combine)(...this.tradeFleets.values());for(const t of e)t.operate(this);if(this.turnCounter=(this.turnCounter+1)%50,0!==this.turnCounter)return!1;this.timestamp+=1,this.money<0&&(this.money*=1+.1/120),this.calRouteFuelEff(),this.calGalacticMarketStats();for(const e of this.colonies)e.recalculate(this);for(const e of this.colonyIndustries.values())for(const t of e)t.operate(this);for(const e of this.colonies)e.trade(this);return!0}getCoor(e){if(e instanceof gr){const t=e.getHomePlanet();return nr(this.locatableCoors,t,"bug: cannot get planet coor")}return nr(this.locatableCoors,e,"bug: cannot get object coor")}getObjs(){return this.locatableCoors}getObj(e,t){return this.searchNearbyObjs(e).filter(e=>e.kind===t).first()}searchNearbyObjs(e,t=0,n=0){const r=this.searchTradeRoutes(e,t);return(()=>{const[r,i]=e,o=[e,[r-t,i-t],[r+t,i-t],[r-t,i+t],[r+t,i+t]].map(e=>this.idxCoor(e)).sort(tr.compare);return Object(tr.uniq)(o,tr.compare).map(e=>_n(this.getIdx(e))).reduce((e,t)=>e.union(t),_n()).filter(r=>{const i=this.getCoor(r),o=Object(tr.distance)(i,e);return o>=n&&o<=t})})().concat(r)}move(e,t,n){const r=n/50,i=(()=>{const n=nr(this.locatableCoors,e,"bug: cannot get object"),i=Object(tr.distance)(t,n);if(i<r)return{distTravelled:i,nowAt:t};{const e=Object(tr.subtract)(t,n),i=Object(tr.norm)(e),o=[e[0]/i*r,e[1]/i*r];return{distTravelled:i,nowAt:Object(tr.add)(n,o)}}})();return this.updateObj(e,i.nowAt),i}getTradeRoutes(){return this.tradeRoutes}getGalacticDemands(e){return Object(tr.defaultZero)(this.galacticDemands.get(e))}getGalacticSupplies(e){return Object(tr.defaultZero)(this.galacticSupplies.get(e))}getGalacticProdCap(e){return Object(tr.defaultZero)(this.galacticProdCap.get(e))}getDownstreamConsumers(e,t,n){or(t!==n);const r=()=>new Map(lr().map(e=>[e,Array.from(this.consumers[e]).filter(e=>e!==t&&this.getNextTradeNode(t,e)===n)])),i=this.downstreamConsumers.getOrSet([t,n],()=>r());return nr(i,e,"bug: cannot get downstream consumer")}exists(e){return this.locatableCoors.has(e)}createInventory(e=1/0){return new _r(this.nextId(),e)}getNextTradeNode(e,t){or(e!==t),or(void 0!==this.tradeRoutePaths);const n=this.tradeRoutePaths.next(e,t);if(!n)throw new rr("all vertices should be reachable");return n}calGalacticMarketStats(){this.galacticDemands.clear(),this.galacticProdCap.clear(),this.galacticSupplies.clear();for(const e of this.colonies)for(const t of lr()){const n=e.getDemand(t),r=Object(tr.defaultZero)(this.galacticDemands.get(t));this.galacticDemands.set(t,r+n);const i=e.getSupply(t),o=Object(tr.defaultZero)(this.galacticSupplies.get(t));this.galacticSupplies.set(t,o+i);const a=e.getProdCap(this,t),u=Object(tr.defaultZero)(this.galacticProdCap.get(t));this.galacticProdCap.set(t,u+a)}}calTradeRoutes(){const e=(e,t)=>{const n=this.getCoor(e),r=this.getCoor(t);return Object(tr.distance)(n,r)},t=new Set(this.colonies);this.tradeRoutes=Object(tr.kruskalMST)(t,e=>{const n=new Set(t);return n.delete(e),n.values()},(t,n)=>e(t,n)),this.tradeRoutePaths=new tr.FloydWarshall(this.tradeRoutes,(t,n)=>e(t,n)),this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addObj(e,t){this.locatableCoors.set(e,t),this.addToIdx(e,t)}updateObj(e,t){this.removeFromIdx(e),this.locatableCoors.set(e,t),this.addToIdx(e,t)}idxCoor([e,t]){return[Math.floor(e),Math.floor(t)]}removeFromIdx(e){const t=this.getCoor(e),n=this.idxCoor(t),r=nr(this.coorIndices,n,"bug: existing object should be indexed"),i=r.delete(e);if(or(i,"index does not have obj"),0===r.size){const e=this.coorIndices.delete(n);or(e)}}removeObj(e){this.removeFromIdx(e);const t=this.locatableCoors.delete(e);or(t)}addToIdx(e,t){const n=this.idxCoor(t),r=this.coorIndices.getOrSet(n,()=>new Set);or(!r.has(e),"double-adding object to index"),r.add(e)}getIdx(e){const t=this.idxCoor(e),n=this.coorIndices.get(t);return n||new Set}randomCoor(e){return[Math.random()*e,Math.random()*e]}*searchTradeRoutes(e,t){const n=new tr.SortedTrie(kr);for(const[r,o]of this.getTradeRoutes()){const a=this.getCoor(r.getHomePlanet());for(const u of o){const o=this.getCoor(u.getHomePlanet());if(n.has([r,u]))continue;n.set([r,u],!0);switch(Object(tr.testLineSegmentCircleIntersect)(a,o,e,t)){case tr.IntersectionKind.Intersection:case tr.IntersectionKind.Tangent:yield{from:a,kind:i.RouteSegment,to:o}}}}}getDemandedProducts(e){return mr.getFlatDemandProducts(e.productType).union(e.getOpDemand().neededKinds)}calRouteFuelEff(){this.fleetFuelEff=this.fleetFuelEff.makeEmpty();for(const[e,t]of this.tradeRoutes)for(const n of t)this.fleetFuelEff.getOrSet([e,n],()=>(e.getPowerUsageEff(this)+n.getPowerUsageEff(this))/2)}nextId(){return++this.genId}colonizePlanetHelper(e,t=!0){const n=e.getHomePlanet();or(void 0!==this.locatableCoors.get(n)),this.colonies.push(e),n.colonized(e);const r=[ir.Food,ir.Drink,ir.Apparel,ir.Medicine,ir.Accessory,ir.Furniture,ir.Gadget,ir.Vehicle,ir.Fuel];for(const t of r)this.consumers[t].add(e);t&&this.calTradeRoutes()}addIndustryHelper(e){const t=e.colony;{let n=this.colonyIndustries.get(t);void 0===n&&(n=new Set,this.colonyIndustries.set(t,n)),n.add(e)}t.getPlayerInventory().addDemandSrc(e);for(const n of this.getDemandedProducts(e))this.consumers[n].add(t);this.downstreamConsumers=this.downstreamConsumers.makeEmpty()}addTradeFleetHelper(e){or(void 0!==this.locatableCoors.get(e));const[t,n]=e.getRoute();or(void 0!==t),or(void 0!==n);this.tradeFleets.getOrSet([t,n],()=>new Set).add(e)}}class Tr extends s.a{constructor(){super("gameDB"),this.version(1).stores({saveTable:",galaxySave,mapViewSave"})}async save(e){var t;const n=await(null===(t=this.saveTable)||void 0===t?void 0:t.put(e,0));if(void 0===n)throw new Error("cannot save game");return n}async getSave(){var e;return null===(e=this.saveTable)||void 0===e?void 0:e.get(0)}}class Cr{constructor(){this.galaxy=new Sr,this.db=new Tr,this.galaxy=new Sr,this.galaxyReadProxy=new Ir(this.galaxy),this.galaxyWriteProxy=new Ar(this.galaxy)}static async tryLoad(){const e=await(new Tr).getSave();return(new Cr).reload(e)}set onChange(e){this.galaxyWriteProxy.onChange=e}getReader(){return this.galaxyReadProxy}getWriter(){return this.galaxyWriteProxy}reload(e){let t=!0;if(e)try{this.galaxy=Sr.createFrom(e.galaxySave),t=!1}catch(e){this.galaxy=new Sr,this.galaxy.addPlanets(20,1)}else this.galaxy=new Sr,this.galaxy.addPlanets(20,1);return this.galaxyReadProxy=new Ir(this.galaxy),this.galaxyWriteProxy=new Ar(this.galaxy),{game:this,isNewGame:t}}serialize(){return{galaxySave:this.galaxy.serialize()}}async save(){const e=this.serialize();return this.db.save(e)}}class Ir{constructor(e){this.galaxy=e}exists(e){return this.galaxy.exists(e)}getFleetSpeed(e){return e.getSpeed(this.galaxy)}getCoor(e){return this.galaxy.getCoor(e)}searchNearbyObjs(e,t=0,n=0){return this.galaxy.searchNearbyObjs(e,t,n)}getTradeRoutes(){return this.galaxy.getTradeRoutes()}getObjs(){return this.galaxy.getObjs()}getAngle(e){return e.getAngle(this.galaxy)}getIndustries(e){return this.galaxy.tryGetIndustries(e)}prodCap(e){return e.prodCap(this.galaxy)}usedEnergy(e){return e.usedEnergy(this.galaxy)}getNumColonists(){return this.galaxy.getNumColonists()}growthRate(e){return e.growthRate(this.galaxy)}getTotalPowerUsage(e){return e.getTotalPowerUsage(this.galaxy)}getMoney(){return this.galaxy.getMoney()}canExpandPowerPlant(e){return e.canExpandPowerPlant(this.galaxy)}getPowerUsageEff(e){return e.getPowerUsageEff(this.galaxy)}getEnergyPrice(e){return e.getEnergyPrice(this.galaxy)}getGalacticDemands(e){return this.galaxy.getGalacticDemands(e)}getGalacticProdCap(e){return this.galaxy.getGalacticProdCap(e)}getGalacticSupplies(e){return this.galaxy.getGalacticSupplies(e)}tryGetPlanet(e){return this.galaxy.getObj(e,i.Planet)}getPlanet(e){const t=this.tryGetPlanet(e);if(!t)throw new rr("cannot find planet");return t}getNumUsedTraders(e,t){return this.galaxy.getNumUsedTraders(e,t)}getRouteFuelEff(e,t){return this.galaxy.getRouteFuelEff(e,t)}getNumUnusedTraders(){return this.galaxy.getNumUnusedTraders()}getYear(){return this.galaxy.getYear()}getDay(){return this.galaxy.getDay()}getScore(){return this.galaxy.getScore()}isRetired(e){return e.isRetire()}getNumColonizedPlanets(){return this.galaxy.getNumColonizedPlanets()}calCenter(){return this.galaxy.calCenter()}}class Ar{constructor(e){this.galaxy=e}triggerOnChange(){this.onChangeHandler&&this.onChangeHandler()}set onChange(e){if(this.onChangeHandler)throw new rr("onChangeHandler should only be set once");this.onChangeHandler=e}colonizePlanet(e,t){const n=this.galaxy.colonizePlanet(e,t);return this.triggerOnChange(),n}expandPowerPlant(e){e.expandPowerPlanet(this.galaxy),this.triggerOnChange()}withdraw(e){this.galaxy.withdraw(e),this.triggerOnChange()}shutdownIndustry(e,t){this.galaxy.shutdownIndustry(e,t),this.triggerOnChange()}addIndustry(e,t){const n=this.galaxy.addIndustry(e,t);return this.triggerOnChange(),n}addTradeFleet(e,t){const n=this.galaxy.addTradeFleet(e,t);return this.triggerOnChange(),n}addTrader(){const e=this.galaxy.addTrader();return this.triggerOnChange(),e}turn(){const e=this.galaxy.turn();return this.triggerOnChange(),e}retire(e){e.retire(),this.triggerOnChange()}}n(45);function Pr(){}const Or=a.a.createContext({game:new Cr,gameUpdateFlag:Symbol(),triggerGameUpdate:Pr}),Mr=({children:e,game:t})=>{const[n]=Object(o.useState)(t),[r,i]=Object(o.useState)(Symbol());function u(){i(Symbol(Date.now()))}return Object(o.useEffect)(()=>{n.onChange=u},[]),a.a.createElement(Or.Provider,{value:{game:n,gameUpdateFlag:r,triggerGameUpdate:u}},e)};const zr=a.a.createContext({period:0,isPaused:!1,togglePause:Pr,speedUp:Pr,slowDown:Pr}),jr=({children:e})=>{const[t,n]=Object(o.useState)(50),[r,i]=Object(o.useState)(!0);return a.a.createElement(zr.Provider,{value:{period:t,isPaused:r,togglePause:function(){i(!r)},speedUp:function(){var e;n((e=t,Math.max(20,e-20)))},slowDown:function(){var e;n((e=t,Math.min(100,e+20)))}}},e)};var Dr,Rr=n(3);!function(e){e[e.Fleet=0]="Fleet",e[e.ImportExport=1]="ImportExport",e[e.Planet=2]="Planet",e[e.Route=3]="Route",e[e.Selector=4]="Selector",e[e.Tutorial=5]="Tutorial"}(Dr||(Dr={}));const Nr=a.a.createContext({currentView:void 0,setCurrentView:Pr,closeView:Pr}),Fr=({children:e,isNewGame:t})=>{const[n,r]=Object(o.useState)(t?{kind:Dr.Tutorial,viewId:Symbol(Date.now())}:void 0);return a.a.createElement(Nr.Provider,{value:{closeView:function(e){or(!!n&&n.viewId===e),r(void 0)},currentView:n,setCurrentView:function(e){r({...e,viewId:Symbol(Date.now())})}}},e)},Ur=.3;let Br=50;function Lr(e){Br=e}let qr=[0,0];function Kr(e){qr=e}let Hr=document.createElement("canvas");function Wr(e){Hr=e}let Vr=void 0;function Qr(e){Vr=e}function Gr(e,t,n,r){e.arc(t,n,r,0,2*Math.PI)}function $r(e){e.moveTo(0,0),e.lineTo(5,20),e.lineTo(-5,20),e.closePath()}function Yr(){const e=document.getElementsByTagName("canvas").namedItem("map");if(!e)throw new Error("map canvas not setup properly");return e}var Xr=()=>{const{game:e,gameUpdateFlag:t}=Object(o.useContext)(Or),{setCurrentView:n}=Object(o.useContext)(Nr),r=e.getReader(),[u,s]=Object(o.useState)({});return Object(o.useEffect)(()=>{qr=e.getReader().calCenter()},[]),Object(o.useEffect)(()=>{const e=Yr(),t=new Rr.Manager(e),n=new Rr.Tap({event:"doubletap",taps:2}),r=new Rr.Tap({event:"singletap"}),i=(new Rr.Pan).set({direction:Rr.DIRECTION_ALL});t.add([new Rr.Pinch,n,r,i]),n.recognizeWith(r),r.requireFailure(n),t.on("singletap",h),t.on("doubletap",d),t.on("pinch",p),t.on("pan",f),e.addEventListener("wheel",p);const o=()=>{const t=document.body.clientWidth,n=document.body.clientHeight;e.width=t,e.height=n,Hr.width=t,Hr.height=n,Wr(l())};window.addEventListener("resize",o),o(),function e(){s({}),requestAnimationFrame(e)}()},[]),Object(o.useEffect)(()=>{console.log(t),Wr(l())},[t]),Object(o.useEffect)(()=>{!function(){void 0!==Vr&&(Vr(),Wr(l()));const e=Yr(),t=document.body.clientWidth,n=document.body.clientHeight,o=e.getContext("2d");if(!o)throw new Error("cannot create 2D graphics context");o.clearRect(0,0,t,n),o.drawImage(Hr,0,0),o.drawImage(function(){const[e,t]=function(){const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("cannot create context");return[e,t]}();e.width=document.body.clientWidth,e.height=document.body.clientHeight;const n=H(r.getObjs()).groupBy(([e])=>e.kind),o=()=>{const e=n.get(i.Fleet);if(!e)return;const o=e.values();t.save(),t.fillStyle="yellow",t.strokeStyle="yellow";for(const[e,n]of o){const[i,o]=m(n),a=e,u=r.getAngle(a);t.save(),t.beginPath(),t.translate(i,o),t.rotate(u),t.scale(.5,.5),$r(t),t.fill(),t.restore()}t.restore()};return(()=>{const e=n.get(i.Planet);if(!e){throw new Error("game generation should generate at least 1 planet")}const r=Array.from(e.values());const o=H(r).groupBy(([e])=>e.resource);t.save();t.fillStyle="yellow";t.strokeStyle="yellow";const a=Ur*Br;const u=(e,n)=>{const r=o.get(n);if(!r){or(false,"all planets should be distributed about evenly in terms of raw material types");return}const i=r.values();t.fillStyle=e;for(const[,e]of i){const[n,r]=m(e);t.beginPath();Gr(t,n,r,a);t.fill()}};u("green",ir.Crop);u("brown",ir.Metal);u("darkcyan",ir.Gem);u("orange",ir.Fuel);t.restore();t.fillStyle="yellow";t.textAlign="center";t.textBaseline="middle";const s=Math.ceil(Ur*Br);t.font=`${s}px sans-serif`;for(const[e,n]of r){const[r,i]=m(n);t.beginPath();t.fillText(`${e.id}`,r,i)}t.restore();t.strokeStyle="purple";t.lineWidth=2;for(const[e,n]of r){if(e.tryGetColony()!==undefined){t.beginPath();const[e,r]=m(n);Gr(t,e,r,a);t.stroke()}}t.restore()})(),o(),e}(),0,0)}()},[u]),a.a.createElement("canvas",{id:"map"});function l(){const t=Hr,n=t.getContext("2d");if(!n)throw new Error("cannot create context");n.clearRect(0,0,t.width,t.height),n.save(),n.lineWidth=1,n.strokeStyle="#494949";const r=(qr[0]*Br%Br+Br)%Br;for(let e=0;e<=t.width;e+=Br){const i=Math.ceil(e+r);n.beginPath(),n.moveTo(i+.5,.5),n.lineTo(i+.5,t.height+.5),n.stroke()}const i=(qr[1]*Br%Br+Br)%Br;for(let e=0;e<=t.height;e+=Br){const r=Math.ceil(e+i);n.beginPath(),n.moveTo(.5,r+.5),n.lineTo(t.width+.5,r+.5),n.stroke()}return n.restore(),function(t,n){const r=e.getReader(),i=r.getTradeRoutes();n.save(),n.lineWidth=1,n.strokeStyle="cyan";const o=new tr.SortedTrie(kr);for(const[e,t]of i)for(const i of t){const t=[e,i];if(o.has(t))continue;o.set(t,!0);const[a,u]=m(r.getCoor(e)),[s,l]=m(r.getCoor(i));n.beginPath(),n.moveTo(a,u),n.lineTo(s,l),n.stroke()}n.restore()}(t,n),t}function c(e,t){Qr(void 0);const n=v(e),r=v(t),i=Object(tr.subtract)(n,r);let o=Object(tr.norm)(i);Qr(()=>{const e=.02*o;let t;if(0===e)return;e<.01/Br?(Qr(void 0),t=o):(t=e,o-=e);const n=Object(tr.project)(i,t);Kr(Object(tr.add)(qr,n))})}function f(e){const t=g();c(t,Object(tr.add)(t,[e.deltaX,e.deltaY]))}function h(t){const r=e.getReader(),o=t.target.getBoundingClientRect(),a=v([t.center.x-o.left,t.center.y-o.top]),u=r.searchNearbyObjs(a,.3).toArray();switch(u.length){case 0:break;case 1:{const e=u[0];switch(e.kind){case i.Fleet:n({kind:Dr.Fleet,fleet:e});break;case i.Planet:n({kind:Dr.Planet,planet:e});break;case i.RouteSegment:n({kind:Dr.Route,route:e})}break}default:n({kind:Dr.Selector,objs:u})}}function d(e){const t=e.target.getBoundingClientRect(),n=[e.center.x-t.left,e.center.y-t.top];c(g(),n)}function p(e){Qr(void 0);const t=e.deltaY<0,n=y();let r=10;Qr(()=>{Lr(t?Math.min(300,Br+r):Math.max(50,Br-r)),Kr(function(e){const t=v(e),n=Object(tr.subtract)(y(),t);return Object(tr.add)(qr,n)}(m(n))),void 0!==Vr&&(r/=1.1,r<1&&Qr(void 0))})}function m([e,t]){const[n,r]=qr;return[(e+n)*Br,(t+r)*Br]}function v([e,t]){const[n,r]=qr;return[e/Br-n,t/Br-r]}function g(){const e=Yr();return[e.width/2,e.height/2]}function y(){return v(g())}};var Jr=()=>{const{game:e}=Object(o.useContext)(Or),{setCurrentView:t}=Object(o.useContext)(Nr),{isPaused:n,speedUp:r,slowDown:i,togglePause:u}=Object(o.useContext)(zr),s=e.getReader(),l=s.getMoney(),c=s.getNumColonists(),f=s.getNumUnusedTraders(),h=s.getDay(),d=s.getYear(),[p,m]=n?["Resume","play_arrow"]:["Pause","pause"];return a.a.createElement("div",{id:"menu"},a.a.createElement("div",{id:"stats"},a.a.createElement("div",{title:"The score is an indicator of how well your industrial empire performs. It is the average profit up to now, less your starting capital ((profit - starting cash)/time)."},"Score: ",s.getScore()),a.a.createElement("div",{title:"This is the cash reserve of your industrial empire. A negative cash reserve means loans with a 10% annual interest rate, compounded daily."},"Cash: $",l.toFixed(2)),a.a.createElement("div",{title:"Colonists are gained through population growth from planets that encourage colonist (checkbox). One colonist is needed to colonize a new planet."},"Colonist: ",c.toFixed(2)),a.a.createElement("div",{title:"Invest $10000 in a new trader. Traders transport goods between planets on the trade network."},"Trader: ",f.toFixed(2),a.a.createElement("button",{onClick:function(t){if(t.ctrlKey||window.confirm("Are you sure? This action costs $10000. (press ctrl while clicking the button suppresses this message)")){const t=e.getWriter();t.addTrader(),t.withdraw(1e4)}}},a.a.createElement("i",{className:"material-icons"},"add"))),a.a.createElement("div",null,"Day ",h,", Year ",d)),a.a.createElement("div",null,a.a.createElement("button",{title:"Import/Export save",onClick:()=>t({kind:Dr.ImportExport})},a.a.createElement("i",{className:"material-icons"},"import_export")),a.a.createElement("button",{title:"Save game",onClick:()=>e.save()},a.a.createElement("i",{className:"material-icons"},"save")),a.a.createElement("button",{title:"Slow down game speed",onClick:i},a.a.createElement("i",{className:"material-icons"},"fast_rewind")),a.a.createElement("button",{onClick:u,title:p},a.a.createElement("i",{className:"material-icons"},m)),a.a.createElement("button",{title:"Increase game speed",onClick:r},a.a.createElement("i",{className:"material-icons"},"fast_forward")),a.a.createElement("button",{title:"Open tutorial",onClick:()=>t({kind:Dr.Tutorial})},a.a.createElement("i",{className:"material-icons"},"help_outline"))))};var Zr=e=>o.createElement("div",{className:"panel-content"},e.children);var ei=({viewId:e,title:t})=>{const{closeView:n}=Object(o.useContext)(Nr);return a.a.createElement("div",{className:"titlebar"},t,a.a.createElement("span",null,a.a.createElement("i",{className:"material-icons",title:"Close this window",onClick:()=>n(e)},"close")))};var ti,ni=e=>o.createElement("div",{className:"panel"},e.children);!function(e){e[e.Industry=0]="Industry",e[e.Info=1]="Info",e[e.Market=2]="Market"}(ti||(ti={}));var ri=({colonize:e})=>{const{game:t}=Object(o.useContext)(Or),n=t.getReader().getNumColonists()<1;return a.a.createElement("tr",{title:"Spend 1 free colonist to colonize this planet. You can encourage growth from colonized planets."},a.a.createElement("td",{colSpan:2},a.a.createElement("button",{onClick:e,disabled:n},"Colonize")))};var ii=({colony:e})=>o.createElement("tr",{title:"This option locks the current population, and any growth on this planet will be transferred to the colonist pool. Since industrial production is not affected by population, encouraging colonists a great way to lock down power usage."},o.createElement("td",null,"Encourage Colonists?"),o.createElement("td",null,o.createElement("input",{checked:!e.lockPopulation(),type:"checkbox",onChange:t=>e.lockPopulation(!t.target.checked)})));var oi=({onClick:e})=>o.createElement("button",{title:"Invest $1000000 to build a new power plant, if you have the money. Just a reminder, you don't own any power plants; however, these power plants buy fuel from you.",onClick:e},"+");const ai=[ir.Food,ir.Drink,ir.Apparel,ir.Medicine].map(e=>ir[e]).join(", "),ui=[ir.Accessory,ir.Furniture,ir.Gadget,ir.Vehicle].map(e=>ir[e]).join(", "),si=cr.map(e=>ir[e]).join(", "),li=_n(lr()).subtract(cr).map(e=>ir[e]).join(", ");var ci=({growthRate:e})=>o.createElement("tr",{title:`Growth occurs when population consumes enough food; similarly starvation occurs when citizens lack food. Bonus growth is determined by 2 major factors: 1) citizens' satisfaction of basic [${ai}] and luxuary goods [${ui}], and 2) sufficient power supply.`},o.createElement("td",null,"Annual Growth"),o.createElement("td",null,e>0?"+":"",Math.round(100*e),"%"));var fi=({num:e,max:t})=>o.createElement("tr",{title:`A planet's population determines domestic consumption of basic goods [${ai}] and luxury goods [${ui}], which is one of the 2 ways that allow you to trade goods for money (the other way being supply fuel to power plants).`},o.createElement("td",null,"Population"),o.createElement("td",null,e.toFixed(2),"/",t));var hi=({industrialUsage:e,traderUsage:t,civUsage:n})=>o.createElement("fieldset",{title:"The consumer panel shows details about *POTENTIAL* energy consumption on this planet. If the planet has a shortage, energy will be distributed evenly with best effort."},o.createElement("legend",null,"Consumer"),o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",{title:"This is the maximum energy that your industrial complexes need."},o.createElement("td",null,"Industry"),o.createElement("td",null,e)),o.createElement("tr",{title:"This is the maximum energy that your traders need."},o.createElement("td",null,"Trader"),o.createElement("td",null,t)),o.createElement("tr",{title:"This is the maximum energy that the local population needs."},o.createElement("td",null,"Civilian"),o.createElement("td",null,n)))));var di=({powerPlanetLevel:e,fuelDemand:t,powerOutput:n,energyPrice:r})=>o.createElement("fieldset",{title:"The producer panel shows details about power plants of this planet."},o.createElement("legend",null,"Producer"),o.createElement("table",null,o.createElement("tbody",null,o.createElement("tr",{title:"This is the size of the power plant. Each level proportionally affects power output and fuel consumption -- the higher the level, the more power to be output and more fuel to be consumed."},o.createElement("td",null,"Power planet level"),o.createElement("td",null,e)),o.createElement("tr",{title:"Fuel demand is the quantity needed to run the power plants at 100% efficiency. This quantity is the same as what you see in the market for fuel demand."},o.createElement("td",null,"Fuel demand"),o.createElement("td",null,t)),o.createElement("tr",{title:"This is the actual power output of the power plants."},o.createElement("td",null,"Output"),o.createElement("td",null,n)),o.createElement("tr",{title:"This is how much 1 unit of energy is worth, subject to demand/supply. Both industries and civilians use power, so in the early game you might want to separate industrial planets and consumer planets."},o.createElement("td",null,"Unit price"),o.createElement("td",null,r.toFixed(2))))));var pi=({colony:e,expandPowerPlant:t})=>{const{game:n}=Object(o.useContext)(Or),r=n.getReader(),{industrialUsage:i,traderUsage:u,civUsage:s,totalUsage:l}=r.getTotalPowerUsage(e),c=e.getPopulation(),f=e.getMaxPop(),h=r.growthRate(e),d=e.getPowerPlanetLevel(),p=e.getFuelDemand(),m=e.getPowerOutput(),v=r.getEnergyPrice(e),g=e.getPowerOutput(),y=100*r.getPowerUsageEff(e);return a.a.createElement(a.a.Fragment,null,a.a.createElement(fi,{num:c,max:f}),a.a.createElement(ci,{growthRate:h}),a.a.createElement(ii,{colony:e}),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2,title:"Citizens and industrial complexes need power to be run efficiently. Ideally, you want to keep power surplus, so that the local colony and your industrial complexes can run at optimal efficiency."},a.a.createElement("span",null,"Usage: ",l,"/",g," (Eff.: ",y.toFixed(2),"%)"),a.a.createElement(oi,{onClick:t}),a.a.createElement(di,{powerPlanetLevel:d,fuelDemand:p,powerOutput:m,energyPrice:v}),a.a.createElement(hi,{industrialUsage:i,traderUsage:u,civUsage:s}))))};var mi=({x:e,y:t})=>o.createElement("tr",{title:"This is the coordinates of the planet."},o.createElement("td",null,"Coor"),o.createElement("td",null,"(",e.toFixed(2),",",t.toFixed(2),")"));var vi=({resource:e})=>o.createElement("tr",{title:"This is the type of resource that this planet can produce locally."},o.createElement("td",null,"Resource"),o.createElement("td",null,ir[e]));var gi=({planet:e})=>{const{game:t}=Object(o.useContext)(Or),n=t.getReader(),r=e.resource,[i,u]=n.getCoor(e),s=e.tryGetColony();return a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(vi,{resource:r}),a.a.createElement(mi,{x:i,y:u}),s?a.a.createElement(pi,{colony:s,expandPowerPlant:function(n){const r=t.getWriter();or(e.isColonized());const i=e.getColony();(n.ctrlKey||window.confirm(`Are you sure to invest in power planet at planet ${e.id}? This action costs $1000000. (press ctrl while clicking the button suppresses this message)`))&&(r.expandPowerPlant(i),r.withdraw(1e6))}}):a.a.createElement(ri,{colonize:function(){const n=t.getWriter();let r=1;0===t.getReader().getNumColonizedPlanets()&&(r=10),n.colonizePlanet(e,r)}})))};var yi=({colony:e})=>{const{game:t}=Object(o.useContext)(Or),n=t.getReader(),r=lr().map(t=>({demand:e.getDemand(t),globalDemands:n.getGalacticDemands(t),globalProdCap:n.getGalacticProdCap(t),globalSupply:n.getGalacticSupplies(t),price:e.getPrice(t),product:t,qty:e.getSupply(t)})).map(e=>a.a.createElement("tr",{key:e.product},a.a.createElement("td",null,e.product),a.a.createElement("td",null,ir[e.product]),a.a.createElement("td",null,e.price.toFixed(2)),a.a.createElement("td",null,e.qty),a.a.createElement("td",null,e.globalDemands),a.a.createElement("td",null,e.globalProdCap)));return a.a.createElement("table",{title:`The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap.\n\nThe galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap.\n\nSince you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [${ai}, ${ui}] and by power plants [${ir[ir.Fuel]}] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned.\n\nFinally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods.`},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Id"),a.a.createElement("th",null,"Goods"),a.a.createElement("th",null,"Price"),a.a.createElement("th",null,"Qty"),a.a.createElement("th",null,"Galactic Demand"),a.a.createElement("th",null,"Galactic ProdCap"))),a.a.createElement("tbody",null,r))};var bi=({colony:e,product:t})=>{const{game:n}=Object(o.useContext)(Or);return a.a.createElement("button",{onClick:r=>{if(r.ctrlKey||confirm("Are you sure? This action costs $10000, and will take up a building slot (max 2 per planet). (press ctrl while clicking the button suppresses this message)")){const r=n.getWriter();r.addIndustry(t,e),r.withdraw(1e4)}}},"+ Build")};var wi=({colony:e,industry:t})=>{const{game:n}=Object(o.useContext)(Or),r=n.getWriter();return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(e){if(e.shiftKey||e.ctrlKey||confirm("Are you sure? This action costs $10000 reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)"))if(e.shiftKey)for(let e=0;e<10;e++)t.upgrade(),r.withdraw(1e4);else t.upgrade(),r.withdraw(1e4)},title:"expand industry (increase scale by 1)"},"+"),a.a.createElement("button",{onClick:function(e){if(e.shiftKey||e.ctrlKey||window.confirm("Are you sure? This action costs $1000 reduces operational efficiency. (press ctrl while clicking the button suppresses this message, press shift for 10 times this operation)"))if(e.shiftKey)for(let e=0;e<10;e++)t.downSize(),r.withdraw(1e3);else t.downSize(),r.withdraw(1e3)},title:"down size (decrease scale by 1)"},"-"),a.a.createElement("button",{onClick:function(n){const i=1e3*t.getScale();(n.ctrlKey||window.confirm(`Are you sure? This action costs $${i} reduces operational efficiency. (press ctrl while clicking the button suppresses this message)`))&&(r.shutdownIndustry(e,t),r.withdraw(i))},title:"shut down (free up the industry slot)"},"X"))};var _i=({industry:e})=>{const{game:t}=Object(o.useContext)(Or),n=t.getReader(),r=e.getScale(),i=n.prodCap(e),u=100*e.getOperationalEff(),s=n.usedEnergy(e),l=e.getCostPerUnit();return a.a.createElement("div",null,a.a.createElement("div",{title:"Production scale is the size of your industrial complex. It determines production capacity and input consumption."},"Production Scale: ",r),a.a.createElement("div",{title:"Production capacity is the number of goods that the industrial complex can produce when running 100% efficiency and has enough input goods."},"Production Capacity: ",i),a.a.createElement("div",{title:`Operational efficiency determines prod cap and the fixed cost per unit. Industrial complexes that produce raw materials [${si}] need [${ir[ir.Tool]}] to increase eff, while secondary products [${li}] need [${ir[ir.Machine]}] to increase eff.`},"Operational Eff.: ",u.toFixed(2)),a.a.createElement("div",{title:"The amount of energy used by this industrial complex. The real cost is Energy Usage times Unit Price (found this in planet panel)."},"Energy Usage: ",s.toFixed(2)),a.a.createElement("div",{title:"Fixed cost the amount of money that is used to produce a unit of product; input materials & energy cost aren't included."},"Fixed Cost Per Unit: ",l))};const Ei=Et(lr().map(e=>{const t=fr.has(e),n=H(hr[e]).reduce((e,t)=>e.union(t),_n()).map(e=>ir[e]).join(", ");return[e,"Is "+(t?"RAW material":"SECONDARY product; consumes "+n)]})),xi=Et(cr.map(e=>{const t=lr().filter(t=>t===e||pr.has(t)||mr.getFlatDemandProducts(t).has(e)).sort();return[e,_n(t)]}));var ki=({colony:e})=>{const{game:t}=Object(o.useContext)(Or),n=t.getReader().getIndustries(e)||new Set,r=H(n).map(e=>e.productType).toSet(),i=e.getHomePlanet().resource,u=(2===n.size?r:nr(xi,i,"bug: resource not found in potential products")).sortBy(e=>ir[e]).map(t=>{const r=Object(tr.toIt)(n).filter(e=>e.productType===t).inject();return a.a.createElement("tr",{key:t},a.a.createElement("td",{title:Ei.get(t)},ir[t],void 0!==r?a.a.createElement(wi,{colony:e,industry:r}):void 0),a.a.createElement("td",null,void 0!==r?a.a.createElement(_i,{industry:r}):a.a.createElement(bi,{colony:e,product:t})))});return a.a.createElement("table",null,a.a.createElement("tbody",null,u))};var Si=({kind:e,planet:t,colony:n})=>{if(!n)return a.a.createElement(gi,{planet:t});switch(e){case ti.Market:return a.a.createElement(yi,{colony:n});case ti.Info:return a.a.createElement(gi,{planet:t});case ti.Industry:return a.a.createElement(ki,{colony:n});default:throw new rr}};var Ti,Ci=({viewId:e,planet:t})=>{const[n,r]=Object(o.useState)(ti.Info),i=t.tryGetColony();return a.a.createElement(ni,null,a.a.createElement(ei,{viewId:e,title:"Planet "+t.id}),i?a.a.createElement("nav",{className:"tabs"},a.a.createElement("div",{onClick:()=>r(ti.Info)},"Planet"),a.a.createElement("div",{onClick:()=>r(ti.Market)},"Market"),a.a.createElement("div",{onClick:()=>r(ti.Industry)},"Industry")):void 0,a.a.createElement(Zr,null,a.a.createElement(Si,{kind:n,planet:t,colony:i})))};!function(e){e[e.Cargo=0]="Cargo",e[e.Route=1]="Route"}(Ti||(Ti={}));class Ii extends o.Component{render(){const e=this.props.fleet,t=H(e.getCargo().getAllQty()).filter(([e])=>e>0).map(([e,t])=>o.createElement("tr",{key:e},o.createElement("td",null,ir[e]),o.createElement("td",null,t)));return o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Product Type"),o.createElement("th",null,"Qty"))),o.createElement("tbody",null,t))}}var Ai=({fleet:e,game:t})=>{const n=t.getReader(),r=e.getRoute(),i=e.getRouteAt(),a=e.getRoute().map(e=>{const t=e.getHomePlanet(),[a,u]=n.getCoor(t),s=`Planet ${t.id} - (${a.toFixed(2)},${u.toFixed(2)})`,l=r[i]===e?o.createElement("i",{className:"material-icons"},"check"):void 0;return o.createElement("tr",{key:s},o.createElement("td",null,s),o.createElement("td",null,l))});return o.createElement("table",null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Place"),o.createElement("th",null,"Dest"))),o.createElement("tbody",null,a))};var Pi=({viewId:e,fleet:t})=>{const{game:n}=Object(o.useContext)(Or),{closeView:r}=Object(o.useContext)(Nr),i=n.getReader(),a=i.getFleetSpeed(t).toFixed(2);return o.createElement("div",null,o.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},o.createElement("legend",null,"General"),o.createElement("div",{title:"The speed indicates how far the trader is going to move per day."},"Speed: ",a),o.createElement("button",{disabled:i.isRetired(t),onClick:function(){n.getWriter().retire(t),r(e)},title:"The trader will return to the trader pool and to be reassigned."},"Retire trader")),o.createElement("fieldset",{title:"This table shows a list of places that the trader is going to trader. Dest means the trader is heading towards that place."},o.createElement("legend",null,"Route"),o.createElement(Ai,{fleet:t,game:n})))};var Oi=({viewId:e,kind:t,fleet:n})=>{switch(t){case Ti.Route:return a.a.createElement(Pi,{viewId:e,fleet:n});case Ti.Cargo:return a.a.createElement(Ii,{fleet:n});default:throw new rr}};var Mi=({viewId:e,fleet:t})=>{const[n,r]=Object(o.useState)(Ti.Route);return o.createElement(ni,null,o.createElement(ei,{viewId:e,title:"Trader "+t.id}),o.createElement(Zr,null,o.createElement("nav",{className:"tabs"},o.createElement("div",{onClick:()=>r(Ti.Route)},"Route"),o.createElement("div",{onClick:()=>r(Ti.Cargo)},"Cargo")),o.createElement(Oi,{viewId:e,kind:n,fleet:t})))},zi=n(8),ji=n.n(zi);function Di(e){const t=JSON.stringify(e.serialize()),n=JSON.stringify({json:t,len:t.length});return ji.a.compressToBase64(n)}var Ri=({viewId:e})=>{const{game:t}=Object(o.useContext)(Or),{setCurrentView:n}=Object(o.useContext)(Nr),[r,i]=Object(o.useState)(Di(t)),u=Object(o.createRef)();return a.a.createElement(ni,null,a.a.createElement(ei,{viewId:e,title:"Import/Export Save"}),a.a.createElement("textarea",{spellCheck:!1,cols:45,rows:30,value:r,onChange:e=>i(e.target.value),onClick:e=>e.stopPropagation(),ref:u}),a.a.createElement("div",null,a.a.createElement("button",{onClick:()=>i("")},"Clear"),a.a.createElement("button",{onClick:async function(){t.reload(function(e){const t=ji.a.decompressFromBase64(e);if(!t)throw new Error("cannot decompress save data");const n=JSON.parse(t);if(n&&Number.isSafeInteger(n.len)&&"string"==typeof n.json&&n.len===n.json.length)return JSON.parse(n.json);throw new Error("not a valid save")}(r)),await t.save()}},"Import"),a.a.createElement("button",{onClick:function(){var e;null===(e=u.current)||void 0===e||e.select(),document.execCommand("Copy")}},"Copy"),a.a.createElement("button",{onClick:()=>i(Di(t))},"Refresh"),a.a.createElement("button",{onClick:async function(){window.confirm("Are you sure?")&&(t.reload(),await t.save(),n({kind:Dr.Tutorial}))}},"Restart Game")))};function Ni(e,t){const n=e.getReader(),r=n.getPlanet(t.from),i=n.getPlanet(t.to);return r.id<i.id?`Route (${Fi(r.id,i.id)})`:`Route (${Fi(i.id,r.id)})`}function Fi(e,t){return`${e} ⇆ ${t}`}var Ui=({viewId:e,route:t})=>{const{game:n}=Object(o.useContext)(Or),r=n.getReader(),i=n.getWriter(),u=r.getPlanet(t.from);or(u.isColonized());const s=r.getPlanet(t.to);or(s.isColonized());const{low:l,high:c}=u.id<s.id?{low:u,high:s}:{low:s,high:u},f=l.id,h=c.id,d=l.getColony(),p=c.getColony(),m=r.getNumUsedTraders(d,p),v=Math.round(100*r.getRouteFuelEff(d,p)),g=0===r.getNumUnusedTraders();return a.a.createElement(ni,null,a.a.createElement(ei,{viewId:e,title:Ni(n,t)}),a.a.createElement(Zr,null,a.a.createElement("fieldset",null,a.a.createElement("legend",null,"General"),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",{title:"This is the number of traders who trade in this trade lane."},a.a.createElement("td",null,"#Traders"),a.a.createElement("td",null,m)),a.a.createElement("tr",{title:"Fuel efficiency determines how fast spaceships can travel due to extra fuel usage."},a.a.createElement("td",null,"Fuel Eff."),a.a.createElement("td",null,v+"%"))))),a.a.createElement("fieldset",{title:"If you have a free trader, you can add the trader to this lane, transferring goods for you. If you don't have a free trader, you can either buy one from the top menu bar or can free one by retiring a trader from the trader screen."},a.a.createElement("legend",null,"Add Routes"),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,Fi(f,h)),a.a.createElement("td",null,a.a.createElement("button",{onClick:()=>i.addTradeFleet(d,p),disabled:g},"+"))),a.a.createElement("tr",null,a.a.createElement("td",null,Fi(h,f)),a.a.createElement("td",null,a.a.createElement("button",{onClick:()=>i.addTradeFleet(p,d),disabled:g},"+"))))))))};var Bi=a.a.memo(({viewId:e,objs:t})=>{or(t.length>0);const{game:n}=Object(o.useContext)(Or),{setCurrentView:r}=Object(o.useContext)(Nr),u=Object(o.useMemo)(()=>t.map(e=>{let t;switch(e.kind){case i.Fleet:{const n=e;t={label:"Trader "+n.id,color:"yellow",click(){r({kind:Dr.Fleet,fleet:n})}}}break;case i.Planet:{const n=e;t={label:"Planet "+n.id,color:"green",click(){r({kind:Dr.Planet,planet:n})}}}break;case i.RouteSegment:{const i=e;t={label:""+Ni(n,i),color:"darkcyan",click(){r({kind:Dr.Route,route:i})}}}break;default:throw new rr}const{label:o,color:u,click:s}=t;return a.a.createElement("div",{className:"selectLabel",key:o,style:{color:u},onClick:s},o)}),[t]);return a.a.createElement(ni,null,a.a.createElement(ei,{viewId:e,title:"Which One?"}),a.a.createElement(Zr,null,u))},()=>!0);var Li=({viewId:e})=>o.createElement(ni,null,o.createElement(ei,{viewId:e,title:"Tutorial"}),o.createElement(Zr,null,o.createElement("h2",null,"Getting Started"),o.createElement("p",null,"Hello. ",o.createElement("b",null,"The game is paused whenever the game is loaded.")," Follow this section and then unpause the game with the unpause button, which is located on the top-left side of the window."),o.createElement("p",null,"First, try to control the viewport by panning and pinching, or click-and-drag and zooming if you are playing on a PC."),o.createElement("p",null,"Your first step is to colonize a food-producing (green) planet as your starting planet. Choose carefully because the first colony has a starting population of 10, and subsequent colonies will have a starting population of 1. After you're done, mouse over to the user interface, like labels,buttons, tables, and read the tooltips about game concepts. Feel free to click on any colored items on the map, as they are interactive."),o.createElement("h2",null,"Goal of The Game"),"You are the boss of a galactic corporation. Like all corporations, your only goal is to maximize profit through selling products to consumers. As the boss, you can decide the company's funding in several ways.",o.createElement("ul",null,o.createElement("li",null,"Fund colonial ventures, control population growth"),o.createElement("li",null,"Buy, expand, or destroy industrial buildings"),o.createElement("li",null,"Hire traders and set up their routes"),o.createElement("li",null,"Fund power plants, which are public buildings that are owned by local governments.")),o.createElement("h2",null,"Economy"),o.createElement("p",null,"The market determines local price by demand & supply. Looking at the big picture, you want to make sure the market reaches equilibrium by matching up the galactic demand and the galactic production cap."),o.createElement("p",null,"The galactic production cap is a potential quantity that the entire galaxy can produce. However, if your industrial complexes lack input resource, they might produce goods at a lower quantity than the prod cap."),o.createElement("p",null,"Since you are the only player in the galaxy, the only way to earn money is to sell goods that are consumed by citizens [",ai,","," ",ui,"] and by power plants [",ir[ir.Fuel],"] -- other intermediate goods are merely transferred to your industry by your traders, e.g. when you trader sells a unit of Crop, your industry will buy it back, so no money is earned."),o.createElement("p",null,"Finally, you want to overproduce goods that are used to maintain civilian & industrial growth [Food, Fuel, Tool, Machine], instead of maintaining equilibrium. Your real cash cows are luxury goods [",ui,"]."),o.createElement("h2",null,"Logistics"),"The galactic trade network is created by traders, which is a collection of trade routes that connect every colonized planets with minimum distance (i.e. minimum spanning tree). While you don't control traders, you can assign them to a route (a path that connects 2 plannets) of the network. If a plannet has excess goods that other planets need, traders will transport goods to those planets.",o.createElement("h2",null,"Planet Specialization"),"Planets can't be both consumers and producers, because both populations and factories use energy and therefore drive up energy price. It is possible to fund new power plants, but very costly. Thus, controlling opulation growth (see a checkbox under the planet panel) is necessary to turn planets into either dedicated ",o.createElement("b",null,"consumers")," (high population, low production, pay a lot for consumable goods due to demand) or dedicated ",o.createElement("b",null,"producers")," (low population, high production, produce goods at cheap price)."));var qi=()=>{const{currentView:e}=Object(o.useContext)(Nr);if(!e)return null;const{viewId:t}=e;switch(e.kind){case Dr.ImportExport:return a.a.createElement(Ri,{viewId:t});case Dr.Fleet:{const{fleet:n}=e;return a.a.createElement(Mi,{viewId:t,fleet:n})}case Dr.Planet:{const{planet:n}=e;return a.a.createElement(Ci,{viewId:t,planet:n})}case Dr.Route:{const{route:n}=e;return a.a.createElement(Ui,{viewId:t,route:n})}case Dr.Selector:{const{objs:n}=e;return a.a.createElement(Bi,{viewId:t,objs:n})}case Dr.Tutorial:return a.a.createElement(Li,{viewId:t});default:throw new rr}};var Ki=()=>{const{game:e,triggerGameUpdate:t}=Object(o.useContext)(Or),{isPaused:n,period:r}=Object(o.useContext)(zr),[i,u]=Object(o.useState)({}),[s,l]=Object(o.useState)(void 0);return Object(o.useEffect)(()=>{window.clearInterval(s);const e=window.setInterval(()=>{u({})},r);l(e)},[r]),Object(o.useEffect)(()=>{if(!n){e.getWriter().turn()&&t()}},[i]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Jr,null),a.a.createElement(Xr,null),a.a.createElement(qi,null))};Cr.tryLoad().then(({game:e,isNewGame:t})=>{Object(u.render)(o.createElement(Fr,{isNewGame:t},o.createElement(jr,null,o.createElement(Mr,{game:e},o.createElement(Ki,null)))),document.getElementById("root"))})}]);
//# sourceMappingURL=main.0aa4cdd2193f28205168.js.map